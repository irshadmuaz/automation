(function(){angular.module("ecw.loadTodoDependency",['oc.lazyLoad']).service('todoDependencyService',function($ocLazyLoad,$injector,$http){let toDoSharedService,toDoService;let commonFiles=['/mobiledoc/jsp/webemr/toppanel/prisma/js/util/prisma-app-util.js','/mobiledoc/jsp/webemr/toppanel/prisma/js/prisma-app-service.js','/mobiledoc/jsp/webemr/healowPlus/todolist/shared/shared.service.js','/mobiledoc/jsp/webemr/healowPlus/todolist/components/todo-container/js/todolist.service.js'];return{loadClinicalTodo:loadClinicalTodo,loadPrismaTodo:loadPrismaTodo,loadToDoService:loadToDoService,loadToDoSharedService:loadToDoSharedService};function loadClinicalTodo(){loadFiles([...commonFiles,...['/mobiledoc/jsp/webemr/menu/file/enterpriseDirectory/js/toaster.js','/mobiledoc/jsp/webemr/menu/file/enterpriseDirectory/css/toaster.css','/mobiledoc/jsp/webemr/toppanel/prisma/js/pami/service/prismaImportDirective-service.js','/mobiledoc/jsp/webemr/toppanel/prisma/js/pami/directive/prismaImportDirective-tpl.js','/mobiledoc/jsp/webemr/progressnotes/assessment/assessment-import-module.js','/mobiledoc/jsp/webemr/healowPlus/todolist/components/counts/todolist-btn-with-count.directive.js','/mobiledoc/jsp/webemr/healowPlus/todolist/clinical/add-to-chart-todolist.service.js','/mobiledoc/jsp/webemr/healowPlus/todolist/clinical/add-to-chart-todolist.directive.js']])}async function loadPrismaTodo(){let appName=!await isHealowPlusContext()?'todo-ci':'todo-standalone-app';if(isEnabled()){loadFiles(loadTodoPanelDependencies(appName))}}function isEnabled(){return!isVb()&&isTodoPaneEnabled()}function loadFiles(filesToLoad){if(isEnabled()){$ocLazyLoad.load({name:'todoModuleFiles',files:filesToLoad}).then(function(){},function(e){ecwAlert("Something went wrong loading Todo, please try again later.")})}}async function loadToDoService(){if(toDoService){return toDoService}return loadService("todoListService")}async function loadToDoSharedService(){if(toDoSharedService){return toDoSharedService}return loadService("todolistSharedService")}async function loadService(name){return $ocLazyLoad.load({name:'toDoServiceDependency',files:commonFiles,serie:true,cache:true}).then(function(){toDoSharedService=$injector.get("todolistSharedService");toDoService=$injector.get("todoListService");return"todoListService"===name?toDoService:toDoSharedService})}async function isHealowPlusContext(){let contextObj=await getHealowPlusContext();return contextObj?.data?.data}async function getHealowPlusContext(){return await $http({method:"GET",url:`/mobiledoc/chat/chatDaemon/isHealowPlusAccess`})}})})();