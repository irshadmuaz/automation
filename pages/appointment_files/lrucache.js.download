function lru(limit,storagekey){try{this.storagekey=storagekey;var lruObj=sessionStorage.getItem(this.storagekey);if(lruObj==null){this.size=0;!isNaN(parseInt(limit))?this.limit=parseInt(limit):this.limit=10;this.map=[];sessionStorage.setItem(storagekey,JSON.stringify(new lru.prototype.getLRUObject(this)))}else{lruObj=JSON.parse(lruObj);this.size=lruObj.size;this.limit=lruObj.limit;this.map=lruObj.map}}catch(e){}}lru.prototype.getLRUObject=function(thislru){var lruObject=new Object;lruObject.size=thislru.size;lruObject.map=thislru.map;lruObject.limit=thislru.limit;return lruObject};lru.prototype.lrunode=function(key,value){if(typeof key!="undefined"&&key!==null){this.key=key}if(typeof value!="undefined"&&value!==null){this.value=value}};lru.prototype.setHead=function(node){this.map.push(node);this.size++};lru.prototype.set=function(key,value){try{var node=new lru.prototype.lrunode(key,value);if(this.isContainKey(key)){var idx=this.getKeyIndex(key);this.map[idx].value=node.value;this.remove(idx);this.setHead(node)}else{if(this.size>=this.limit){this.remove(0)}this.setHead(node)}sessionStorage.setItem(this.storagekey,JSON.stringify(new lru.prototype.getLRUObject(this)))}catch(e){}};lru.prototype.get=function(key){try{if(this.isContainKey(key)){var idx=this.getKeyIndex(key);var value=this.map[idx].value;var node=new lru.prototype.lrunode(key,value);this.remove(idx);this.setHead(node);sessionStorage.setItem(this.storagekey,JSON.stringify(new lru.prototype.getLRUObject(this)));return value}else{return null}}catch(e){return null}};lru.prototype.isContainKey=function(key){var isContain=false;for(var i=0;i<this.map.length;i++){var obj=this.map[i];if(key===obj.key){isContain=true;break}}return isContain};lru.prototype.getKeyIndex=function(key){var idx=-1;for(var i=0;i<this.map.length;i++){var obj=this.map[i];if(key===obj.key){idx=i;break}}return idx};lru.prototype.remove=function(idx){this.map.splice(idx,1);this.size--};lru.prototype.removeAll=function(limit){this.size=0;this.map=[];if(typeof limit=="number"){this.limit=limit}};