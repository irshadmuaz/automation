var fileImports=['/mobiledoc/jsp/webemr/js/jsFunctions.js'];for(var i=0;i<fileImports.length;i++){var importScript=document.createElement('script');importScript.src=fileImports[i];var head=document.head||document.getElementsByTagName("head")[0];head.appendChild(importScript)}var showIPConfirmation=function(messageJson,handler,alert,dataElemName){const MainProjElem=getProjMainElm();let theme='orangetheme';if(messageJson&&messageJson.theme==='blue'){theme='bluetheme'}if(!alert){alert=false}if(!dataElemName){dataElemName='data element'}const title='Warning - Changing Data In Use';const isAlert=alert;return $(MainProjElem).injector().invoke(function($modal,$rootScope){let modalScope=$rootScope.$new();let ConfirmationModalController=function($scope){$scope.collapsed=true;$scope.isAlert=isAlert;$scope.ok=function(){$scope.modalInstance.close('ok');if($.isFunction(handler)){handler('ok')}};$scope.cancel=function(){$scope.modalInstance.close();setTimeout(function(){if($.isFunction(handler)){handler('cancel')}})}};modalScope.modalInstance=$modal.open({animation:true,backdrop:"static",controller:ConfirmationModalController,scope:modalScope,keyboard:false,template:'<div class="modal-header"> <div class="alert-white icon mr5 pull-left"></div><div><h4 class="modal-title">'+title+'</h4></div></div>'+'<div class="modal-body" style="padding: 0 10px">'+'<div ng-if="!isAlert">'+'<div>'+'<p class="pad5"><strong>'+messageJson.message1+'</strong></p>'+'</div>'+'<div class="panelsection">'+'<div id="cmc-more-details-body" class="panel-collapse collapse">'+'<div class="panelbody">'+'<div class="col-list nobackgrnd">'+'<ul class="normallist">'+'<div>'+'<p class="pad5"><strong>'+messageJson.message2+'</strong></p>'+'</div>'+'</ul>'+'</div>'+'</div>'+'</div>'+'</div>'+'</div>'+'<div ng-if="isAlert"><p class="pad5"><strong>'+dataElemName+'</strong></p></div>'+'</div>'+'<div class="modal-footer">'+'<div ng-if="!isAlert">'+'<span onclick="$(this).find(\'em\').toggleClass(\'collapsed\')" ng-click="collapsed = !collapsed" data-toggle="collapse"  data-target="#cmc-more-details-body" aria-expanded="true">'+'<em style="top: 5px;" class="icon more-details-up-down pull-left collapsed" data-toggle="collapse"  data-target="#cmc-more-details-body" aria-expanded="true"></em>'+'<span class="pull-left"><strong>{{ collapsed ? \'Show\': \'Hide\'}} Details</strong></span>'+'</span>'+'</div>'+'<button ng-if="!isAlert" type="button" class="btn btn-blue btn-xs" data-dismiss="modal" ng-click="ok()">OK</button>'+'<button type="button" class="btn btn-lgrey btn-xs" data-dismiss="modal" ng-click="cancel()">{{ isAlert ? \'Close\': \'Cancel\' }}</button>'+'</div>',windowClass:theme+' confirm-msg-dialog'});return modalScope.modalInstance.result})};var showIPAlert=function(message,theme){showIPConfirmation({theme:theme},null,true,message)};var showPNConfirmation=function(name,fieldName,theme,handler){let meassge1="There are past encounters, or 3rd party questionnaires associated with this data element. Editing it will affect all unlocked encounters.<br/><br/>"+"If you do not want to make changes to "+escapeHtml(name)+", then please select the 'Cancel' button.<br/><br/>"+"If you are certain this edit will not delete or otherwise impact any existing patient data, click 'OK' to continue.";let meassge2="This change will be applied to any unlocked Progress Notes, open Telephone/Web Encounter Virtual Visits, Templates, ICW, Patient Hub and Questionnaires associated with this element.<br/><br/>"+"This change will not update the "+fieldName+" Name in locked Progress Notes. This can change the meaning of the data in the element where the data was documented. This could further lead to inaccurate interpretation when looking in other areas of the Patient's Chart such as their list of Labs or Medical Record when compared to previously locked Progress Notes.";let messageJson={message1:meassge1,message2:meassge2,theme:theme};return showIPConfirmation(messageJson,handler)};var showPNConfirmation2=function(name,fieldName,theme,handler,section,addlMsg){let meassge1="There are past encounters, or 3rd party questionnaires associated with this data element. Editing it will affect all unlocked encounters.<br/><br/>";if(addlMsg&&section==='Examination'){meassge1+=addlMsg+"<br/><br/>"}meassge1=meassge1+"If you do not want to make changes to "+escapeHtml(name)+", then please select the 'Cancel' button.<br/><br/> If you are certain this edit will not delete or otherwise impact any existing patient data, click 'OK' to continue.";let meassge2="This change will be applied to any unlocked Progress Notes, open Telephone/Web Encounter Virtual Visits, Templates, ICW, Patient Hub and Questionnaires associated with this element.<br/><br/>"+"This change will not update the "+fieldName+" Name in locked Progress Notes. This can change the meaning of the data in the element where the data was documented. This could further lead to inaccurate interpretation when looking in other areas of the Patient's Chart such as their list of Labs or Medical Record when compared to previously locked Progress Notes.";let messageJson={message1:meassge1,message2:meassge2,theme:theme};return showIPConfirmation(messageJson,handler)};