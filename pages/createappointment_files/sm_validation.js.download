function trimAll(str){var objRegExp=/^(\s*)$/;if(objRegExp.test(str)){str=str.replace(objRegExp,'');if(str.length==0)return str}objRegExp=/^(\s*)([\W\w]*)(\b\s*$)/;if(objRegExp.test(str)){str=str.replace(objRegExp,'$2')}return str}function isValidChar_Ctrl(CtrlName){var zxct1=document.getElementById(CtrlName);var str=zxct1.value;str=trimAll(str);if(str=="")return false;else{var filter1=/<script>/;if(filter1.test(str)){alert("Your message cannot be accepted because of security concerns. Please enter a valid data.");zxct1.focus();return false}var filter=/^([\s\w_\.\-\.\,\=\%\@\#\;\?\*\>\<\:\}\{\)\(\$\&\!\/\^\~\`\]\[\"\'\\])+$/;if(filter.test(str)){return true}else{alert("Please enter a valid characters.\nSome of the special characters are not accepted.");zxct1.focus();return false}}}function selStatus(index,category,itemId,PtId){var element="";if(category=='Rx')element="orderRxIndicators"+index;if(category=='Lab')element="orderLabIndicators"+index;if(category=='DI')element="orderDIIndicators"+index;if(category=='Proc')element="orderProcIndicators"+index;if(category=='Imm')element="orderImmIndicators"+index;if(category=='SF')element="orderSFIndicators"+index;var box=document.getElementById(element);var val=box.options[box.selectedIndex].value;document.forms[0].SelElementStatus.value=val}var dtCh="/";var minYear=1900;var maxYear=2100;function isInteger(s){var i;for(i=0;i<s.length;i++){var c=s.charAt(i);if(c<"0"||c>"9")return false}return true}function stripCharsInBag(s,bag){var i;var returnString="";for(i=0;i<s.length;i++){var c=s.charAt(i);if(bag.indexOf(c)==-1)returnString+=c}return returnString}function daysInFebruary(year){return year%4==0&&(!(year%100==0)||year%400==0)?29:28}function DaysArray(n){var arrayL=new Array(n);for(var i=1;i<=n;i++){arrayL[i]=31;if(i==4||i==6||i==9||i==11){arrayL[i]=30}if(i==2){arrayL[i]=29}}return arrayL}function isDate(CtrlName){var zxct1=document.getElementById(CtrlName);if(zxct1!=null){var dtStr=zxct1.value;var daysInMonth=DaysArray(12);var pos1=dtStr.indexOf(dtCh);var pos2=dtStr.indexOf(dtCh,pos1+1);var strMonth=dtStr.substring(0,pos1);var strDay=dtStr.substring(pos1+1,pos2);var strYear=dtStr.substring(pos2+1);var strYr=strYear;if(strDay.charAt(0)=="0"&&strDay.length>1)strDay=strDay.substring(1);if(strMonth.charAt(0)=="0"&&strMonth.length>1)strMonth=strMonth.substring(1);for(var i=1;i<=3;i++){if(strYr.charAt(0)=="0"&&strYr.length>1)strYr=strYr.substring(1)}var month=parseInt(strMonth);var day=parseInt(strDay);var year=parseInt(strYr);if(pos1==-1||pos2==-1){alert("Please enter date in mm/dd/yyyy format");zxct1.focus();return false}if(strMonth.length<1||month<1||month>12){alert("Please enter a valid month");zxct1.focus();return false}if(strDay.length<1||day<1||day>31||month==2&&day>daysInFebruary(year)||day>daysInMonth[month]){alert("Please enter a valid day");zxct1.focus();return false}if(strYear.length!=4||year==0||year<minYear||year>maxYear){alert("Please enter a valid 4 digit year between "+minYear+" and "+maxYear);zxct1.focus();return false}if(dtStr.indexOf(dtCh,pos2+1)!=-1||isInteger(stripCharsInBag(dtStr,dtCh))==false){alert("Please enter a valid date");zxct1.focus();return false}return true}else{var currVal=CtrlName;if(currVal.match(/^\d{4}-((0\d)|(1[012]))-(([012]\d)|3[01])$/)){return true}else{return false}}}function isMthYear(CtrlName){var zxct1=document.getElementById(CtrlName);var dtStr=zxct1.value;var daysInMonth=DaysArray(12);var pos1=dtStr.indexOf(dtCh);var strMonth=dtStr.substring(0,pos1);var strYear=dtStr.substring(pos1+1);var strYr=strYear;if(trimAll(dtStr)==""){return true}if(strMonth.charAt(0)=="0"&&strMonth.length>1)strMonth=strMonth.substring(1);for(var i=1;i<=3;i++){if(strYr.charAt(0)=="0"&&strYr.length>1)strYr=strYr.substring(1)}var month=parseInt(strMonth);var year=parseInt(strYr);if(pos1==-1){alert("Please enter date in mm/yyyy format format");zxct1.focus();return false}if(strMonth.length<1||month<1||month>12){alert("Please enter a valid month");zxct1.focus();return false}if(strYear.length!=4||year==0||year<minYear||year>maxYear){alert("Please enter a valid 4 digit year between "+minYear+" and "+maxYear);zxct1.focus();return false}if(dtStr.indexOf(dtCh,pos1+1)!=-1||isInteger(stripCharsInBag(dtStr,dtCh))==false){alert("Please enter a date in mm/yyyy format ");zxct1.focus();return false}return true}function isYear(CtrlName){var zxct1=document.getElementById(CtrlName);var strYear=zxct1.value;var strYr=strYear;if(trimAll(strYear)==""){return true}for(var i=1;i<=3;i++){if(strYr.charAt(0)=="0"&&strYr.length>1)strYr=strYr.substring(1)}var year=parseInt(strYr);if(strYear.length!=4||year==0||year<minYear||year>maxYear){alert("Please enter a valid 4 digit year between "+minYear+" and "+maxYear);zxct1.focus();return false}return true}function isValidNumber(CtrlName){var zxct1=document.getElementById(CtrlName);var strNum=zxct1.value;var strYr=strNum;if(isInteger(strNum)){return true}else{alert("Please enter a valid number");zxct1.focus();return false}}var counter=0;var zxcv;var zxctArr;if(!zxctArr){zxctArr=new Array}function restoreArrayElements(){var zxcv_curr=0;zxccbs=document.getElementsByTagName('INPUT');for(zxc0=0;zxc0<zxccbs.length;zxc0++){if(zxccbs[zxc0].type=='checkbox'&&zxccbs[zxc0].checked){zxccbs[zxc0].set=true;zxctArr[zxctArr.length]=zxccbs[zxc0]}}}function f6_OneCheckBox(){for(f6_0=0;f6_0<f6_cbs.length;f6_0++){if(f6_cbs[f6_0].title.substring(0,3)=='f6_'){f6_cbs[f6_0].onclick=function(){f6_CheckOnlyOne(this)}}}}function f6_CheckOnlyOne(f6_){f6_cbs=document.getElementsByTagName('INPUT');for(f6_0=0;f6_0<f6_cbs.length;f6_0++){if(f6_cbs[f6_0].title==f6_.title&&f6_cbs[f6_0]!=f6_){f6_cbs[f6_0].checked=false}}}function zxcSubTotal(obj,id,tid,sev1,sev2,strSex){var zxct1=document.getElementById(sev1);var zxct2=document.getElementById(sev2);zxct1.checked=false;zxct2.checked=false;var zxct=document.getElementById(tid);zxccbs=obj.getElementsByTagName('INPUT');for(zxc0=0;zxc0<zxccbs.length;zxc0++){if(zxccbs[zxc0].type=='checkbox'&&zxccbs[zxc0].checked){if(!zxccbs[zxc0].set){zxccbs[zxc0].set=true;zxctArr[zxctArr.length]=zxccbs[zxc0]}}}if(counter<=0){zxcv=0}counter++;var zxcv_curr=0;for(zxc1=0;zxc1<zxctArr.length;zxc1++){if(zxctArr[zxc1].checked){zxcv_curr+=parseFloat(zxctArr[zxc1].value)-1}}var iTotal=zxcv_curr;zxct.value=iTotal;if(strSex=="male"){if(iTotal>=4)zxct1.checked=true;else zxct2.checked=true}else if(strSex=="female"){if(iTotal>=3)zxct1.checked=true;else zxct2.checked=true}}function showDetails(rowName,rootName){var rLength=rootName.length;var rNo;var rN_cbs=document.getElementsByTagName('TR');var iN_cbs=document.getElementsByTagName('input');for(rNo=0;rNo<rN_cbs.length;rNo++){if(rN_cbs[rNo].title.substring(0,rLength)==rootName){if(rN_cbs[rNo].style.display==""){rN_cbs[rNo].style.display="none";if(rN_cbs[rNo].stvalue.length>0){for(iNo=0;iNo<iN_cbs.length;iNo++){var iName="IN_"+rN_cbs[rNo].stvalue.substring(4);var ilength=iName.length;if(iN_cbs[iNo].name.substring(0,ilength)==iName){if(iN_cbs[iNo].type=='checkbox'){iN_cbs[iNo].set=false;iN_cbs[iNo].checked=false}if(iN_cbs[iNo].type=='text'){iN_cbs[iNo].value=""}}}if(rootName!=rN_cbs[rNo].stvalue)showDetails("",rN_cbs[rNo].stvalue)}}}}if(rowName.length>0){var zxc0;zxccbs=window.document.getElementsByName(rowName);for(zxc0=0;zxc0<zxccbs.length;zxc0++){if(zxccbs[zxc0].style.display!=null)zxccbs[zxc0].style.display=""}}}function showSelectedDDDetails(rootName){var rLength=rootName.length;var rNo;var rN_cbs=document.getElementsByTagName('TR');for(rNo=0;rNo<rN_cbs.length;rNo++){if(rN_cbs[rNo].title.substring(0,rLength)==rootName){rN_cbs[rNo].style.display="none";if(rN_cbs[rNo].stvalue.length>0){var iN_cbs=document.getElementsByTagName('input');for(iNo=0;iNo<iN_cbs.length;iNo++){var iName="IN_"+rN_cbs[rNo].stvalue.substring(4);var ilength=iName.length;if(iN_cbs[iNo].name.substring(0,ilength)==iName){if(iN_cbs[iNo].type=='checkbox'){iN_cbs[iNo].set=false;iN_cbs[iNo].checked=false}else if(iN_cbs[iNo].type=='text'){iN_cbs[iNo].value=""}}}showDetails("",rN_cbs[rNo].stvalue)}}}if(rowName.length>0){var zxc0;zxccbs=window.document.getElementsByName(rowName);for(zxc0=0;zxc0<zxccbs.length;zxc0++){if(zxccbs[zxc0].style.display!=null)zxccbs[zxc0].style.display=""}}}function showDetailsNoHiding(rowName,rootName){var rLength=rootName.length;var rNo;var rN_cbs=document.getElementsByTagName('TR');var iName='IN_'+rowName.substring(4);var zCHK=document.getElementById(iName);if(zCHK!=null&&zCHK.checked){var zxc0;zxccbs=window.document.getElementsByName(rowName);for(zxc0=0;zxc0<zxccbs.length;zxc0++){if(zxccbs[zxc0].style.display!=null)zxccbs[zxc0].style.display=""}}else{if(rowName.length>0){var zxc0;zxccbs=window.document.getElementsByName(rowName);for(zxc0=0;zxc0<zxccbs.length;zxc0++){if(zxccbs[zxc0].style.display!=null)zxccbs[zxc0].style.display="none"}}}}function loadDetails(){var iN_cbs=document.getElementsByTagName('input');for(iNo=0;iNo<iN_cbs.length;iNo++){if(iN_cbs[iNo].checked==true){showAllChildren("DISP"+iN_cbs[iNo].name.substring(3))}}}function showAllChildren(rowName){if(rowName.length>0){var zxc0;var zxccbs=window.document.getElementsByName(rowName);for(zxc0=0;zxc0<zxccbs.length;zxc0++){if(zxccbs[zxc0].style.display!=null)zxccbs[zxc0].style.display=""}}}