angular.module('ecw.service.PregnancyDataServices',[]).service('PregnancyDataServices',function($http){return{getPatientDetails:function(pregId,patientId,encounterId,userId){var url="/mobiledoc/jsp/webemr/obFlowsheet/getPregPatientInfo.jsp?pregid="+pregId+"&patientid="+patientId+"&encounterid="+encounterId+"&userId="+userId+"&nd ="+(new Date).getTime();url=makeURL(url);return $http.get(url)},getPastPreg:function(pregId,patientId,ppId){var url="/mobiledoc/jsp/obfipad/getXMLOBFlowSheetiPad.jsp?ppid="+ppId+"&PatientId="+patientId+"&PregnancyId="+pregId+"&itemName=obf forma past pregnancies&dataType=FormA&nd ="+(new Date).getTime();url=makeURL(url);return $http.get(url)},getActivePregnancy:function(patientId,encounterId){var url="/mobiledoc/jsp/obfipad/getActivePregnancy.jsp?patientId="+patientId+"&encounterId="+encounterId+"&nd ="+(new Date).getTime();url=makeURL(url);return $http.get(url)},setPastPregnancy:function(pregId,patientId,encounterId,itemsId,itemsValue,ppId,userId){var url="/mobiledoc/jsp/obfipad/savePastPregDataiPad.jsp?encid="+encounterId+"&PatientId="+patientId+"&aPregId="+pregId+"&keyName=PastPreg&ppid="+ppId+"&TrUserId="+userId+"&nd ="+(new Date).getTime();url=makeURL(url);var xsrf=$.param({FormData:generateXMLData(encounterId,itemsId,itemsValue)});return $http({headers:{'Content-Type':'application/x-www-form-urlencoded'},dataType:'text',method:'POST',url:url,data:xsrf})},createPregnancy:function(patientId,encounterId,userName){var url="/mobiledoc/jsp/obfipad/createPregnancyforiPad.jsp?EncounterId="+encounterId+"&patientId="+patientId+"&userName="+userName+"&device=webEmr&nd ="+(new Date).getTime();url=makeURL(url);var xsrf='';return $http({headers:{'Content-Type':'application/x-www-form-urlencoded'},dataType:'text',method:'POST',url:url,data:xsrf})},getPregnancyList:function(patientId){var url="/mobiledoc/jsp/obfipad/getPregnancylistforiPad.jsp?patientId="+patientId+"&nd ="+(new Date).getTime();url=makeURL(url);return $http.get(url)},getFatherDetails:function(pregId,patientId){var url="/mobiledoc/jsp/obfipad/getfatherdetail_iPad.jsp?PregnancyId="+pregId+"&PatientId="+patientId+"&nd ="+(new Date).getTime();url=makeURL(url);return $http.get(url)},setFatherDetails:function(pregId,patientId,encounterId,itemValue,userName){var url="/mobiledoc/jsp/obfipad/addfatherdetail_iPad.jsp?PregnancyId="+pregId+"&PatientId="+patientId+"&uname="+userName+"&device=webEmr&nd ="+(new Date).getTime();url=makeURL(url);var xsrf=$.param({FormData:generateSaveFatherDetailsXML(encounterId,itemValue)});return $http({headers:{'Content-Type':'application/x-www-form-urlencoded'},dataType:'text',method:'POST',url:url,data:xsrf})},getPhysicalValues:function(pregId){var url="/mobiledoc/jsp/obfipad/getXMLforPhysical_ipad.jsp?PregnancyId="+pregId+"&nd ="+(new Date).getTime();url=makeURL(url);return $http.get(url)},setPhysciaData:function(pregId,encounterId,itemLeftList,itemLeftValues,itemLeftComments,itemRightList,itemRightValues,itemRightComments,userId){var url="/mobiledoc/jsp/obfipad/setOBFlowSheetDataiPad.jsp?Id="+encounterId+"&TrUserId="+userId+"&aPregId="+pregId+"&keyName=Physical&nd ="+(new Date).getTime();url=makeURL(url);var xsrf=$.param({FormData:generateSavePhysicalOBFlowSheetXML(encounterId,itemLeftList,itemLeftValues,itemLeftComments,itemRightList,itemRightValues,itemRightComments)});return $http({headers:{'Content-Type':'application/x-www-form-urlencoded'},dataType:'text',method:'POST',url:url,data:xsrf})},getAllHistoryData:function(pregId,encounterId,patientId){var url="/mobiledoc/jsp/webemr/obFlowsheet/getOBHistoryDetails.jsp?pregId="+pregId+"&encid="+encounterId+"&patientid="+patientId+"&nd ="+(new Date).getTime();url=makeURL(url);return $http.get(url)},getMedicalHxData:function(pregId){var url="/mobiledoc/jsp/obfipad/getXMLOBFlowSheetiPad.jsp?PregnancyId="+pregId+"&itemName=obf medical history&dataType=MedicalHistory&nd ="+(new Date).getTime();url=makeURL(url);return $http.get(url)},setMedHxData:function(pregId,encounterId,itemLeftList,itemLeftValues,itemLeftComments,itemRightList,itemRightValues,itemRightComments,userId){var url="/mobiledoc/jsp/obfipad/setOBFlowSheetDataiPad.jsp?Id="+encounterId+"&TrUserId="+userId+"&aPregId="+pregId+"&keyName=MedicalHistory&nd ="+(new Date).getTime();url=makeURL(url);var xsrf=$.param({FormData:generateSavePhysicalOBFlowSheetXML(encounterId,itemLeftList,itemLeftValues,itemLeftComments,itemRightList,itemRightValues,itemRightComments)});return $http({headers:{'Content-Type':'application/x-www-form-urlencoded'},dataType:'text',method:'POST',url:url,data:xsrf})},getFormAPreviousPregnancyData:function(pregId){var url="/mobiledoc/jsp/obfipad/getXMLOBFlowSheetiPad.jsp?PregnancyId="+pregId+"&itemName=obf forma&dataType=FormA&nd ="+(new Date).getTime();url=makeURL(url);return $http.get(url)},getFormAMenstrualHistoryData:function(pregId){var url="/mobiledoc/jsp/obfipad/getXMLOBFlowSheetiPad.jsp?PregnancyId="+pregId+"&itemName=obf forma menstrual history&dataType=FormA&nd ="+(new Date).getTime();url=makeURL(url);return $http.get(url)},setFormAData:function(pregId,encounterId,itemsIdList,itemsValue,userId){var url="/mobiledoc/jsp/obfipad/setOBFlowSheetDataiPad.jsp?Id="+encounterId+"&TrUserId="+userId+"&aPregId="+pregId+"&keyName=FormA&nd ="+(new Date).getTime();url=makeURL(url);var xsrf=$.param({FormData:generateXMLData(encounterId,itemsIdList,itemsValue)});return $http({headers:{'Content-Type':'application/x-www-form-urlencoded'},dataType:'text',method:'POST',url:url,data:xsrf})},getPastPregnancyItemlist:function(pregId){var url="/mobiledoc/jsp/obfipad/getXMLOBFlowSheetiPad.jsp?PregnancyId="+pregId+"&itemName=obf forma past pregnancies&dataType=FormA&nd ="+(new Date).getTime();url=makeURL(url);return $http.get(url)},getPastPregnancyData:function(pregId,patientId,encounterId){var url="/mobiledoc/jsp/obfipad/getAllPastPregnancies.jsp?PregnancyId="+pregId+"&encounterId="+encounterId+"&PatientId="+patientId+"&nd ="+(new Date).getTime();url=makeURL(url);return $http.get(url)},getOBFlowSheetItems:function(pregId,visitId,kName,encounterId){var url="/mobiledoc/jsp/obfipad/getXMLOBFlowSheetiPad.jsp?PregnancyId="+pregId+"&encounterId="+encounterId+"&itemName=OBF Visits&dataType=FlowSheet&nVisitId="+visitId+"&keyName="+kName+"&nd ="+(new Date).getTime();url=makeURL(url);return $http.get(url)},getOBFlowSheetValue:function(pregId,patientId,encId){var url="/mobiledoc/jsp/obfipad/obflowsheet_iPad.jsp?encounterId="+encId+"&PregnancyId="+pregId+"&patientId="+patientId+"&nd ="+(new Date).getTime();url=makeURL(url);return $http.get(url)},setFlowSheetData:function(pregId,encounterId,itemLeftList,itemLeftValues,itemRightList,itemRightValues,userId,visitId,visitEncId,preObWeight,isNonEditable){var url="/mobiledoc/jsp/obfipad/setOBFlowSheetDataiPad.jsp?Id="+encounterId+"&TrUserId="+userId+"&aPregId="+pregId+"&aVisitId="+visitId+"&keyName=flowsheet&visitEncId="+visitEncId+"&perObWt="+preObWeight+"&preOBWtNonEditable="+isNonEditable+"&nd ="+(new Date).getTime();url=makeURL(url);var xsrf=$.param({FormData:generateSaveOBFlowSheetXML(encounterId,itemLeftList,itemLeftValues,itemRightList,itemRightValues)});return $http({headers:{'Content-Type':'application/x-www-form-urlencoded'},dataType:'text',method:'POST',url:url,data:xsrf})},getOBCareItems:function(pregId,patientId,cType){var url="/mobiledoc/jsp/obfipad/getOBCareItems.jsp?pregnancyId="+pregId+"&patientId="+patientId+"&careType="+cType+"&nd ="+(new Date).getTime();url=makeURL(url);return $http.get(url)},getOBCareGraphData:function(pregId,patientid,keyName,tempName){var url="/mobiledoc/jsp/obfipad/getOBViewCareGraph_iPad.jsp?patientId="+patientid+"&pregnancyId="+pregId+"&Careheader="+keyName+"&tempName="+tempName+"&nd ="+(new Date).getTime();url=makeURL(url);return $http.get(url)},getLabsImaging:function(pregId,patientId,cType,sortLabOrder,sortedByOBLabColName){var url="/mobiledoc/jsp/obfipad/getLabsandDI_iPad.jsp?pregnancyId="+pregId+"&patientId="+patientId+"&Type="+cType+"&sortLabOrder="+sortLabOrder+"&sortedByOBLabColName="+sortedByOBLabColName+"&nd ="+(new Date).getTime();url=makeURL(url);return $http.get(url)},getTrimesterBasedLabsImaging:function(pregId,patientId,sortLabOrder,sortedByOBLabColName){var url="/mobiledoc/jsp/obfipad/getOBOrderClassView.jsp?pregnancyId="+pregId+"&patientId="+patientId+"&sortLabOrder="+sortLabOrder+"&sortedByOBLabColName="+sortedByOBLabColName+"&nd ="+(new Date).getTime();url=makeURL(url);return $http.get(url)},getPastAssessmentList:function(patientId){var url="/mobiledoc/jsp/obfipad/getPastAssessmentList.jsp?patientId="+patientId+"&nd ="+(new Date).getTime();url=makeURL(url);return $http.get(url)},getAssessmentListofEnc:function(encounterId){var url="/mobiledoc/jsp/obfipad/getAssessmentListOfEnc.jsp?encId="+encounterId+"&nd ="+(new Date).getTime();url=makeURL(url);return $http.get(url)},getProblem:function(patientId){var url="/mobiledoc/jsp/obfipad/getProblemList.jsp?patientid="+patientId+"&nd ="+(new Date).getTime();url=makeURL(url);return $http.get(url)},getOrderLabData:function(pregId,patientId,cType,selectedCareId,flag,enc,ufName){var labCareArr=[];var url="";if(flag=='order lab'){labCareArr=selectedCareId.split("|");url="/mobiledoc/jsp/webemr/obFlowsheet/getOBLabOrderData.jsp?pregnancyId="+pregId+"&careType="+cType+"&patientId="+patientId+"&flag="+flag+"&ufname="+ufName+"&nd ="+(new Date).getTime();url=makeURL(url);var xsrf=$.param({FormData:generateOBOrderLabXML(enc,labCareArr)});return $http({headers:{'Content-Type':'application/x-www-form-urlencoded'},dataType:'text',method:'POST',url:url,data:xsrf})}else{url="/mobiledoc/jsp/webemr/obFlowsheet/getOBLabOrderData.jsp?pregnancyId="+pregId+"&careType="+cType+"&patientId="+patientId+"&flag="+flag+"&nd ="+(new Date).getTime();url=makeURL(url);return $http.get(url)}},getEddData:function(pregId,patientId,encounterId){var url="/mobiledoc/jsp/obfipad/getEddXMLvalueiPad.jsp?PregnancyId="+pregId+"&encounterId="+encounterId+"&PatientId="+patientId+"&nd ="+(new Date).getTime();url=makeURL(url);return $http.get(url)},setEddData:function(pregId,encounterId,dta1,dta2,dta3,dta4,wa1,wa2,wa3,wa4,da1,da2,da3,da4,ea1,ea2,ea3,ea4,initedd,initval,dtb1,dtb2,dtb3,dtb4,wb1,wb2,wb3,wb4,db1,db2,db3,db4,eb1,eb2,eb3,eb4,finaledd,finalval,eddNotesval,userId){var url="/mobiledoc/jsp/obfipad/saveEddData_iPad.jsp?PregnancyId="+pregId+"&nd ="+(new Date).getTime();url=makeURL(url);var xsrf=$.param({FormData:generateSaveOBEddXML(encounterId,dta1,dta2,dta3,dta4,wa1,wa2,wa3,wa4,da1,da2,da3,da4,ea1,ea2,ea3,ea4,initedd,initval,dtb1,dtb2,dtb3,dtb4,wb1,wb2,wb3,wb4,db1,db2,db3,db4,eb1,eb2,eb3,eb4,finaledd,finalval,eddNotesval,userId)});return $http({headers:{'Content-Type':'application/x-www-form-urlencoded'},dataType:'text',method:'POST',url:url,data:xsrf})},getAllNotesData:function(pregId,userId,Id,sortOrder,sortOrderByColName){var url="/mobiledoc/jsp/obfipad/getAllNotesiPad.jsp?PregnancyId="+pregId+"&NotesId="+Id+"&TrUserId="+userId+"&sortOrder="+sortOrder+"&sortOrderByColName="+sortOrderByColName+"&nd ="+(new Date).getTime();url=makeURL(url);return $http.get(url)},setNotesData:function(pregId,encounterId,NotesId,tempArray,timeStampName){var url="/mobiledoc/jsp/obfipad/saveNotesandProblemDataiPad.jsp?PregnancyId="+pregId+"&NotesId="+NotesId+"&keyName=Notes&nd ="+(new Date).getTime();url=makeURL(url);var xsrf=$.param({FormData:generateSaveOBNotesXML(encounterId,tempArray,timeStampName)});return $http({headers:{'Content-Type':'application/x-www-form-urlencoded'},dataType:'text',method:'POST',url:url,data:xsrf})},getPatientProblemListData:function(pregId,patientId){var url="/mobiledoc/jsp/obfipad/getXMLProblemListiPad.jsp?PregnancyId="+pregId+"&ProblemId=0&keyName=ptProblem&PatientId="+patientId+"&nd ="+(new Date).getTime();url=makeURL(url);return $http.get(url)},getOBProblemListData:function(pregId,problemId){var url="/mobiledoc/jsp/obfipad/getXMLProblemListiPad.jsp?PregnancyId="+pregId+"&ProblemId="+problemId+"&nd ="+(new Date).getTime();url=makeURL(url);return $http.get(url)},setOBProblemData:function(pregId,encounterId,NotesId,tempArray,userName){var url="/mobiledoc/jsp/obfipad/saveNotesandProblemDataiPad.jsp?PregnancyId="+pregId+"&NotesId="+NotesId+"&keyName=Problem&nd ="+(new Date).getTime();url=makeURL(url);var xsrf=$.param({FormData:generateSaveOBProblemXML(encounterId,tempArray,userName)});return $http({headers:{'Content-Type':'application/x-www-form-urlencoded'},dataType:'text',method:'POST',url:url,data:xsrf})},getAtRiskData:function(pregId,patientId){var url="/mobiledoc/jsp/obfipad/getXMLAtandHighRiskiPad.jsp?pregnancyId="+pregId+"&keyName=obf At risk&patientId="+patientId+"&nd ="+(new Date).getTime();url=makeURL(url);return $http.get(url)},setAtRiskData:function(pregId,encounterId,itemsIdList,itemsValues,itemsPLStatus,itemsPropId,userId,patientId,userName){var url="/mobiledoc/jsp/obfipad/saveOBRisk_ipad.jsp?PatientId="+patientId+"&Id="+encounterId+"&TrUserId="+userId+"&aPregId="+pregId+"&keyName=obfatrisk&UserName="+userName+"&nd ="+(new Date).getTime();url=makeURL(url);var xsrf=$.param({FormData:generateSaveAtRiskDataXML(encounterId,itemsIdList,itemsValues,itemsPLStatus,itemsPropId)});return $http({headers:{'Content-Type':'application/x-www-form-urlencoded'},dataType:'text',method:'POST',url:url,data:xsrf})},getHighRiskData:function(pregId,patientId){var url="/mobiledoc/jsp/obfipad/getXMLAtandHighRiskiPad.jsp?pregnancyId="+pregId+"&keyName=obf high risk&patientId="+patientId+"&nd ="+(new Date).getTime();url=makeURL(url);return $http.get(url)},setHighRiskData:function(pregId,encounterId,itemsIdList,itemsValues,itemsPLStatus,itemsPropId,userId,patientId,userName){var url="/mobiledoc/jsp/obfipad/saveOBRisk_ipad.jsp?PatientId="+patientId+"&Id="+encounterId+"&TrUserId="+userId+"&aPregId="+pregId+"&keyName=obfhighrisk&UserName="+userName+"&nd ="+(new Date).getTime();url=makeURL(url);var xsrf=$.param({FormData:generateSaveHgRiskDataXML(encounterId,itemsIdList,itemsValues,itemsPLStatus,itemsPropId)});return $http({headers:{'Content-Type':'application/x-www-form-urlencoded'},dataType:'text',method:'POST',url:url,data:xsrf})},getOBGraphData:function(pregId,keyName){var url="/mobiledoc/jsp/webemr/obFlowsheet/getOBGraphsData.jsp?pregId="+pregId+"&nd ="+(new Date).getTime();url=makeURL(url);var xsrf=$.param({FormData:generateGraphsDataXML(keyName)});return $http({headers:{'Content-Type':'application/x-www-form-urlencoded'},dataType:'text',method:'POST',url:url,data:xsrf})},getGeneticsScreeningData:function(pregId){var url="/mobiledoc/jsp/obfipad/getXMLOBFlowSheetiPad.jsp?PregnancyId="+pregId+"&itemName=OBF Genetic Screening&dataType=Genetics&nd ="+(new Date).getTime();url=makeURL(url);return $http.get(url)},getGeneticsInfectionHxData:function(pregId){var url="/mobiledoc/jsp/obfipad/getXMLOBFlowSheetiPad.jsp?PregnancyId="+pregId+"&itemName=OBF Infection History&dataType=Genetics&nd ="+(new Date).getTime();url=makeURL(url);return $http.get(url)},setGenticsData:function(pregId,encounterId,itemLeftList,itemLeftValues,itemLeftComments,userId){var url="/mobiledoc/jsp/obfipad/setOBFlowSheetDataiPad.jsp?Id="+encounterId+"&TrUserId="+userId+"&aPregId="+pregId+"&keyName=Genetics&nd ="+(new Date).getTime();url=makeURL(url);var xsrf=$.param({FormData:generateSaveOBFlowSheetDataXML(encounterId,itemLeftList,itemLeftValues,itemLeftComments)});return $http({headers:{'Content-Type':'application/x-www-form-urlencoded'},dataType:'text',method:'POST',url:url,data:xsrf})},getPlansFirstTrimesterData:function(pregId){var url="/mobiledoc/jsp/obfipad/getXMLOBFlowSheetiPad.jsp?PregnancyId="+pregId+"&itemName=obf pe first&dataType=Plans&nd ="+(new Date).getTime();url=makeURL(url);return $http.get(url)},getPlansSecondTrimesterData:function(pregId){var url="/mobiledoc/jsp/obfipad/getXMLOBFlowSheetiPad.jsp?PregnancyId="+pregId+"&itemName=obf pe second&dataType=Plans&nd ="+(new Date).getTime();url=makeURL(url);return $http.get(url)},getPlansThirdTrimesterData:function(pregId){var url="/mobiledoc/jsp/obfipad/getXMLOBFlowSheetiPad.jsp?PregnancyId="+pregId+"&itemName=obf pe third&dataType=Plans&nd ="+(new Date).getTime();url=makeURL(url);return $http.get(url)},setPlansData:function(pregId,encounterId,itemLeftList,itemLeftValues,itemLeftComments,userId){var url="/mobiledoc/jsp/obfipad/setOBFlowSheetDataiPad.jsp?Id="+encounterId+"&TrUserId="+userId+"&aPregId="+pregId+"&keyName=Plans&nd ="+(new Date).getTime();url=makeURL(url);var xsrf=$.param({FormData:generateSaveOBFlowSheetDataXML(encounterId,itemLeftList,itemLeftValues,itemLeftComments)});return $http({headers:{'Content-Type':'application/x-www-form-urlencoded'},dataType:'text',method:'POST',url:url,data:xsrf})},getDischargeDeliveryDatesData:function(pregId){var url="/mobiledoc/jsp/obfipad/getXMLOBFlowSheetiPad.jsp?PregnancyId="+pregId+"&itemName=obf discharge delivery dates&dataType=Discharge&nd ="+(new Date).getTime();url=makeURL(url);return $http.get(url)},getDischargeComplicationsData:function(pregId){var url="/mobiledoc/jsp/obfipad/getXMLOBFlowSheetiPad.jsp?PregnancyId="+pregId+"&itemName=obf discharge complications&dataType=Discharge&nd ="+(new Date).getTime();url=makeURL(url);return $http.get(url)},getDischargeDeliveryinfoData:function(pregId){var url="/mobiledoc/jsp/obfipad/getXMLOBFlowSheetiPad.jsp?PregnancyId="+pregId+"&itemName=obf discharge deliveryinfo&dataType=Discharge&nd ="+(new Date).getTime();url=makeURL(url);return $http.get(url)},getDischargeNeonatalinfoData:function(pregId){var url="/mobiledoc/jsp/obfipad/getXMLOBFlowSheetiPad.jsp?PregnancyId="+pregId+"&itemName=obf discharge neonatalinfo&dataType=Discharge&nd ="+(new Date).getTime();url=makeURL(url);return $http.get(url)},getDischargeMaternalinfoData:function(pregId){var url="/mobiledoc/jsp/obfipad/getXMLOBFlowSheetiPad.jsp?PregnancyId="+pregId+"&itemName=obf discharge maternalinfo&dataType=Discharge&nd ="+(new Date).getTime();url=makeURL(url);return $http.get(url)},getDischargeNeonatalBabyInfo:function(pregId){var url="/mobiledoc/jsp/obfipad/getXMLChildData_iPad.jsp?PregnancyId="+pregId+"&itemName=obf discharge neonatalinfo&dataType=Discharge&nd ="+(new Date).getTime();url=makeURL(url);return $http.get(url)},setDischargeData:function(pregId,encounterId,itemLeftList,itemLeftValues,userId){var url="/mobiledoc/jsp/obfipad/setOBFlowSheetDataiPad.jsp?Id="+encounterId+"&TrUserId="+userId+"&aPregId="+pregId+"&keyName=Discharge&nd ="+(new Date).getTime();url=makeURL(url);var xsrf=$.param({FormData:generateXMLData(encounterId,itemLeftList,itemLeftValues)});return $http({headers:{'Content-Type':'application/x-www-form-urlencoded'},dataType:'text',method:'POST',url:url,data:xsrf})},setDischargeBabyData:function(pregId,encounterId,itemBabyLeftList,itemBabyLeftValues,itemBabyNo,userId){var url="/mobiledoc/jsp/obfipad/setOBFlowSheetDataiPad.jsp?Id="+encounterId+"&TrUserId="+userId+"&aPregId="+pregId+"&keyName=Discharge&enableMultipleBirth=yes&nd ="+(new Date).getTime();url=makeURL(url);var xsrf=$.param({FormData:generateMBirthXMLData(encounterId,itemBabyLeftList,itemBabyLeftValues,itemBabyNo)});return $http({headers:{'Content-Type':'application/x-www-form-urlencoded'},dataType:'text',method:'POST',url:url,data:xsrf})},getPostPartumData:function(pregId){var url="/mobiledoc/jsp/obfipad/getXMLOBFlowSheetiPad.jsp?PregnancyId="+pregId+"&itemName=obf post partum&dataType=Post Partum&nd ="+(new Date).getTime();url=makeURL(url);return $http.get(url)},getCurrentMendication:function(encounterId,keyName){var url="/mobiledoc/jsp/webemr/obFlowsheet/getRxTreatment.jsp?encId="+encounterId+"&keyName="+keyName+"&nd ="+(new Date).getTime();url=makeURL(url);return $http.get(url)},getTreatMentData:function(patientId,pregId,encounterId,keyName){var url="";if(keyName==="treatment"){url="/mobiledoc/jsp/webemr/obFlowsheet/getRxTreatment.jsp?encId="+encounterId+"&keyName="+keyName+"&nd ="+(new Date).getTime()}else if(keyName==="referral"){url="/mobiledoc/jsp/webemr/obFlowsheet/getRxTreatment.jsp?patientId="+patientId+"&pregId="+pregId+"&keyName="+keyName+"&nd ="+(new Date).getTime()}url=makeURL(url);return $http.get(url)},setLockOBData:function(pregId,patientId,strKeyName,userId,encounterId){var url="/mobiledoc/jsp/obfipad/setLockUnlockOB_iPad.jsp?PregId="+pregId+"&keyName="+strKeyName+"&patientId="+patientId+"&lockValue=1&itemValue=''&ItemId=0&TrUserId="+userId+"&encId="+encounterId+"&device=webEmr&nd ="+(new Date).getTime();url=makeURL(url);var xsrf=$.param({FormData:""});return $http({headers:{'Content-Type':'application/x-www-form-urlencoded'},dataType:'text',method:'POST',url:url,data:xsrf})},setUnlockOBData:function(pregId,patientId,strKeyName,userId,encounterId){var url="/mobiledoc/jsp/obfipad/setLockUnlockOB_iPad.jsp?PregId="+pregId+"&keyName="+strKeyName+"&patientId="+patientId+"&lockValue=0&itemValue=''&ItemId=0&TrUserId="+userId+"&encId="+encounterId+"&device=webEmr&nd ="+(new Date).getTime();url=makeURL(url);var xsrf=$.param({FormData:""});return $http({headers:{'Content-Type':'application/x-www-form-urlencoded'},dataType:'text',method:'POST',url:url,data:xsrf})},setProblemList:function(pregId,fromIndexId,toIndexId,strKeyName){var url="/mobiledoc/jsp/obfipad/saveNotesandProblemDataiPad.jsp?PregnancyId="+pregId+"&keyName="+strKeyName+"&fromIndexId="+fromIndexId+"&toIndexId="+toIndexId+"&nd ="+(new Date).getTime();url=makeURL(url);var xsrf=$.param({FormData:""});return $http({headers:{'Content-Type':'application/x-www-form-urlencoded'},dataType:'text',method:'POST',url:url,data:xsrf})},deletePregnancyData:function(pregId,patientId,ppId,strKeyName,userId,encId){var url="/mobiledoc/jsp/obfipad/delete_obf_iPaddata.jsp?NotesId="+ppId+"&keyName="+strKeyName+"&patientId="+patientId+"&pregnancyId="+pregId+"&encId="+encId+"&TrUserId="+userId+"&device=webEmr&nd ="+(new Date).getTime();url=makeURL(url);var xsrf=$.param({FormData:""});return $http({headers:{'Content-Type':'application/x-www-form-urlencoded'},dataType:'text',method:'POST',url:url,data:xsrf})},setPostPartumData:function(pregId,encounterId,itemLeftList,itemLeftValues,itemLeftComments,userId){var url="/mobiledoc/jsp/obfipad/setOBFlowSheetDataiPad.jsp?Id="+encounterId+"&TrUserId="+userId+"&aPregId="+pregId+"&keyName=Post Partum&nd ="+(new Date).getTime();url=makeURL(url);var xsrf=$.param({FormData:generateSaveOBFlowSheetDataXML(encounterId,itemLeftList,itemLeftValues,itemLeftComments)});return $http({headers:{'Content-Type':'application/x-www-form-urlencoded'},dataType:'text',method:'POST',url:url,data:xsrf})},getLabAttributeDetails:function(jsonObj){var sRequestingScreen="labsHistoryScreen";var sRequestType="getLabAttributeDetails";jsonObj=JSON.stringify(jsonObj);var url='/mobiledoc/jsp/webemr/labs/LabsRequestHandler.jsp?sRequestFrom='+sRequestingScreen+'&sRequestType='+sRequestType+'&labAttDetailsJsonObj='+jsonObj+"&Rand="+Math.random();var aPromise=$http.get(url).then(function(response){var data=response.data,status=response.status,header=response.header,config=response.config;return data},function(response){var data=response.data,status=response.status,header=response.header,config=response.config;throw"Internal Error occured, Please try after some time"});return aPromise},updateEhxStatusData:function(pregId,patientId,encId,uid){var url="/mobiledoc/jsp/webemr/obFlowsheet/updateEhxStatus.jsp?pregnancyId="+pregId+"&patientId="+patientId+"&encId="+encId+"&uid="+uid+"&nd ="+(new Date).getTime();url=makeURL(url);var xsrf=$.param({FormData:""});return $http({headers:{'Content-Type':'application/x-www-form-urlencoded'},dataType:'text',method:'POST',url:url,data:xsrf})},setPrintFaxLogData:function(pregId,patientId,encounterId,userId,actionValue){var url="/mobiledoc/jsp/obf/obaccesslog/printpreviewOBSummary.jsp?encid="+encounterId+"&pid="+patientId+"&pregid="+pregId+"&"+actionValue+"=1&TrUserId="+userId+"&nd ="+(new Date).getTime();url=makeURL(url);var xsrf='';return $http({headers:{'Content-Type':'application/x-www-form-urlencoded'},dataType:'text',method:'POST',url:url,data:xsrf})},getImmunizationInjectionDetails:function(encounterId,keyName,lmpDate){var url="/mobiledoc/jsp/webemr/obFlowsheet/OBImmunizationInjectionData.jsp?EncId="+encounterId+"&KeyName="+keyName+"&LmpDate="+lmpDate+"&nd ="+(new Date).getTime();url=makeURL(url);return $http.get(url)},getOBFlowSheetVerticalViewData:function(pregId,patientId,encId){var url="/mobiledoc/jsp/webemr/obFlowsheet/OBFlowsheetVerticalViewData.jsp?encounterId="+encId+"&PregnancyId="+pregId+"&patientId="+patientId+"&nd ="+(new Date).getTime();url=makeURL(url);return $http.get(url)},loadOBVitalsRangeForAll:function(age,ageFlag,gender){var url="/mobiledoc/jsp/webemr/progressnotes/vitals/saveVitalsConfig.jsp?ageFlag="+ageFlag+"&age="+age+"&sex="+gender+"&action=loadVitalRange";url=makeURL(url);return $http.get(url)},getLockUnlockStatus:function(nPregId,nVisitId,keyName){var url="/mobiledoc/jsp/obf/setObfIcdConfig.jsp?PregId="+nPregId+"&KeyName="+keyName+"&Id="+nVisitId+"&nd ="+(new Date).getTime();url=makeURL(url);return $http.get(url)}}});function generateSaveFatherDetailsXML(encid,itemList){var xw=new XMLWriter('ISO-8859-1','1.0');startSoapPacket(xw);xw.writeStartElement('item');xw.writeAttributeString('xsi:type','xsd:string');addElement(xw,'encounterId',encid,'xsi:type','xsd:string');if(itemList.strFatherFName!==undefined)addElement(xw,'firstName',"<![CDATA["+itemList.strFatherFName+"]]>",'xsi:type','xsd:string');if(itemList.strFatherLName!==undefined)addElement(xw,'lastName',"<![CDATA["+itemList.strFatherLName+"]]>",'xsi:type','xsd:string');if(itemList.strFatherMName!==undefined)addElement(xw,'middleName',"<![CDATA["+itemList.strFatherMName+"]]>",'xsi:type','xsd:string');if(itemList.strFatherDob!==undefined)addElement(xw,'dob',itemList.strFatherDob,'xsi:type','xsd:string');if(itemList.strPhone!==undefined)addElement(xw,'phoneNo',itemList.strPhone,'xsi:type','xsd:string');if(itemList.strCellPhone!==undefined)addElement(xw,'cellNo',itemList.strCellPhone,'xsi:type','xsd:string');if(itemList.strOccupation!==undefined)addElement(xw,'Occupation',"<![CDATA["+itemList.strOccupation+"]]>",'xsi:type','xsd:string');if(itemList.strRace!==undefined)addElement(xw,'Race',itemList.strRace,'xsi:type','xsd:string');if(itemList.strEthnicity!==undefined)addElement(xw,'ethnicity',itemList.strEthnicity,'xsi:type','xsd:string');if(itemList.strMBirth!==undefined)addElement(xw,'numberofbabies',itemList.strMBirth,'xsi:type','xsd:string');if(itemList.strDischargedt!==undefined)addElement(xw,'dischargeDate',itemList.strDischargedt,'xsi:type','xsd:string');if(itemList.strNotes!==undefined)addElement(xw,'strNotes',"<![CDATA["+itemList.strNotes+"]]>",'xsi:type','xsd:string');if(itemList.strProviderId!==undefined)addElement(xw,'strProviderId',itemList.strProviderId,'xsi:type','xsd:string');xw.writeEndElement();endSoapPacket(xw);return xw.flush()}function generateXMLData(encid,itemLeftList,itemLeftValues){var xw=new XMLWriter('ISO-8859-1','1.0');startSoapPacket(xw);for(var i=0;i<itemLeftList.length;i++){if(itemLeftList[i]!==''){xw.writeStartElement('item');xw.writeAttributeString('xsi:type','xsd:string');addElement(xw,'encounterId',encid,'xsi:type','xsd:string');addElement(xw,'itemId',itemLeftList[i],'xsi:type','xsd:string');addElement(xw,'strValue',"<![CDATA["+itemLeftValues[i]+"]]>",'xsi:type','xsd:string');addElement(xw,'device','webEmr','xsi:type','xsd:string');xw.writeEndElement()}}endSoapPacket(xw);return xw.flush()}function generateSaveOBFlowSheetDataXML(encid,itemLeftList,itemLeftValues,itemLeftComments){var xw=new XMLWriter('ISO-8859-1','1.0');startSoapPacket(xw);for(var i=0;i<itemLeftList.length;i++){if(itemLeftList[i]!==''){xw.writeStartElement('item');xw.writeAttributeString('xsi:type','xsd:string');addElement(xw,'encounterId',encid,'xsi:type','xsd:string');addElement(xw,'itemId',itemLeftList[i],'xsi:type','xsd:string');addElement(xw,'strValue',"<![CDATA["+itemLeftValues[i]+"]]>",'xsi:type','xsd:string');addElement(xw,'strComments',"<![CDATA["+itemLeftComments[i]+"]]>",'xsi:type','xsd:string');addElement(xw,'device','webEmr','xsi:type','xsd:string');xw.writeEndElement()}}endSoapPacket(xw);return xw.flush()}function generateSavePhysicalOBFlowSheetXML(encid,itemLeftList,itemLeftValues,itemLeftComments,itemRightList,itemRightValues,itemRightComments){var xw=new XMLWriter('ISO-8859-1','1.0');startSoapPacket(xw);for(var i=0;i<itemLeftList.length;i++){if(itemLeftList[i]!==''){xw.writeStartElement('item');xw.writeAttributeString('xsi:type','xsd:string');addElement(xw,'encounterId',encid,'xsi:type','xsd:string');addElement(xw,'itemId',itemLeftList[i],'xsi:type','xsd:string');addElement(xw,'strValue',"<![CDATA["+itemLeftValues[i]+"]]>",'xsi:type','xsd:string');addElement(xw,'strComments',"<![CDATA["+itemLeftComments[i]+"]]>",'xsi:type','xsd:string');addElement(xw,'device','webEmr','xsi:type','xsd:string');xw.writeEndElement()}}for(var j=0;j<itemRightList.length;j++){if(itemRightList[j]!==''){xw.writeStartElement('item');xw.writeAttributeString('xsi:type','xsd:string');addElement(xw,'encounterId',encid,'xsi:type','xsd:string');addElement(xw,'itemId',itemRightList[j],'xsi:type','xsd:string');addElement(xw,'strValue',"<![CDATA["+itemRightValues[j]+"]]>",'xsi:type','xsd:string');addElement(xw,'strComments',"<![CDATA["+itemRightComments[j]+"]]>",'xsi:type','xsd:string');addElement(xw,'device','webEmr','xsi:type','xsd:string');xw.writeEndElement()}}endSoapPacket(xw);return xw.flush()}function generateSaveOBFlowSheetXML(encid,itemLeftList,itemLeftValues,itemRightList,itemRightValues){var xw=new XMLWriter('ISO-8859-1','1.0');startSoapPacket(xw);for(var i=0;i<itemLeftList.length;i++){if(itemLeftList[i]!==''){xw.writeStartElement('item');xw.writeAttributeString('xsi:type','xsd:string');addElement(xw,'encounterId',encid,'xsi:type','xsd:string');addElement(xw,'itemId',itemLeftList[i],'xsi:type','xsd:string');addElement(xw,'strValue',"<![CDATA["+itemLeftValues[i]+"]]>",'xsi:type','xsd:string');addElement(xw,'device','webEmr','xsi:type','xsd:string');xw.writeEndElement()}}for(var j=0;j<itemRightList.length;j++){if(itemRightList[j]!==''){xw.writeStartElement('item');xw.writeAttributeString('xsi:type','xsd:string');addElement(xw,'encounterId',encid,'xsi:type','xsd:string');addElement(xw,'itemId',itemRightList[j],'xsi:type','xsd:string');addElement(xw,'strValue',"<![CDATA["+itemRightValues[j]+"]]>",'xsi:type','xsd:string');addElement(xw,'device','webEmr','xsi:type','xsd:string');xw.writeEndElement()}}endSoapPacket(xw);return xw.flush()}function generateSaveAtRiskDataXML(encid,itemsIdList,itemsValues,itemsPLStatus,itemsPropId){var xw=new XMLWriter('ISO-8859-1','1.0');startSoapPacket(xw);for(var i=0;i<itemsIdList.length;i++){if(itemsIdList[i]!==''){xw.writeStartElement('item');xw.writeAttributeString('xsi:type','xsd:string');addElement(xw,'encounterId',encid,'xsi:type','xsd:string');addElement(xw,'itemId',itemsIdList[i],'xsi:type','xsd:string');addElement(xw,'strComments',"<![CDATA["+itemsValues[i]+"]]>",'xsi:type','xsd:string');addElement(xw,'straddPL',itemsPLStatus[i],'xsi:type','xsd:string');addElement(xw,'strPropId',itemsPropId[i],'xsi:type','xsd:string');addElement(xw,'device','webEmr','xsi:type','xsd:string');xw.writeEndElement()}}endSoapPacket(xw);return xw.flush()}function generateSaveHgRiskDataXML(encid,itemsIdList,itemsValues,itemsPLStatus,itemsPropId){var xw=new XMLWriter('ISO-8859-1','1.0');startSoapPacket(xw);for(var i=0;i<itemsIdList.length;i++){if(itemsIdList[i]!==''){xw.writeStartElement('item');xw.writeAttributeString('xsi:type','xsd:string');addElement(xw,'encounterId',encid,'xsi:type','xsd:string');addElement(xw,'itemId',itemsIdList[i],'xsi:type','xsd:string');addElement(xw,'strComments',"<![CDATA["+itemsValues[i]+"]]>",'xsi:type','xsd:string');addElement(xw,'straddPL',itemsPLStatus[i],'xsi:type','xsd:string');addElement(xw,'strPropId',itemsPropId[i],'xsi:type','xsd:string');addElement(xw,'device','webEmr','xsi:type','xsd:string');xw.writeEndElement()}}endSoapPacket(xw);return xw.flush()}function generateSaveOBNotesXML(encid,tempArray,timeStampName){var xw=new XMLWriter('ISO-8859-1','1.0');startSoapPacket(xw);xw.writeStartElement('item');xw.writeAttributeString('xsi:type','xsd:string');addElement(xw,'encounterId',encid,'xsi:type','xsd:string');addElement(xw,'CrDate',tempArray.CreatedDate,'xsi:type','xsd:string');addElement(xw,'NotesandProblem',"<![CDATA["+tempArray.strNotes+"]]>",'xsi:type','xsd:string');addElement(xw,'Initial',"<![CDATA["+tempArray.strInitial+"]]>",'xsi:type','xsd:string');addElement(xw,'CreatedBy',timeStampName,'xsi:type','xsd:string');addElement(xw,'Status',"<![CDATA["+tempArray.CreatedBy+"]]>",'xsi:type','xsd:string');addElement(xw,'device','webEmr','xsi:type','xsd:string');xw.writeEndElement();endSoapPacket(xw);return xw.flush()}function generateSaveOBProblemXML(encid,tempArray,userName){var xw=new XMLWriter('ISO-8859-1','1.0');startSoapPacket(xw);xw.writeStartElement('item');xw.writeAttributeString('xsi:type','xsd:string');addElement(xw,'encounterId',encid,'xsi:type','xsd:string');addElement(xw,'CrDate',tempArray.strCreatedDate,'xsi:type','xsd:string');addElement(xw,'NotesandProblem',"<![CDATA["+tempArray.strProblem+"]]>",'xsi:type','xsd:string');addElement(xw,'Initial',"<![CDATA["+tempArray.strInitials+"]]>",'xsi:type','xsd:string');addElement(xw,'CreatedBy',userName,'xsi:type','xsd:string');addElement(xw,'Status',"<![CDATA["+tempArray.strStatus+"]]>",'xsi:type','xsd:string');addElement(xw,'EnteredBy',"<![CDATA["+tempArray.strPlan+"]]>",'xsi:type','xsd:string');addElement(xw,'device','webEmr','xsi:type','xsd:string');xw.writeEndElement();endSoapPacket(xw);return xw.flush()}function generateSaveOBEddXML(encid,dta1,dta2,dta3,dta4,wa1,wa2,wa3,wa4,da1,da2,da3,da4,ea1,ea2,ea3,ea4,initedd,initval,dtb1,dtb2,dtb3,dtb4,wb1,wb2,wb3,wb4,db1,db2,db3,db4,eb1,eb2,eb3,eb4,finaledd,finalval,eddNotes,userId){var xw=new XMLWriter('ISO-8859-1','1.0');startSoapPacket(xw);xw.writeStartElement('item');xw.writeAttributeString('xsi:type','xsd:string');addElement(xw,'encounterId',encid,'xsi:type','xsd:string');addElement(xw,'date1A',dta1,'xsi:type','xsd:string');addElement(xw,'date1B',dtb1,'xsi:type','xsd:string');addElement(xw,'date2A',dta2,'xsi:type','xsd:string');addElement(xw,'date2B',dtb2,'xsi:type','xsd:string');addElement(xw,'date3A',dta3,'xsi:type','xsd:string');addElement(xw,'date3B',dtb3,'xsi:type','xsd:string');addElement(xw,'date4A',dta4,'xsi:type','xsd:string');addElement(xw,'date4B',dtb4,'xsi:type','xsd:string');addElement(xw,'week1A',wa1,'xsi:type','xsd:string');addElement(xw,'week1B',wb1,'xsi:type','xsd:string');addElement(xw,'week2A',wa2,'xsi:type','xsd:string');addElement(xw,'week2B',wb2,'xsi:type','xsd:string');addElement(xw,'week3A',wa3,'xsi:type','xsd:string');addElement(xw,'week3B',wb3,'xsi:type','xsd:string');addElement(xw,'week4A',wa4,'xsi:type','xsd:string');addElement(xw,'week4B',wb4,'xsi:type','xsd:string');addElement(xw,'days1A',da1,'xsi:type','xsd:string');addElement(xw,'days1B',db1,'xsi:type','xsd:string');addElement(xw,'days2A',da2,'xsi:type','xsd:string');addElement(xw,'days2B',db2,'xsi:type','xsd:string');addElement(xw,'days3A',da3,'xsi:type','xsd:string');addElement(xw,'days3B',db3,'xsi:type','xsd:string');addElement(xw,'days4A',da4,'xsi:type','xsd:string');addElement(xw,'days4B',db4,'xsi:type','xsd:string');addElement(xw,'Edd1A',ea1,'xsi:type','xsd:string');addElement(xw,'Edd1B',eb1,'xsi:type','xsd:string');addElement(xw,'Edd2A',ea2,'xsi:type','xsd:string');addElement(xw,'Edd2B',eb2,'xsi:type','xsd:string');addElement(xw,'Edd3A',ea3,'xsi:type','xsd:string');addElement(xw,'Edd3B',eb3,'xsi:type','xsd:string');addElement(xw,'Edd4A',ea4,'xsi:type','xsd:string');addElement(xw,'Edd4B',eb4,'xsi:type','xsd:string');addElement(xw,'EddInitials',initedd,'xsi:type','xsd:string');addElement(xw,'EddFinal',finaledd,'xsi:type','xsd:string');addElement(xw,'InitialValue',"<![CDATA["+initval+"]]>",'xsi:type','xsd:string');addElement(xw,'FinalValue',"<![CDATA["+finalval+"]]>",'xsi:type','xsd:string');addElement(xw,'strEDDNotes',"<![CDATA["+eddNotes+"]]>",'xsi:type','xsd:string');addElement(xw,'strUserId',userId,'xsi:type','xsd:string');addElement(xw,'device','webEmr','xsi:type','xsd:string');xw.writeEndElement();endSoapPacket(xw);return xw.flush()}function generateOBOrderLabXML(encid,labCareIdsArr){var xw=new XMLWriter('ISO-8859-1','1.0');startSoapPacket(xw);for(var i=0;i<labCareIdsArr.length;i++){if(labCareIdsArr[i]!==''){xw.writeStartElement('item');xw.writeAttributeString('xsi:type','xsd:string');addElement(xw,'encounterId',encid,'xsi:type','xsd:string');addElement(xw,'careId',labCareIdsArr[i],'xsi:type','xsd:string');xw.writeEndElement()}}endSoapPacket(xw);return xw.flush()}function generateMBirthXMLData(encid,itemBabyLeftList,itemBabyLeftValues,itemBabyNo){var xw=new XMLWriter('ISO-8859-1','1.0');startSoapPacket(xw);for(var i=0;i<itemBabyLeftList.length;i++){if(itemBabyLeftList[i]!==''){xw.writeStartElement('item');xw.writeAttributeString('xsi:type','xsd:string');addElement(xw,'encounterId',encid,'xsi:type','xsd:string');addElement(xw,'itemId',itemBabyLeftList[i],'xsi:type','xsd:string');addElement(xw,'strValue',"<![CDATA["+itemBabyLeftValues[i]+"]]>",'xsi:type','xsd:string');addElement(xw,'strComments','','xsi:type','xsd:string');addElement(xw,'strBabyId',itemBabyNo[i],'xsi:type','xsd:string');xw.writeEndElement()}}endSoapPacket(xw);return xw.flush()}function generateGraphsDataXML(keyName){var xw=new XMLWriter('ISO-8859-1','1.0');startSoapPacket(xw);if(keyName!==''){xw.writeStartElement('item');xw.writeAttributeString('xsi:type','xsd:string');addElement(xw,'strKeyName',"<![CDATA["+keyName+"]]>",'xsi:type','xsd:string');xw.writeEndElement()}endSoapPacket(xw);return xw.flush()}