(window.webpackJsonp=window.webpackJsonp||[]).push([["app"],{"/XFy":function(e,t,a){},"/eCE":function(e,t,a){"use strict";var s=a("vVF/"),n=["email"];t.a={initPendo:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"UNKNOWN";this.waitFor((function(e){return t.uuReady()})).then((function(t){"prod"!==s.a.getEnvironment()&&"qa"!==s.a.getEnvironment()&&"dev"!==s.a.getEnvironment()||("prod"===s.a.getEnvironment()?window.PccUsageAnalytics.config["pendo-primary-subscription-id"]="718e0290-e77c-42c9-7936-d923782213d9":window.PccUsageAnalytics.config["pendo-primary-subscription-id"]="9eb6fd1e-2fe9-46ab-6b6d-ffb0ab07cf95",window.PccUsageAnalytics.config["user-id"]=e,window.PccUsageAnalytics.config["account-id"]=a,window.PccUsageAnalytics.init())}))},waitFor:function(e){return new Promise((function t(a){e()?a():setTimeout((function(e){return t(a)}),200)}))},uuReady:function(){return window.PccUsageAnalytics&&window.PccUsageAnalytics.init&&"function(){}"!==window.PccUsageAnalytics.init.toString()},trackPendoEvent:function(e,t){var a=this,s=Object.keys(t).filter((function(e){return!n.includes(e)}));s.length>0&&s.forEach((function(e){t[e]="UNRECOGNIZED_ATTRIBUTE"})),this.waitFor((function(e){return a.uuReady()})).then((function(s){window.PccUsageAnalytics.trackEvent(e,t),a.flushPendo()}))},flushPendo:function(){this.waitFor((function(e){return void 0!==window.pendo&&window.pendo.flushNow})).then((function(e){return window.pendo.flushNow()}))}}},"/kg3":function(e,t,a){},0:function(e,t){},"0Ccq":function(e,t,a){},"0Cga":function(e,t,a){},"0Rx3":function(e,t,a){},"0hNh":function(e,t,a){"use strict";var s=a("oCYn"),n=a("L2JU"),r=a("f/2o"),o=a("RIqP"),i=a.n(o),l={namespaced:!0,state:function(){return{currentStep:1,nextButtonEnabled:!1,finishButtonEnabled:!1,steps:[{stepId:"ADD_USER_DETAILS"},{stepId:"GENERATE_USERNAMES"}],usernamesGenerated:!1,newUserDetailsList:[{}],orgHasLocations:!0}},mutations:{nextStep:function(e){e.currentStep<2&&(e.currentStep+=1)},goBackToStep:function(e,t){e.currentStep=t},changeSelectedOrg:function(e,t){e.selectedOrg=t},changeSearchText:function(e,t){e.searchText=t},changeOrgList:function(e,t){e.orgList=t},clearOrgSearch:function(e){e.selectedOrg=null,e.orgList=[],e.searchText=""},resetStep:function(e){e.currentStep=1,e.newUserDetailsList=[{}],e.usernamesGenerated=!1},addNewUserDetails:function(e,t){e.newUserDetailsList.push(t),e.usernamesGenerated=!1},removeUserDetails:function(e,t){0===t&&e.newUserDetailsList.shift(),e.newUserDetailsList.splice(t,t),e.usernamesGenerated=!1},changeItemForSpecificUser:function(e,t){Array.isArray(t.value)?e.newUserDetailsList[t.index][t.key]=i()(t.value):e.newUserDetailsList[t.index][t.key]=t.value,e.newUserDetailsList=i()(e.newUserDetailsList),e.usernamesGenerated=!1},setNextButtonEnabled:function(e,t){e.nextButtonEnabled=t},setFinishButtonEnabled:function(e,t){e.finishButtonEnabled=t},setUsernamesGenerated:function(e,t){e.usernamesGenerated=t},resetOnBoarding:function(e){e.newUserDetailsList=[{}],e.currentStep=1,e.selectedOrg=null,e.searchText="",e.orgList=[],e.nextButtonEnabled=!1,e.finishButtonEnabled=!1,e.usernamesGenerated=!1},setOrgHasLocations:function(e,t){e.orgHasLocations=t}},actions:{nextStep:function(e){(0,e.commit)("nextStep")},resetStep:function(e){(0,e.commit)("resetStep")},changeSelectedOrg:function(e,t){(0,e.commit)("changeSelectedOrg",t)},changeSearchText:function(e,t){(0,e.commit)("changeSearchText",t)},changeOrgList:function(e,t){(0,e.commit)("changeOrgList",t)},clearOrgSearch:function(e){(0,e.commit)("clearOrgSearch")},addNewUserDetails:function(e,t){(0,e.commit)("addNewUserDetails",t)},removeUserDetails:function(e,t){(0,e.commit)("removeUserDetails",t)},goBackToStep:function(e,t){(0,e.commit)("goBackToStep",t)},changeItemForSpecificUser:function(e,t){(0,e.commit)("changeItemForSpecificUser",t)},setNextButtonEnabled:function(e,t){(0,e.commit)("setNextButtonEnabled",t)},setFinishButtonEnabled:function(e,t){(0,e.commit)("setFinishButtonEnabled",t)},setUsernamesGenerated:function(e,t){(0,e.commit)("setUsernamesGenerated",t)}},getters:{orgList:function(e){return e.orgList},selectedOrg:function(e){return e.selectedOrg},searchText:function(e){return e.searchText},currentStepId:function(e){return e.steps[e.currentStep-1].stepId},currentStep:function(e){return e.currentStep},hasNextStep:function(e){return e.currentStep!==e.steps.length},newUserDetailsList:function(e){return e.newUserDetailsList},usernamesGenerated:function(e){return e.usernamesGenerated},orgHasLocations:function(e){return e.orgHasLocations}}},c=a("yXPU"),d=a.n(c),u=a("o0o1"),p=a.n(u),m={namespaced:!0,state:{selectedUsers:[],selectedOrgId:null,orgLocationList:[],showUserCreatedNotification:!1},mutations:{appendSelectedUsers:function(e,t){e.selectedUsers&&(e.selectedUsers=[].concat(i()(e.selectedUsers),i()(t)))},clearSelectedUsers:function(e){e.selectedUsers&&(e.selectedUsers=[])},setSelectedOrgId:function(e,t){e.selectedOrgId=t},removeUserId:function(e,t){e.selectedUsers=e.selectedUsers.filter((function(e){return e.userId!==t}))},setOrgLocationList:function(e,t){e.orgLocationList=i()(t)},setOtherUsersLocationList:function(e,t){e.selectedUsers.forEach((function(e){e.userId!==t.userId&&(e.locationList=t.locationList.map((function(e){return"".concat(e)})))}))},updateUserLocationList:function(e,t){e.selectedUsers.find((function(e){return e.userId===t.userId})).locationList[t.locationIndex]=t.locationId},addEmptyLocationToUserLocationList:function(e,t){var a=e.selectedUsers.find((function(e){return e.userId===t}));null===a.locationList?a.locationList=[""]:a.locationList.push("")},deleteLocationFromUserLocationList:function(e,t){e.selectedUsers.find((function(e){return e.userId===t.userId})).locationList.splice(t.locationIndex,1)},setShowUserCreatedNotification:function(e,t){e.showUserCreatedNotification=t}},actions:{switchOrgId:function(e,t){return d()(p.a.mark((function a(){var s,n;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:s=e.commit,n=t.orgId,s("setSelectedOrgId",n),s("clearSelectedUsers");case 4:case"end":return a.stop()}}),a)})))()}},getters:{selectedUsers:function(e){return e.selectedUsers},selectedOrgId:function(e){return e.selectedOrgId},orgLocationList:function(e){return e.orgLocationList},showUserCreatedNotification:function(e){return e.showUserCreatedNotification}}},g={namespaced:!0,state:function(){return{featureFlags:{},isLoading:!1}},mutations:{setFeatureFlags:function(e,t){e.featureFlags=t},setIsLoading:function(e){e.isLoading=!0},resetIsLoading:function(e){e.isLoading=!1}},actions:{loadFeatureFlags:function(e,t){return d()(p.a.mark((function a(){var s,n,r;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s=e.commit,n=t.http,s("setIsLoading"),a.prev=3,"/feature-flags",a.next=7,n.get("/feature-flags");case 7:(r=a.sent).data&&r.data.featureFlags&&s("setFeatureFlags",r.data.featureFlags),a.next=15;break;case 11:a.prev=11,a.t0=a.catch(3),DD_LOGS.logger.error("Failed to fetch feature flags"),DD_LOGS.logger.error(a.t0);case 15:s("resetIsLoading");case 16:case"end":return a.stop()}}),a,null,[[3,11]])})))()}},getters:{featureFlags:function(e){return e.featureFlags},isLoading:function(e){return e.isLoading}}},f=a("4kXh"),v=a("lSNA"),h=a.n(v);function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}var y={namespaced:!0,state:{group:null},mutations:{setGroup:function(e,t){e.group=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(Object(a),!0).forEach((function(t){h()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},t)},unsetGroup:function(e){e.group=null}},getters:{group:function(e){return e.group}}},w={namespaced:!0,state:{selectedUsers:[],showUserUnAssignedNotification:!1},mutations:{appendSelectedUsers:function(e,t){e.selectedUsers=[].concat(i()(e.selectedUsers||[]),i()(t||[]))},clearSelectedUsers:function(e){e.selectedUsers=[]},removeUserId:function(e,t){e.selectedUsers=e.selectedUsers.filter((function(e){return e.userId!==t}))},showUserUnAssignedNotification:function(e,t){e.showUserUnAssignedNotification=t}},getters:{selectedUsers:function(e){return e.selectedUsers||[]},numberOfSelectedUsers:function(e){return e.selectedUsers.length},showUserUnAssignedNotification:function(e){return e.showUserUnAssignedNotification}}},x={namespaced:!0,state:{confirmedLocationsToEnable:[],confirmedLocationsToDisable:[]},mutations:{initializeConfirmedLocationsToEnable:function(e,t){e.confirmedLocationsToEnable=i()(t)},initializeConfirmedLocationsToDisable:function(e,t){e.confirmedLocationsToDisable=i()(t)},clearConfirmedLocationsToEnable:function(e){e.confirmedLocationsToEnable=[]},clearConfirmedLocationsToDisable:function(e){e.confirmedLocationsToDisable=[]},pushConfirmedLocationsToEnable:function(e,t){-1===e.confirmedLocationsToEnable.indexOf(t)&&e.confirmedLocationsToEnable.push(t)},pushConfirmedLocationsToDisable:function(e,t){-1===e.confirmedLocationsToDisable.indexOf(t)&&e.confirmedLocationsToDisable.push(t)},popConfirmedLocationsToEnable:function(e,t){var a=e.confirmedLocationsToEnable.indexOf(t);a>-1&&e.confirmedLocationsToEnable.splice(a,1)},popConfirmedLocationsToDisable:function(e,t){var a=e.confirmedLocationsToDisable.indexOf(t);a>-1&&e.confirmedLocationsToDisable.splice(a,1)}},getters:{confirmedLocationsToEnable:function(e){return e.confirmedLocationsToEnable||[]},confirmedLocationsToDisable:function(e){return e.confirmedLocationsToDisable||[]}}},C={namespaced:!0,state:{selectedUsers:[],showUserUnAssignedNotification:!1},mutations:{appendSelectedUsers:function(e,t){e.selectedUsers=[].concat(i()(e.selectedUsers||[]),i()(t||[]))},clearSelectedUsers:function(e){e.selectedUsers=[]},removeUserId:function(e,t){e.selectedUsers=e.selectedUsers.filter((function(e){return e.userId!==t}))},showUserUnAssignedNotification:function(e,t){e.showUserUnAssignedNotification=t}},getters:{selectedUsers:function(e){return e.selectedUsers||[]},numberOfSelectedUsers:function(e){return e.selectedUsers.length},showUserUnAssignedNotification:function(e){return e.showUserUnAssignedNotification}}},_={namespaced:!0,state:function(){return{validate:null,token:null,factorName:"TOTP",totpSecret:null,qrCode:null}},mutations:{setValidation:function(e,t){e.validate=t},setFactorName:function(e,t){e.factorName=t},setTotpSecret:function(e,t){e.totpSecret=t},setToken:function(e,t){e.token=t},setQrCode:function(e,t){e.qrCode=t},reset:function(e){Object.keys(e).forEach((function(t){e[t]=null})),e.factorName="TOTP"}},getters:{validate:function(e){return e.validate},token:function(e){return e.token},factorName:function(e){return e.factorName},totpSecret:function(e){return e.totpSecret},qrCode:function(e){return e.qrCode}}},S=a("Twh7");s.default.use(n.a);var k=new n.a.Store({modules:{userOnboarding:l,userListPage:m,userProductSelection:{namespaced:!0,state:function(){return{currentStep:1,finishButtonEnabled:!1,currentProduct:null,steps:[{stepId:"SELECT_PRODUCT"},{stepId:"ASSIGN_LOCATIONS"}]}},mutations:{goToStep2:function(e){e.currentStep=2},goBackToStep:function(e,t){e.currentStep=t},resetStep:function(e){e.currentStep=1,e.finishButtonEnabled=!1,e.currentProduct=null},changeProductList:function(e,t){e.productList=t},setCurrentProduct:function(e,t){e.currentProduct=t},setFinishButtonEnabled:function(e,t){e.finishButtonEnabled=t}},actions:{},getters:{productList:function(e){return e.productList},currentProduct:function(e){return e.currentProduct},currentStepId:function(e){return e.steps[e.currentStep-1].stepId},currentStep:function(e){return e.currentStep},finishButtonEnabled:function(e){return e.finishButtonEnabled}}},featureFlags:g,globalContext:f.a,selectedGroup:y,unassignGroup:w,productLocations:x,userLocation:C,mfaContext:_,userPrivileges:S.a},plugins:[r.a.plugin]});t.a=k},1:function(e,t){},"17BF":function(e,t,a){"use strict";var s=a("yXPU"),n=a.n(s),r=a("o0o1"),o=a.n(r),i=a("2kHQ"),l=a("WkTL"),c={name:"Product-Management-Mixin",methods:{setGlobalContextAndProducts:function(e,t){var a=this;return n()(o.a.mark((function s(){var n,r,i;return o.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(e.data.pccAdmin||e.data.pccImplementer){s.next=15;break}if(null==(n=e.data.userOrgId)){s.next=15;break}return r=n,s.prev=4,s.next=7,l.a.getOrganization(n);case 7:i=s.sent,r=a.globalOrgMapper(i.data),s.next=13;break;case 11:s.prev=11,s.t0=s.catch(4);case 13:return t||a.$store.commit("globalContext/changeGlobalOrg",r),s.abrupt("return",r);case 15:return s.abrupt("return",null);case 16:case"end":return s.stop()}}),s,null,[[4,11]])})))()},updateProductsListInDashboard:function(e){var t=this;return n()(o.a.mark((function a(){var s;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!e.find((function(e){return e.userId===i.a.getUserId()}))){a.next=6;break}return a.next=4,l.a.getUsersMe();case 4:(s=a.sent).data&&(t.updateAppsListInUserStore(s),i.a.displayApplications());case 6:case"end":return a.stop()}}),a)})))()},globalOrgMapper:function(e){return{id:e.organizationId,name:e.name,orgCode:e.orgCode,status:e.status,environment:e.environment,scope:e.scope,emailRequired:e.emailRequired,expireUsers:e.expireUsers,userMaxExpiryInDays:e.userMaxExpiryInDays}}}},d=a("JFUb"),u=Object(d.a)(c,undefined,undefined,!1,null,null,null);t.a=u.exports},"1Sg+":function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNzkwIDMzNyI+PGcgZmlsbD0iIzM3M0EzNiI+PHBhdGggZD0iTTI3NTguNTQgNTQuNmEzMC4xMSAzMC4xMSAwIDExLS4xNyA2MC4yMWMtMTcuMjkgMC0zMS4xOC0xMy4zNi0zMS4xOC0zMC4yOCAwLTE2LjU3IDEzLjg5LTI5LjkzIDMxLjE4LTI5LjkzaC4xN3ptLS41MyA3Yy0xMi42NCAwLTIyLjI4IDEwLjE1LTIyLjI4IDIzLjE1IDAgMTIuODQgOS42NCAyMy4xNyAyMi40NSAyMy4xNyAxMi44My4xOCAyMi4yOC0xMC4zMyAyMi4yOC0yMy4xNyAwLTEzLTkuNDUtMjMuMTUtMjIuMjgtMjMuMTVoLS4xN3ptLTMuOTMgMzcuOTVoLThWNzAuODRhNTYuMTkgNTYuMTkgMCAwMTExLjkyLTEuMWM2IDAgOC43NS44OSAxMC42OSAyLjMyYTYuNzkgNi43OSAwIDAxMyA2LjA2YzAgMy4yLTIuNjggNS42OS02LjI0IDYuNzd2LjM1YzMgMS4wNyA0LjYzIDMuMzggNS41MiA3LjMxYTM0LjE2IDM0LjE2IDAgMDAyIDYuOTVoLTguNTVjLS44OS0xLjA4LTEuNDItMy41Ny0yLjEyLTYuNi0uNy0zLjAzLTIuMTYtNC4yOC01LjM2LTQuMjhoLTIuODZ2MTAuOTN6bS4xOC0xNi4zOWgyLjg2YzMuMzggMCA1Ljg4LTEuMjUgNS44OC0zLjkzIDAtMi40OS0xLjc4LTMuOTItNS41Mi0zLjkyLTEuNDIgMC0yLjQ5LjE4LTMuMjIuMTh2Ny42N3pNLjYyIDIxLjA0YzIxLjkyLTMuNzMgNTIuNzEtNi41MiA5Ni4wOC02LjUyIDQzLjg0IDAgNzUuMDkgOC4zOSA5Ni4wOCAyNS4xOCAyMC4wNiAxNS44NSAzMy41OSA0MiAzMy41OSA3Mi43NiAwIDMwLjc2LTEwLjI3IDU2LjkxLTI4LjkyIDc0LjYzLTI0LjI2IDIyLjg1LTYwLjE3IDMzLjEyLTEwMi4xNSAzMy4xMmExNzkuMzggMTc5LjM4IDAgMDEtMjQuMjUtMS40djExMi40SC42MlYyMS4wNHptNzAuNDMgMTQyLjczYzYuMDYgMS40IDEzLjUzIDEuODYgMjMuNzkgMS44NiAzNy43NyAwIDYxLjEtMTkuMTIgNjEuMS01MS4zIDAtMjguOTItMjAuMDYtNDYuMTgtNTUuNS00Ni4xOC0xNC40NyAwLTI0LjI2IDEuNC0yOS4zOSAyLjh2OTIuODJ6Ii8+PHBhdGggZD0iTTQ0OC4zNiAyMTQuNjFjMCA4My40OC01OS4yMyAxMjEuNzMtMTIwLjMzIDEyMS43My02Ni43IDAtMTE4LTQzLjg0LTExOC0xMTcuNTNTMjU4LjU0IDk4IDMzMS43NyA5OGM2OS45NiAwIDExNi41OSA0OC4wNSAxMTYuNTkgMTE2LjYxem0tMTY1LjExIDIuMzNjMCAzOS4xOCAxNi4zMiA2OC41NiA0Ni42NSA2OC41NiAyNy41MiAwIDQ1LjI0LTI3LjUyIDQ1LjI0LTY4LjU2IDAtMzQtMTMuMDYtNjguNTctNDUuMjQtNjguNTctMzQuMDUgMC00Ni42NSAzNC45OC00Ni42NSA2OC41N3pNNTQ2Ljc1IDM5LjdjMCAxOS41OS0xNC45MiAzNS40NS0zOC4yNCAzNS40NS0yMi4zOSAwLTM3LjMxLTE1Ljg2LTM2Ljg1LTM1LjQ1QzQ3MS4yIDE5LjE4IDQ4Ni4xMiAzLjg0IDUwOSAzLjg0YzIyLjg4IDAgMzcuMyAxNS4zNCAzNy43NSAzNS44NnptLTczLjIyIDI5MS41MVYxMDMuMTNoNzAuOXYyMjguMDhoLTcwLjl6bTEwOS4xMy0xNTUuMzJjMC0yOC40NC0uOTMtNTIuNy0xLjg2LTcyLjc2aDYxLjU2bDMuMjYgMzEuMjVINjQ3QzY1Ni4zMyAxMTkuOTIgNjc5LjY1IDk4IDcxNy40MyA5OGM0Ni42NSAwIDgxLjYyIDMwLjc4IDgxLjYyIDk4djEzNS4yMWgtNzAuODdWMjA0Ljg0YzAtMjkuMzgtMTAuMjUtNDkuNDQtMzUuOTEtNDkuNDQtMTkuNiAwLTMxLjI2IDEzLjUzLTM1LjkyIDI2LjU5LTEuODcgNC42Ni0yLjggMTEuMTktMi44IDE3LjczdjEzMS40OWgtNzAuODlWMTc1Ljg5ek05MTMuOCA0MS4xdjYyaDUwLjg0djUyLjI0SDkxMy44djgyLjU1YzAgMjcuNTMgNi41MyA0MC4xMSAyOCA0MC4xMSA5Ljc5IDAgMTQtLjQ1IDIxLTEuODZsLjQ3IDUzLjY0Yy05LjM0IDMuNzMtMjYuMTIgNi41My00Ni4xOCA2LjUzLTIyLjg2IDAtNDItOC40LTUzLjE3LTIwLjA1LTEzLjA5LTEzLjUtMTkuNjItMzUuNDItMTkuNjItNjcuNnYtOTMuMjlIODE0di01Mi4yNGgzMC4zVjYwLjIybDY5LjUtMTkuMTJ6bTMwNi40MSAyODEuMjVjLTEzLjA2IDYuNTMtNDIuNDQgMTQtODAuNjkgMTQtMTA4LjY3IDAtMTY0LjY1LTY4LjEtMTY0LjY1LTE1Ny42NCAwLTEwNy4yOCA3Ni41LTE2NyAxNzEuNjUtMTY3IDM2Ljg1IDAgNjQuODIgNy40NyA3Ny40MyAxNGwtMTQuNDYgNTYuNDNhMTUzLjY1IDE1My42NSAwIDAwLTU5LjctMTEuNjZjLTU2LjQ0IDAtMTAwLjI4IDM0LjA1LTEwMC4yOCAxMDQgMCA2MyAzNy4zMSAxMDIuNjEgMTAwLjc0IDEwMi42MSAyMS40NSAwIDQ1LjI1LTQuNjUgNTkuMjQtMTAuMjZsMTAuNzIgNTUuNTJ6TTEyNDQuNDQuMDZoNzAuOXYzMzEuMTVoLTcwLjl6bTE4Mi44MiAzOS42NGMwIDE5LjU5LTE0LjkyIDM1LjQ1LTM4LjI0IDM1LjQ1LTIyLjM4IDAtMzcuMzEtMTUuODYtMzYuODQtMzUuNDUtLjQ3LTIwLjUyIDE0LjQ2LTM1LjkxIDM3LjMxLTM1LjkxczM3LjMgMTUuMzkgMzcuNzcgMzUuOTF6TTEzNTQgMzMxLjIxVjEwMy4xM2g3MC44OXYyMjguMDhIMTM1NHptMjgwLjM0LTUuNmMtMTIuNiA1LjYtMzYuMzcgMTAuNzMtNjMuNDQgMTAuNzMtNzMuNjggMC0xMjAuOC00NS4yNC0xMjAuOC0xMTcuMDcgMC02Ni43IDQ1LjcxLTEyMS4yNyAxMzAuNi0xMjEuMjcgMTguNjUgMCAzOS4xOCAzLjI3IDU0LjEgOC44N2wtMTEuMTggNTIuN2MtOC40MS0zLjczLTIxLTctMzkuNjYtNy0zNy4zMSAwLTYxLjU2IDI2LjU5LTYxLjA5IDYzLjkgMCA0MiAyOCA2My45IDYyLjQ5IDYzLjkgMTYuOCAwIDI5Ljg1LTIuNzkgNDAuNTctNy40Nmw4LjQxIDUyLjd6bTkxLjM5LTEyNi40aC45NGM1LjE0LTkuMzMgMTAuNzItMTguNjUgMTYuMzEtMjcuNTJsNDYuMi02OC41Nmg4NS4zM2wtODEuNjEgOTIuMzUgOTMuMjkgMTM1LjczSDE3OTlsLTU1LTkzLjc1LTE4LjI3IDIyLjM4djcxLjM1aC03MC44OVYuMDZoNzAuODl2MTk5LjE1eiIvPjxwYXRoIGQ9Ik0yMTIyLjE3IDMyMi4zNWMtMTMuMDYgNi41My00Mi40MyAxNC04MC42OSAxNC0xMDguNjggMC0xNjQuNjUtNjguMS0xNjQuNjUtMTU3LjY0IDAtMTA3LjI4IDc2LjUtMTY3IDE3MS42NC0xNjcgMzYuODYgMCA2NC44MyA3LjQ3IDc3LjQ0IDE0bC0xNC40NyA1Ni40M2ExNTMuNjEgMTUzLjYxIDAgMDAtNTkuNy0xMS42NmMtNTYuNDMgMC0xMDAuMjcgMzQuMDUtMTAwLjI3IDEwNCAwIDYzIDM3LjMxIDEwMi42MSAxMDAuNzMgMTAyLjYxIDIxLjQ2IDAgNDUuMjYtNC42NSA1OS4yNC0xMC4yNmwxMC43MyA1NS41MnptMjExLjI3LTQ2LjY0YzAgMjEuOTEuOTMgNDIuOTIgMy4yNiA1NS41aC02My45MmwtNC4xOC0yMi44NWgtMS40MWMtMTQuOTIgMTguMTgtMzguMjQgMjgtNjUuMyAyOC00Ni4xNyAwLTczLjY5LTMzLjU4LTczLjY5LTcwIDAtNTkuMjQgNTMuMTctODcuNjggMTMzLjg2LTg3LjIydi0zLjI3YzAtMTIuMTItNi41Mi0yOS4zOC00MS41LTI5LjM4LTIzLjMyIDAtNDggNy45My02MyAxNy4yNmwtMTMuMDctNDUuNzFjMTUuODYtOC44NiA0Ny4xMi0yMC4wNiA4OC42Mi0yMC4wNiA3NiAwIDEwMC4zIDQ0Ljc4IDEwMC4zIDk4LjQybC4wMyA3OS4zMXptLTY5LTUyLjI0Yy0zNy4zMS0uNDctNjYuMjMgOC40LTY2LjIzIDM1LjkxIDAgMTguMiAxMi4xMyAyNy4wNyAyOCAyNy4wNyAxNy43MyAwIDMyLjE2LTExLjY4IDM2Ljg0LTI2LjEzYTUxLjUzIDUxLjUzIDAgMDAxLjQtMTIuMTNsLS4wMS0yNC43MnptMTA2LjI2LTQ1LjI0YzAtMzMuNTgtLjkyLTU1LjUxLTEuODUtNzUuMUgyNDMwbDIuMzQgNDJoMS44NmMxMS42NS0zMy4xMiAzOS42NC00Ny4xMSA2MS41Ni00Ny4xMSA2LjUzIDAgOS43OSAwIDE0Ljk0Ljk0djY3LjE2YTcxLjMzIDcxLjMzIDAgMDAtMTkuMTMtMi4zM2MtMjYuMTIgMC00My44NCAxNC00OC41MSAzNS45MmE4My42NCA4My42NCAwIDAwLTEuNCAxNS44NnYxMTUuNjRoLTcwLjk2VjE3OC4yM3ptMjA5LjQyIDYxLjYxYzIuMzMgMjkuMzggMzEuMjUgNDMuMzkgNjQuMzcgNDMuMzkgMjQuMjUgMCA0My44My0zLjI3IDYzLTkuMzRsOS4zMSA0OC4wNWMtMjMuMyA5LjMyLTUxLjc2IDE0LjQ1LTgyLjU0IDE0LjQ1LTc3LjQ0IDAtMTIxLjc0LTQ1LjI0LTEyMS43NC0xMTYuNiAwLTU3LjgzIDM1LjkyLTEyMS43NCAxMTUuMjEtMTIxLjc0IDczLjY4IDAgMTAxLjY3IDU3LjM3IDEwMS42NyAxMTMuOCAwIDkuMzgyLS43ODEgMTguNzQ3LTIuMzMgMjhsLTE0Ni45NS0uMDF6bTgzLjUtNDguNTFjMC0xNy4yNS03LjQ4LTQ2LjE3LTQwLjEyLTQ2LjE3LTI5Ljg1IDAtNDIgMjctNDMuODUgNDYuMTdoODMuOTd6Ii8+PC9nPjwvc3ZnPg=="},"1WVR":function(e,t,a){},"1lCP":function(e,t,a){},2:function(e,t){},"2kHQ":function(e,t,a){"use strict";var s=a("LvDl"),n=a.n(s);a("17BF");t.a={state:{userId:null,managedResource:null,roles:null,internalUser:!1,isAdmin:!1,pccAdmin:!1,pccImplementer:!1,profile:null,schema:null,access:[],givenName:"",sn:"",email:"",userName:"",mobilePhoneNumber:"",telephoneNumber:"",accessingEntityApps:[],currentAccessingEntityApps:[],federated:!1,pwdToken:"",navBarOpen:!1,currentIdzEditPageName:"",tenantId:null},getCurrentAccessingEntityApps:function(){return n.a.clone(this.state.currentAccessingEntityApps)},getUserId:function(){return n.a.clone(this.state.userId)},getPccAdmin:function(){return n.a.clone(this.state.pccAdmin)},getPccImplementer:function(){return n.a.clone(this.state.pccImplementer)},getPwdToken:function(){return this.state.pwdToken},getUserName:function(){return this.state.userName},setProfileAction:function(e){e.givenName?this.state.givenName=e.givenName:this.state.givenName="",e.sn?this.state.sn=e.sn:this.state.sn="",e.mail?this.state.email=e.mail:this.state.email="",e.userName?this.state.userName=e.userName:this.state.userName="",e.mobilePhoneNumber?this.state.mobilePhoneNumber=e.mobilePhoneNumber:this.state.mobilePhoneNumber="",e.telephoneNumber?this.state.telephoneNumber=e.telephoneNumber:this.state.telephoneNumber="",e.federated?this.state.federated=!0:this.state.federated=!1,this.state.profile=e},getProfileAction:function(){return this.state.profile},setUserIdAction:function(e){this.state.userId=n.a.clone(e)},setAccessingEntityApps:function(e){this.state.accessingEntityApps=n.a.clone(e)},setAdminAction:function(e){this.state.pccAdmin=n.a.clone(e)},setImplementerAction:function(e){this.state.pccImplementer=n.a.clone(e)},setCurrentAccessingEntityApps:function(e){this.state.currentAccessingEntityApps=n.a.clone(e)},setPwdTokenAction:function(e){this.state.pwdToken=e},setUserNameAction:function(e){this.state.userName=e},getTenantId:function(){return this.state.tenantId},setTenantId:function(e){this.state.tenantId=e},updateAppsListInUserStore:function(e){if(e&&e.data&&e.data.products){var t=e.data.products,a=[];(t||[]).forEach((function(e){if(!a.some((function(t){return t.name===e.appName}))){var t=null;if(e.applications&&e.applications.length>0){var s=e.applications[0].id;t=e.url?"/api/app-redirect/".concat(s):null}a.push({name:e.appName,displayName:e.displayName,url:t,logo:e.logo})}})),this.setAccessingEntityApps(a)}},displayApplications:function(){var e=[];0!==this.state.accessingEntityApps.length&&this.state.accessingEntityApps.forEach((function(t){e.push(t)})),this.setCurrentAccessingEntityApps(e)}}},3:function(e,t){},"3lHj":function(e,t,a){},4:function(e,t){},"4+WZ":function(e,t){!function(){if(!window.PccUsageAnalytics){var e={version:"1.3",config:{},queuedEvents:[],commonEventAttributes:{},mergeAttributes:function(e,t){var a,s={};for(a in e)s[a]=e[a];for(a in t)s[a]=t[a];return s},init:function(){},updateMetadata:function(e){},loadGuides:function(){},stopGuides:function(){},trackEvent:function(e,t){}};window.PccUsageAnalytics=e}}()},"4j4f":function(e,t,a){},"4kXh":function(e,t,a){"use strict";t.a={namespaced:!0,state:function(){return{globalOrg:null,productsEnabledForOrg:[],showSwitchOrgModal:!1,showCreateOrgModal:!1,showDiscardChangesModal:!1,globalUnsavedChanges:!1,isRouteChange:!1,routeTo:"",showSessionTimeoutModal:!1}},mutations:{changeGlobalOrg:function(e,t){e.globalOrg=t},setProductsEnabledForOrg:function(e,t){e.productsEnabledForOrg=t},setShowSwitchOrgModal:function(e,t){e.showSwitchOrgModal=t},setShowCreateOrgModal:function(e,t){e.showCreateOrgModal=t},setShowDiscardChangesModal:function(e,t){e.showDiscardChangesModal=t},setGlobalUnsavedChanges:function(e,t){e.globalUnsavedChanges=t},setIsRouteChange:function(e,t){e.isRouteChange=t},setRouteTo:function(e,t){e.routeTo=t},setGlobalMfa:function(e,t){e.globalOrg.mfaRequired=t.mfaRequired,e.globalOrg.mfaStatus=t.mfaStatus},setShowSessionTimeoutModal:function(e,t){e.showSessionTimeoutModal=t}},getters:{globalOrg:function(e){return e.globalOrg},productsEnabledForOrg:function(e){return e.productsEnabledForOrg},showSwitchOrgModal:function(e){return e.showSwitchOrgModal},showCreateOrgModal:function(e){return e.showCreateOrgModal},showDiscardChangesModal:function(e){return e.showDiscardChangesModal},globalUnsavedChanges:function(e){return e.globalUnsavedChanges},isRouteChange:function(e){return e.isRouteChange},routeTo:function(e){return e.routeTo},showSessionTimeoutModal:function(e){return e.showSessionTimeoutModal}}}},"4lbP":function(e,t,a){},"4qL4":function(e,t){t.getFacadeConfig=function(e){return e&&"production"===e?window.location.protocol+"//"+window.location.host+"/api":"/api"},t.getLink=function(e){if(e){if(e.endsWith(".pcc-labs.com"))return"https://7smo64ggsc.execute-api.us-east-1.amazonaws.com/ProdStage";if(e.endsWith(".pointclickcare.com"))return"https://fwyzbsy1ve.execute-api.us-east-1.amazonaws.com/ProdStage"}},t.getIdleTimeout=function(){return"Cypress"in window&&1==window.earlyTimeoutForTest?5e3:36e5},t.getPrivacyLink=function(){return"https://pointclickcare.com/privacy-policy/"}},"5IQe":function(e,t,a){"use strict";var s={name:"evergreen-text-button",components:{},props:{label:{required:!0,type:String},loading:{required:!1,type:Boolean}}},n=a("JFUb");var r=function(e){a("hfN/")},o=Object(n.a)(s,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("v-btn",e._b({staticClass:"px-0",attrs:{color:"secondary",text:"",depressed:"",loading:!0===e.loading}},"v-btn",e.$attrs,!1),[e._v("\n  "+e._s(e.label)+"\n")])}),[],!1,r,null,null);t.a=o.exports},"66Zn":function(e,t,a){},"6Dfm":function(e,t,a){},"8Kf6":function(e,t,a){},"8UCZ":function(e,t,a){},"8uf0":function(e,t,a){},"94T+":function(e,t,a){},"9X7B":function(e,t,a){"use strict";var s={name:"MfaDeclarationContent",components:{"e-span":a("UMUT").a}},n=a("JFUb");var r=function(e){a("3lHj")},o=Object(n.a)(s,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{"data-test":"mfa-terms-and-conditions-dialog-text"}},[a("e-span",{attrs:{type:"body-2",label:"PointClickCare Technologies Inc."}}),e._v(" "),a("e-span",{staticClass:"pcc-body-2-bold",attrs:{type:"body-2",label:"(“PointClickCare”)"}}),e._v(" "),a("e-span",{attrs:{type:"body-2",label:"has developed a Multi-Factor Authentication solution (the"}}),e._v(" "),a("e-span",{staticClass:"pcc-body-2-bold",attrs:{type:"body-2",label:"“MFA”"}}),e._v(" "),a("e-span",{attrs:{type:"body-2",label:") as an additional layer of security onto its core services to help prevent cyber criminals from accessing its system."}}),e._v(" "),a("e-span",{attrs:{type:"body-2",label:"By using the MFA, you agree, on behalf of the customer, its employees, its affiliates, and their employees (together, "}}),e._v(" "),a("e-span",{staticClass:"pcc-body-2-bold",attrs:{type:"body-2",label:'"you"'}}),e._v(" "),a("e-span",{attrs:{type:"body-2",label:"or "}}),a("e-span",{staticClass:"pcc-body-2-bold",attrs:{type:"body-2",label:'"your"'}}),e._v(" "),a("e-span",{attrs:{type:"body-2",label:"), to be bound by the following terms and conditions (the"}}),e._v(" "),a("e-span",{staticClass:"pcc-body-2-bold",attrs:{type:"body-2",label:'"MFA Terms and Conditions"'}}),e._v(" "),a("e-span",{attrs:{type:"body-2",label:"), in addition to any other agreement you have with PointClickCare, or any of its affiliates."}}),e._v(" "),a("e-span",{attrs:{type:"body-2",label:"In case of conflict, the MFA Terms and Conditions shall take precedence over the terms and conditions in any other agreement between you and PointClickCare, or any of its affiliates."}}),e._v(" "),a("br"),e._v(" "),a("br"),a("e-span",{staticClass:"pcc-body-2-bold",attrs:{label:"Conditions of Use",type:"body-2"}}),e._v(" "),a("br"),a("e-span",{attrs:{type:"body-2",label:"You must comply with the provisions of these MFA Terms and Conditions."}}),e._v(" "),a("e-span",{attrs:{type:"body-2",label:"PointClickCare reserves the right to modify these MFA Terms and Conditions from time to time in its sole discretion, without notice or liability to you."}}),e._v(" "),a("e-span",{attrs:{type:"body-2",label:"By continuing to use the MFA, you will be deemed to have accepted these modifications."}}),e._v(" "),a("e-span",{attrs:{type:"body-2",label:"You may terminate these MFA Terms and Conditions by ceasing use of the MFA."}}),e._v(" "),a("br"),e._v(" "),a("br"),a("e-span",{staticClass:"pcc-body-2-bold",attrs:{label:"Prohibited Actions",type:"body-2"}}),e._v(" "),a("br"),a("e-span",{attrs:{type:"body-2",label:"You will not (a) make and distribute copies of any aspect of the MFA,"}}),e._v(" "),a("e-span",{attrs:{type:"body-2",label:"(b) attempt to copy, reproduce, alter, modify, reverse engineer, record, disassemble, decompile, de-construct, translate the MFA or any associated PointClickCare service; or"}}),e._v(" "),a("e-span",{attrs:{type:"body-2",label:"(c) create or attempt to create derivative works of or from the MFA or any PointClickCare service."}}),e._v(" "),a("e-span",{attrs:{type:"body-2",label:"In connection with your use of the MFA, neither you, or any third party on your behalf shall: (i) violate any applicable laws;"}}),e._v(" "),a("e-span",{attrs:{type:"body-2",label:"(ii) violate the legal rights of any third party, including but not limited to copyrights, trademarks, rights of privacy and data protection."}}),e._v(" "),a("br"),e._v(" "),a("br"),a("e-span",{staticClass:"pcc-body-2-bold",attrs:{label:"Intellectual Property",type:"body-2"}}),e._v(" "),a("br"),a("e-span",{attrs:{type:"body-2",label:"All aspects of the MFA are the intellectual property of PointClickCare."}}),e._v(" "),a("e-span",{attrs:{type:"body-2",label:"This includes any documentation or materials that PointClickCare provides to you and any feedback you provide to PointClickCare."}}),e._v(" "),a("e-span",{attrs:{type:"body-2",label:"Neither you nor your employees, agents or contractors acquire nor will acquire any intellectual property rights under these MFA Terms and Conditions (including but not limited to patent, copyright, and trademark rights) except,"}}),e._v(" "),a("e-span",{attrs:{type:"body-2",label:"for the authorized duration of your use of the MFA, a non-exclusive, revocable, non-sublicensable license to use the MFA in accordance with and pursuant to these MFA Terms and Conditions."}}),e._v(" "),a("br"),e._v(" "),a("br"),a("e-span",{staticClass:"pcc-body-2-bold",attrs:{label:"Representations and Warranties",type:"body-2"}}),e._v(" "),a("br"),a("e-span",{attrs:{type:"body-2",label:"You represent and warrant that you have full power and authority to accept these MFA Terms and Conditions on behalf of the customer, its employees, its affiliates, and their employees."}}),e._v(" "),a("br"),e._v(" "),a("br"),a("e-span",{staticClass:"pcc-body-2-bold",attrs:{type:"body-2",label:"Indemnification"}}),e._v(" "),a("br"),a("e-span",{attrs:{type:"body-2",label:"You agree to indemnify, defend and hold PointClickCare, its affiliates, and their officers, directors, agents, licensors and licensees (collectively, the"}}),e._v(" "),a("e-span",{staticClass:"pcc-body-2-bold",attrs:{type:"body-2",label:'"Indemnified Parties"'}}),e._v(" "),a("e-span",{attrs:{type:"body-2",label:") harmless from and against any and all liability and costs (including, without limitation, reasonable attorneys’ fees) incurred by the Indemnified Parties in connection with any claim arising out of:"}}),e._v(" "),a("e-span",{attrs:{type:"body-2",label:"(i) your use of the MFA; (ii) any breach of or noncompliance with any representation, warranty or obligation in these MFA Terms and Conditions or referenced terms or policies; and (iii) any claim that you violate any applicable law, including without limitation intellectual property rights of a third party."}}),e._v(" "),a("e-span",{attrs:{type:"body-2",label:"You shall cooperate as fully as reasonably required in the defense of any claim. PointClickCare reserves the right, at its own expense, to assume the exclusive defense and control of any matter subject to indemnification by you."}}),e._v(" "),a("e-span",{attrs:{type:"body-2",label:"You acknowledge that damages for improper use of the MFA may be irreparable; therefore, PointClickCare is entitled to equitable relief, including injunction and preliminary injunction, in addition to all other remedies."}}),e._v(" "),a("br"),e._v(" "),a("br"),a("e-span",{staticClass:"pcc-body-2-bold",attrs:{type:"body-2",label:"Disclaimer of Warranties"}}),e._v(" "),a("br"),a("e-span",{attrs:{type:"body-2",label:"PointClickCare disclaims any responsibility for any harm resulting from your use of the MFA. You acknowledge and accept that the MFA is provided by PointClickCare “as is” and “as available” with no warranties of any kind, either express or implied, including, but not limited to, the implied warranties of merchantability,"}}),e._v(" "),a("e-span",{attrs:{type:"body-2",label:"fitness for a particular purpose and non-infringement of intellectual proprietary rights. PointClickCare disclaims any warranties regarding the security, reliability, timeliness and performance of the MFA."}}),e._v(" "),a("e-span",{attrs:{type:"body-2",label:"You assume all risk and responsibility for the selection, installation, and use of the MFA. You acknowledge and accept the fact that PointClickCare does not represent or warrant the MFA will be error-free or uninterrupted, that defects will be corrected,"}}),e._v(" "),a("e-span",{attrs:{type:"body-2",label:"that the technology, systems or servers (including third-party technology, systems and servers used by customer) are free of viruses or other harmful components, or that the results obtained from the use of the MFA will be accurate, complete, or current."}}),e._v(" "),a("e-span",{attrs:{type:"body-2",label:"You acknowledge and accept that any material downloaded or otherwise obtained through the use of the MFA is done at your own risk and you will be responsible for any damage to your computer system, third-party technology, loss of data or unauthorized access to data that result from the use of any such material."}}),e._v(" "),a("e-span",{attrs:{type:"body-2",label:"No advice or information you obtain from PointClickCare or through the MFA shall create any warranty not expressly stated expressly in the MFA Terms and Conditions. PointClickCare does not warrant that the MFA will meet your specific requirements or that the MFA will operate in combination with other software or hardware."}}),e._v(" "),a("e-span",{attrs:{type:"body-2",label:"PointClickCare is not responsible for any compatibility issues or other problems that may arise as a result of you using the MFA in conjunction with other systems or software."}}),e._v(" "),a("br"),e._v(" "),a("br"),a("e-span",{staticClass:"pcc-body-2-bold",attrs:{type:"body-2",label:"Limitation Of Liability"}}),e._v(" "),a("br"),a("e-span",{attrs:{type:"body-2",label:"To the fullest extent permitted by law, the maximum liability of PointClickCare to any person, firm, or corporation whatsoever (including to you) arising out of or in connection with the MFA shall be the greater of $10,000 or the amount paid by the customer to PointClickCare for the services provided by PointClickCare in the twelve-month period prior to the date of the applicable claim."}}),e._v(" "),a("e-span",{attrs:{type:"body-2",label:"This limitation of liability applies to all causes of action including breach of contract, tort liability and negligence."}}),e._v(" "),a("e-span",{attrs:{type:"body-2",label:"PointClickCare shall not be liable for any indirect, consequential, special, exemplary, punitive or incidental damages arising out of, or relating to, your use or misuse of the MFA, whether such damages is based on warranty, contract, tort (including negligence), or otherwise."}}),e._v(" "),a("e-span",{attrs:{type:"body-2",label:"Such limitation of liability shall apply whether the damages result from the use, misuse, or reliance on the MFA, including its interruption, suspension, or termination."}}),e._v(" "),a("br"),e._v(" "),a("br"),a("e-span",{staticClass:"pcc-body-2-bold",attrs:{type:"body-2",label:"Additional Provisions"}}),e._v(" "),a("br"),a("e-span",{attrs:{type:"body-2",label:"These MFA Terms and Conditions are not intended to benefit, nor shall they be deemed to give rise to, any rights in any third party."}}),e._v(" "),a("e-span",{attrs:{type:"body-2",label:"If for any reason a court of competent jurisdiction finds any provision or portion of these MFA Terms and Conditions to be unenforceable, the remainder of these MFA Terms and Conditions will continue in full force and effect."}}),e._v(" "),a("e-span",{attrs:{type:"body-2",label:"These MFA Terms and Conditions, together with any other agreement between you and PointClickCare, or any of its affiliates, constitute the entire agreement between the parties with respect to the subject matter hereof and supersede and replace all prior or contemporaneous understandings or agreements, written or oral, regarding such subject matter."}}),e._v(" "),a("e-span",{attrs:{type:"body-2",label:"Any waiver of any provision of these MFA Terms and Conditions will be effective only if in writing and signed by PointClickCare. "}})],1)}),[],!1,r,"data-v-72b9e6c5",null);t.a=o.exports},AqDM:function(e,t,a){},BR41:function(e,t,a){},CFYQ:function(e,t,a){},CN8C:function(e,t,a){},DHP9:function(e,t,a){},DvQg:function(e,t,a){"use strict";var s={name:"evergreen-outlined-button",components:{},props:{label:{required:!0,type:String},loading:{required:!1,type:Boolean}},data:function(){return{isIE:!1}},created:function(){this.isIE=!!document.documentMode}},n=a("JFUb");var r=function(e){a("P5Kv")},o=Object(n.a)(s,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("v-btn",e._b({class:[{"px-4":e.isIE}],attrs:{color:"secondary",text:"",depressed:"",outlined:"",loading:!0===e.loading}},"v-btn",e.$attrs,!1),[e._v("\n  "+e._s(e.label)+"\n")])}),[],!1,r,null,null);t.a=o.exports},EGop:function(e,t,a){},EWJj:function(e,t,a){"use strict";(function(e){var s=a("yXPU"),n=a.n(s),r=a("RIqP"),o=a.n(r),i=a("o0o1"),l=a.n(i),c=a("LvDl"),d=a.n(c),u=a("UMUT"),p=a("NIQi"),m=a("WkTL"),g=a("9X7B"),f=a("5IQe"),v=a("DvQg"),h=a("e7F3");t.a={components:{"evergreen-span":u.a,"evergreen-contained-button":p.a,"mfa-declaration-content":g.a,"evergreen-text-button":f.a,"evergreen-outlined-button":v.a},data:function(){return{panel:[0,1,2],showLoading:!1,mfaFields:{organizationId:"",mfaStatus:"ENABLED_FOR_IT_ADMINS_ONLY",mfaFrequency:0,mfaIgnoreIpMaskCheck:!0},disableSaveButton:!1,mfaRadiobuttonOptions:[{enum:"ENABLED_FOR_IT_ADMINS_ONLY",displayName:this.$t("pages.mfa.mfaStatusOptions.enabledForITAdminsOnly"),order:1},{enum:"ENABLED_FOR_IT_ADMINS_AND_REMOTE_USERS",displayName:this.$t("pages.mfa.mfaStatusOptions.enabledForITAdminsAndRemoteUsers"),order:2},{enum:"ENABLED_FOR_ALL_USERS",displayName:this.$t("pages.mfa.mfaStatusOptions.enabledForAllUsers"),order:3}],availableMfaRadiobuttonOptions:[],mfaEnabled:"DISABLED",termsDialog:!1,mfaConfiguration:{mfaStatus:"",mfaRolloutStandardRoles:[],termsAcceptedBy:"",termsAcceptedAt:"",mfaFrequency:0,lastModifiedBy:"",lastModifiedAt:"",mfaIgnoreIpMaskCheck:!0},termsAccepted:!1,listOfEditOrgRoles:[],selectedEditOrgRoles:[],itAdminRoles:["".concat(this.$t("pages.mfa.itAdminRole"))],noRoleAssigned:["".concat(this.$t("pages.mfa.noRoleAssigned.value"))],mfaFrequencySelected:"0"}},methods:{changesSaved:function(){this.$store.commit("globalContext/setGlobalUnsavedChanges",!1)},changesNotSaved:function(){this.$store.commit("globalContext/setGlobalUnsavedChanges",!0)},updateAvailableMfaDropdownOptions:function(e){"INTERNAL"!==e.scope?this.availableMfaRadiobuttonOptions=this.mfaRadiobuttonOptions.filter((function(e){return"ENABLED_FOR_IT_ADMINS_AND_REMOTE_USERS"!==e.enum})):this.availableMfaRadiobuttonOptions.some((function(e){return"ENABLED_FOR_IT_ADMINS_AND_REMOTE_USERS"===e.enum}))||(this.availableMfaRadiobuttonOptions.push(this.mfaRadiobuttonOptions.find((function(e){return"ENABLED_FOR_IT_ADMINS_AND_REMOTE_USERS"===e.enum}))),this.availableMfaRadiobuttonOptions.sort((function(e,t){return e.order-t.order})))},termsAcceptedClickHandler:function(){this.termsDialog=!1,this.termsAccepted=!0},termsDeclinedClickHandler:function(){this.mfaEnabled="DISABLED",this.termsDialog=!1,this.termsAccepted=!1},mfaSwitchChangeHandler:function(){"ENABLED"!==this.mfaEnabled||this.mfaConfiguration.termsAcceptedBy?"DISABLED"===this.mfaEnabled&&(this.termsAccepted=!1):this.termsDialog=!0,this.changesNotSaved()},mfaRadioChangeHandler:function(){var e=this;"ENABLED_FOR_IT_ADMINS_ONLY"!==this.mfaFields.mfaStatus&&(this.itAdminRoles.forEach((function(t){e.selectedEditOrgRoles.includes(t)||(e.selectedEditOrgRoles=[].concat(o()(e.selectedEditOrgRoles),[t]))})),1===this.selectedEditOrgRoles.length&&this.noRoleAssigned.forEach((function(t){e.selectedEditOrgRoles.includes(t)||(e.selectedEditOrgRoles=[].concat(o()(e.selectedEditOrgRoles),[t]))})))},mfaFrequencyChangeHandler:function(){"0"==this.mfaFrequencySelected?this.mfaFields.mfaFrequency=0:this.mfaFields.mfaFrequency="",this.changesNotSaved()},closeWindow:function(){window.close()},populateMfaFields:function(){var e=this,t=this.mfaConfiguration.mfaStatus?this.mfaConfiguration.mfaStatus.toString():null;this.mfaFields={organizationId:this.org.id,mfaStatus:"DISABLED"===t?"ENABLED_FOR_IT_ADMINS_ONLY":t,mfaFrequency:this.mfaConfiguration.mfaFrequency,mfaIgnoreIpMaskCheck:this.mfaConfiguration.mfaIgnoreIpMaskCheck},"ENABLED_FOR_IT_ADMINS_ONLY"===this.mfaConfiguration.mfaStatus?this.selectedEditOrgRoles=this.itAdminRoles:this.selectedEditOrgRoles=this.listOfEditOrgRoles.map((function(e){return e.value})).filter((function(t){return e.mfaConfiguration.mfaRolloutStandardRoles.includes(t)})),t?(this.mfaEnabled="DISABLED"===t?t:"ENABLED","DISABLED"===this.mfaEnabled&&(this.termsAccepted=!1)):(this.mfaEnabled="DISABLED",this.termsAccepted=!1),0===this.mfaFields.mfaFrequency?this.mfaFrequencySelected="0":this.mfaFrequencySelected="1",this.mfaFields.mfaIgnoreIpMaskCheck||(this.availableMfaRadiobuttonOptions=this.availableMfaRadiobuttonOptions.filter((function(e){return"ENABLED_FOR_ALL_USERS"!==e.enum})))},addEditRolesToggle:function(){var e=this;this.$nextTick((function(){e.$refs.editRolesAutocomplete.internalSearch=null,e.selectedEditOrgRoles.length===e.listOfEditOrgRoles.length?e.selectedEditOrgRoles=e.listOfEditOrgRoles.filter((function(t){return e.itAdminRoles.includes(t.value)})).map((function(e){return e.value})):e.selectedEditOrgRoles=e.listOfEditOrgRoles.map((function(e){return e.value}))})),this.changesNotSaved()},updateRoles:function(e){var t=this;this.selectedEditOrgRoles=e,this.$nextTick((function(){t.$refs.editRolesAutocomplete.internalSearch=null})),this.changesNotSaved()},loadMfaConfiguration:function(){var e=this;return n()(l.a.mark((function t(){var a,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.showLoading=!0,!e.org||!e.org.id){t.next=14;break}return t.prev=2,t.next=5,m.a.getMfaConfiguration(e.org.id);case 5:a=t.sent,e.mfaConfiguration=a.data,e.populateMfaFields(),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),s=e.getErrorMessage(["response","data","errors",0,"title"],t.t0)||t.t0.message,e.displayNotification("error",s);case 14:e.showLoading=!1;case 15:case"end":return t.stop()}}),t,null,[[2,10]])})))()},loadOrganizationRoles:function(){var e=this;return n()(l.a.mark((function t(){var a,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.showLoading=!0,!e.org||!e.org.id){t.next=7;break}return t.next=4,m.a.getAllGroups();case 4:(a=t.sent).data&&a.data.length&&(e.listOfEditOrgRoles=[],s={value:"".concat(e.$t("pages.mfa.noRoleAssigned.value")),text:"".concat(e.$t("pages.mfa.noRoleAssigned.displayName"))},e.listOfEditOrgRoles.push(s),a.data.forEach((function(t){var a={value:t.name,text:t.displayName};"sc-temp-access"!==a.value&&(e.itAdminRoles.includes(a.value)&&(a.disabled=!0),e.listOfEditOrgRoles.push(a))}))),e.populateMfaFields();case 7:e.showLoading=!1;case 8:case"end":return t.stop()}}),t)})))()},onSave:function(){var e=this;return n()(l.a.mark((function t(){var a,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$validator.validateAll();case 2:if(t.sent){t.next=5;break}return t.abrupt("return");case 5:return e.disableSaveButton=!0,t.prev=6,a=d.a.cloneDeep(e.mfaFields),"DISABLED"===e.mfaEnabled?(a.mfaStatus="DISABLED",a.mfaFrequency=0,a.mfaRolloutStandardRoles=[],a.mfaIgnoreIpMaskCheck=!0):"ENABLED_FOR_IT_ADMINS_ONLY"===a.mfaStatus?a.mfaRolloutStandardRoles=e.itAdminRoles:a.mfaRolloutStandardRoles=e.selectedEditOrgRoles.map((function(e){return e})),t.next=11,m.a.updateMfa(a);case 11:return e.displayNotification("success",e.$t("common.form.saved")),t.next=14,e.loadMfaConfiguration();case 14:e.disableSaveButton=!1,e.changesSaved(),t.next=24;break;case 18:t.prev=18,t.t0=t.catch(6),e.populateMfaFields(),e.disableSaveButton=!1,s=e.getErrorMessage(["response","data","errors",0,"title"],t.t0)||t.t0.message,e.displayNotification("error",s);case 24:e.setLoading(!1);case 25:case"end":return t.stop()}}),t,null,[[6,18]])})))()},mfaIpCheckSwitchChangeHandler:function(){if(this.mfaFields.mfaIgnoreIpMaskCheck){var e=this.mfaRadiobuttonOptions.find((function(e){return"ENABLED_FOR_ALL_USERS"===e.enum}));e&&this.availableMfaRadiobuttonOptions.push(e),this.availableMfaRadiobuttonOptions.sort((function(e,t){return e.order-t.order}))}else this.availableMfaRadiobuttonOptions=this.availableMfaRadiobuttonOptions.filter((function(e){return"ENABLED_FOR_ALL_USERS"!==e.enum}));this.changesNotSaved()}},computed:{isEditPresent:function(){var e=this;return"DISABLED"===this.mfaEnabled&&"DISABLED"!==this.mfaConfiguration.mfaStatus.toString()||"DISABLED"!==this.mfaEnabled&&this.mfaFields.mfaStatus.toString()!==this.mfaConfiguration.mfaStatus.toString()||this.termsAccepted&&!this.mfaConfiguration.termsAcceptedBy||!this.selectedEditOrgRoles.every((function(t){return e.mfaConfiguration.mfaRolloutStandardRoles.includes(t)}))||this.selectedEditOrgRoles.length!==this.mfaConfiguration.mfaRolloutStandardRoles.length||this.mfaFields.mfaFrequency!=this.mfaConfiguration.mfaFrequency||this.mfaFields.mfaIgnoreIpMaskCheck!=this.mfaConfiguration.mfaIgnoreIpMaskCheck},org:function(){return this.$store.get("globalContext/globalOrg")},routeTo:function(){return this.$store.get("globalContext/routeTo")},getEditRolesToggleIcon:function(){return this.selectedEditOrgRoles.length===this.listOfEditOrgRoles.length?"mdi-checkbox-marked":this.selectedEditOrgRoles.length>0?"mdi-minus-box":"mdi-checkbox-blank-outline"},shouldDisplayRoles:function(){return"ENABLED_FOR_IT_ADMINS_ONLY"!==this.mfaFields.mfaStatus&&"DISABLED"!==this.mfaFields.mfaStatus&&"DISABLED"!==this.mfaEnabled},getTermsAcceptedAt:function(){if(this.mfaConfiguration.termsAcceptedAt&&e(this.mfaConfiguration.termsAcceptedAt).isValid()){var t=e().subtract(24,"hour");return e(this.mfaConfiguration.termsAcceptedAt).isBefore(t)?e(this.mfaConfiguration.termsAcceptedAt).format("YYYY/MM/DD HH:mm"):e(this.mfaConfiguration.termsAcceptedAt).fromNow()}return""},getLastModifiedAt:function(){if(this.mfaConfiguration.lastModifiedDate&&e(this.mfaConfiguration.lastModifiedDate).isValid()){var t=e().subtract(24,"hour");return e(this.mfaConfiguration.lastModifiedDate).isBefore(t)?e(this.mfaConfiguration.lastModifiedDate).format("YYYY/MM/DD HH:mm"):e(this.mfaConfiguration.lastModifiedDate).fromNow()}return""},mfaMinHeight:function(){return{"min-height":"DISABLED"!==this.mfaEnabled?"7rem":"15rem"}}},watch:{org:function(e,t){var a=this;return n()(l.a.mark((function s(){return l.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(!(!t&&e||e&&e.id!==t.id)){s.next=5;break}return a.loadOrganizationRoles(),s.next=4,a.loadMfaConfiguration();case 4:a.updateAvailableMfaDropdownOptions(e);case 5:case"end":return s.stop()}}),s)})))()},routeTo:function(e,t){e&&e.id!==t.id&&this.gotoOrgProfilePage()}},mounted:function(){var e=this;this.loadOrganizationRoles(),this.loadMfaConfiguration(),this.$root.$on("unsavedChanges",(function(){e.changesNotSaved()})),this.$root.$on("changesSaved",(function(){e.changesSaved()}))},created:function(){this.availableMfaRadiobuttonOptions=d.a.cloneDeep(this.mfaRadiobuttonOptions),this.updateAvailableMfaDropdownOptions(this.org);h.a.localize("en",{custom:{mfaFrequency:{required:function(){return"This field is required"},max_value:function(){return"Max 24 hours"},min_value:function(){return"Minimum 1 hour"}}}})},$_veeValidate:{validator:"new"}}}).call(this,a("cHx3").default)},"Fh6/":function(e,t,a){},Fm3j:function(e,t,a){},IaQy:function(e,t,a){},IcUa:function(e,t,a){},"J+EE":function(e,t,a){},KE9I:function(e,t,a){},Kw7P:function(e,t,a){},LGkr:function(e,t,a){},MLgf:function(e,t,a){},NIQi:function(e,t,a){"use strict";var s={name:"evergreen-contained-button",components:{},props:{label:{required:!0,type:String},loading:{required:!1,type:Boolean},href:{required:!1,type:String}},data:function(){return{isIE:!1}},created:function(){this.isIE=!!document.documentMode}},n=a("JFUb");var r=function(e){a("iRKe")},o=Object(n.a)(s,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("v-btn",e._b({class:[{"px-4":e.isIE},"secondary elevation-1"],attrs:{color:"btn-color",href:e.href,loading:!0===e.loading}},"v-btn",e.$attrs,!1),[e._v(e._s(e.label))])}),[],!1,r,null,null);t.a=o.exports},OeGN:function(e,t,a){},OwqI:function(e,t,a){},P35j:function(e,t,a){},P5Kv:function(e,t,a){},PjdC:function(e,t,a){},Qc4v:function(e,t,a){},QewJ:function(e,t,a){},"S+Zq":function(e,t,a){},S85Z:function(e,t,a){},ScZy:function(e,t,a){},SrrV:function(e,t,a){},TjP2:function(e,t,a){},TorS:function(e,t,a){},Twh7:function(e,t,a){"use strict";var s=a("LvDl"),n=a.n(s);t.a={state:{authorizationMap:null},getUserPrivilegesState:function(){return n.a.clone(this.state)},getAuthorizationMap:function(){return this.state.authorizationMap},setAuthorizationMap:function(e){this.state.authorizationMap=n.a.clone(e)},clearStoreAction:function(){this.state.authorizationMap=null}}},UMUT:function(e,t,a){"use strict";var s={name:"evergreen-span",components:{},props:{type:{required:!0,type:String},label:{default:void 0,type:String}},data:function(){return{}}},n=a("JFUb");var r=function(e){a("WJZ/")},o=Object(n.a)(s,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return"h1"==e.type?a("span",{staticClass:"pcc-h1"},[e._t("default",(function(){return[e._v(e._s(e.label))]}))],2):"h2"==e.type?a("span",{staticClass:"pcc-h2"},[e._t("default",(function(){return[e._v(e._s(e.label))]}))],2):"h2-danger"==e.type?a("span",{staticClass:"pcc-h2-danger"},[e._t("default",(function(){return[e._v(e._s(e.label))]}))],2):"h3"==e.type?a("span",{staticClass:"pcc-h3"},[e._t("default",(function(){return[e._v(e._s(e.label))]}))],2):"h3-light"==e.type?a("span",{staticClass:"pcc-h3-light"},[e._t("default",(function(){return[e._v(e._s(e.label))]}))],2):"h4"==e.type?a("span",{staticClass:"pcc-h4"},[e._t("default",(function(){return[e._v(e._s(e.label))]}))],2):"h4-light"==e.type?a("span",{staticClass:"pcc-h4-light"},[e._t("default",(function(){return[e._v(e._s(e.label))]}))],2):"h5-medium"==e.type?a("span",{staticClass:"pcc-h5-medium"},[e._t("default",(function(){return[e._v(e._s(e.label))]}))],2):"h5"==e.type?a("span",{staticClass:"pcc-h5"},[e._t("default",(function(){return[e._v(e._s(e.label))]}))],2):"h5-light"==e.type?a("span",{staticClass:"pcc-h5-light"},[e._t("default",(function(){return[e._v(e._s(e.label))]}))],2):"h6"==e.type?a("span",{staticClass:"pcc-h6"},[e._t("default",(function(){return[e._v(e._s(e.label))]}))],2):"h6-regular"==e.type?a("span",{staticClass:"pcc-h6-regular"},[e._t("default",(function(){return[e._v(e._s(e.label))]}))],2):"h6-light"==e.type?a("span",{staticClass:"pcc-h6-light"},[e._t("default",(function(){return[e._v(e._s(e.label))]}))],2):"subtitle-1"==e.type?a("span",{staticClass:"pcc-subtitle-1"},[e._t("default",(function(){return[e._v(e._s(e.label))]}))],2):"subtitle-1-green"==e.type?a("span",{staticClass:"pcc-subtitle-1-green"},[e._t("default",(function(){return[e._v(e._s(e.label))]}))],2):"subtitle-2"==e.type?a("span",{staticClass:"pcc-subtitle-2"},[e._t("default",(function(){return[e._v(e._s(e.label))]}))],2):"body-1"==e.type?a("span",{staticClass:"pcc-body-1"},[e._t("default",(function(){return[e._v(e._s(e.label))]}))],2):"caption-medium"==e.type?a("span",{staticClass:"pcc-caption-medium"},[e._t("default",(function(){return[e._v(e._s(e.label))]}))],2):"caption"==e.type?a("span",{staticClass:"pcc-caption"},[e._t("default",(function(){return[e._v(e._s(e.label))]}))],2):"overline"==e.type?a("span",{staticClass:"pcc-overline"},[e._t("default",(function(){return[e._v(e._s(e.label))]}))],2):"body-2"==e.type?a("span",{staticClass:"pcc-body-2"},[e._t("default",(function(){return[e._v(e._s(e.label))]}))],2):e._e()}),[],!1,r,null,null);t.a=o.exports},UnOx:function(e,t,a){},VoAx:function(e,t,a){},Vtdi:function(e,t,a){"use strict";a.r(t);var s,n,r=a("yXPU"),o=a.n(r),i=a("o0o1"),l=a.n(i),c=(a("55Il"),a("DUL6")),d=(a("LSZE"),a("ls82"),a("LvDl")),u=a.n(d),p=a("vDqi"),m=a.n(p),g=a("X1uE"),f=a("7pj7"),v=a.n(f),h=a("jE9Z"),b=a("oCYn"),y=a("nDAh"),w=(a("Ud79"),a("4JRs"),a("v0CA"),a("8gbZ")),x=a.n(w),C=a("E2g8"),S=a.n(C),k=a("OmDE"),A=a.n(k),O=a("Wr5T"),U=a.n(O),L=a("3LiA"),N=a.n(L),P=a("XzT5"),M=a("Vdmv"),I=a("J4zp"),T=a.n(I),$=a("e7F3"),E=a("WkTL"),D=/^[a-zA-Z-' ]+$/;$.a.extend("validate_name",{getMessage:function(e){return"The ".concat(e," value is not valid.")},validate:function(e){return!!e&&D.test(e)}}),$.a.extend("validate_username_unique",{getMessage:function(e){return"The ".concat(e," is already taken.")},validate:(s=o()(l.a.mark((function e(t,a){var s,n,r,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=!1,!(a&&a.length>0&&a.includes(t))){e.next=5;break}s=!0,e.next=15;break;case 5:return e.prev=5,e.next=8,E.a.postUserNameUnique({usernames:[t]});case 8:(n=e.sent).data.result&&(r=n.data.result,o=Object.keys(r),!0===r[o]&&(s=!0)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),s=!1;case 15:return e.abrupt("return",Promise.resolve({valid:s}));case 16:case"end":return e.stop()}}),e,null,[[5,12]])}))),function(e,t){return s.apply(this,arguments)})}),$.a.extend("validate_confirm_password",{validate:function(e,t){var a=!1;return e===T()(t,1)[0]&&(a=!0),{valid:a}},getMessage:function(){return"The passwords do not match"}},{hasTarget:!0}),$.a.extend("validate_email_unique",{getMessage:function(e){return"The ".concat(e," is already taken.")},validate:(n=o()(l.a.mark((function e(t,a){var s,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=!1,!(a&&a.length>0&&a.includes(t))){e.next=5;break}s=!0,e.next=15;break;case 5:return e.prev=5,e.next=8,E.a.postEmailUnique({email:t});case 8:(n=e.sent).data&&!0===n.data.available&&(s=!0),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),s=!1;case 15:return e.abrupt("return",Promise.resolve({valid:s}));case 16:case"end":return e.stop()}}),e,null,[[5,12]])}))),function(e,t){return n.apply(this,arguments)})}),$.a.extend("verify_phone_format",{getMessage:function(e){return"The ".concat(e," is not valid.")},validate:function(e){return new Promise((function(t){t({valid:!e||0===e.length||/^\+[1-9]\d{1,14}$/.test(e)})}))}}),$.a.extend("verify_npi_format",{getMessage:"The NPI is not valid.",validate:function(e){return new Promise((function(t){t({valid:e&&e.length>1&&/^\d{10}$/.test(e)})}))}});var F=function(){var e=o()(l.a.mark((function e(t,a){var s,n,r,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=!1,n=!1,e.prev=2,e.next=5,E.a.findUsers({findBy:"NPI",value:t});case 5:r=e.sent,o=a.length>0?a[0]:null,s=0===r.data.length||r.data[0].userId===o,e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),s=!0,n=!0;case 14:return e.abrupt("return",{valid:s,data:{valid:s,error:n}});case 15:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,a){return e.apply(this,arguments)}}();$.a.extend("validate_npi_unique",{validate:F,getMessage:function(e,t,a){if(!a.valid&&!a.error)return"The NPI has already been associated with another user."}}),$.a.extend("verify_dropdown_populated",{getMessage:function(e){return"Select 1 or more ".concat(e,".")},validate:function(e){return new Promise((function(t){t({valid:e&&e.length>0})}))}});var R=$.b,z=a("4qL4"),j=a.n(z),q=(a("q4sD"),a("LdiE"),a("0eeA"),a("VgeV")),B=a("8wkQ"),V=a("dJbz"),G=a("S9TP"),H=a("p1ug"),Y=a("pSOK"),Q=a("Yq0q"),W=a("D9m0"),Z=a("sK+t"),X=a("mdmw"),J=a("QNyc"),K=a("cdmR"),ee=a("Kn9U"),te=a("gzZi"),ae=a("I6fl"),se=a("Ey0z"),ne=a("rdoz"),re=a("L6Q5"),oe=a("5Emp"),ie=a("B4nN"),le=a("hlRy"),ce=a("iGBT"),de=a("FRQ/"),ue=a("XSMC"),pe=a("Oi+f"),me=a("93RO"),ge=a("2hOt"),fe=a("VrAw"),ve=a("NMP6"),he=a("uXRr"),be=a("xqZp"),ye=a("B5h7"),we=a("ghKu"),xe=a("/ldL"),Ce=a("caNO"),_e=a("xnG4"),Se=a("FpqX"),ke=a("A5O/"),Ae=a("zVVW"),Oe=a("yGWi"),Ue=a("SeJn"),Le=a("pyJu"),Ne=a("p5fY"),Pe=a("SQoD"),Me=a("jjY0"),Ie=a("rHzn"),Te=a("Z7Yp"),$e=a("Q6Zl"),Ee=a("tz1R"),De=a("qEQh"),Fe=a("qsiC"),Re=a("H09D"),ze=a("j+oE"),je=a("K8WS"),qe=a("iR7P"),Be=a("noi7"),Ve=a("zn5u"),Ge=a("foXO"),He=a("nFRB"),Ye=a("VqT0"),Qe=a("5Rb5"),We=a("G6r3"),Ze=a("zoeD"),Xe=a("GADD");a("erV9");b.default.use(B.a,{directives:{Ripple:q.a},components:{VApp:V.a,VForm:G.a,VContent:H.a,VContainer:Y.a,VCol:Q.a,VRow:W.a,VCard:Z.a,VCardTitle:X.c,VCardText:X.b,VAppBar:J.a,VToolbar:K.a,VToolbarTitle:ee.a,VBtn:te.a,VFileInput:ae.a,VIcon:se.a,VImg:ne.a,VSpacer:re.a,VMenu:oe.a,VExpandTransition:ie.a,VCardActions:X.a,VTextField:le.a,VList:ce.a,VOtpInput:de.a,VListItemTitle:ue.b,VTooltip:pe.a,VNavigationDrawer:me.a,VListItem:ge.a,VListGroup:fe.a,VListItemIcon:ve.a,VListItemContent:ue.a,VSelect:he.a,VAutocomplete:be.a,VAlert:ye.a,VAvatar:we.a,VTabs:xe.a,VTab:Ce.a,VTabItem:_e.a,VDialog:Se.a,VExpansionPanels:ke.a,VExpansionPanel:Ae.a,VExpansionPanelHeader:Oe.a,VExpansionPanelContent:Ue.a,VLayout:Le.a,VOverlay:Ne.a,VProgressCircular:Pe.a,VProgressLinear:Me.a,VCheckbox:Ie.a,VRadio:Te.a,VRadioGroup:$e.a,VSwitch:Ee.a,VTextarea:De.a,VTabsItems:Fe.a,VSimpleTable:Re.a,VDataTable:ze.a,VBreadcrumbs:je.a,VPagination:qe.a,VSimpleCheckbox:Be.a,VDivider:Ve.a,VStepper:Ge.a,VStepperHeader:He.a,VStepperStep:Ye.a,VStepperItems:He.b,VStepperContent:Qe.a,VListItemGroup:We.a,VHover:Ze.a,VListItemAction:Xe.a}});var Je=new B.a({icons:{iconfont:"md"},theme:{themes:{light:{primary:"#00A0AF",secondary:"#05576F",accent:"#B3E3E7",error:"#D60027",info:"#2196F3",success:"#00A0AF",warning:"#F59A00"}}}}),Ke=a("2kHQ"),et={state:{workflow:!1,passwordReset:!1,usernameRecovery:!1,registration:!1,authHeaders:null,amDataEndpoints:null,loginRedirect:null},setAmDataEndpointsAction:function(e){this.state.amDataEndpoints=e},clearAmDataEndpointsAction:function(){this.state.amDataEndpoints=null},setWorkflowAction:function(e){this.state.workflow=e},clearWorkflowAction:function(){this.state.workflow=!1},setPasswordResetAction:function(e){this.state.passwordReset=e},clearPasswordResetAction:function(){this.state.passwordReset=!1},setUsernameRecoveryAction:function(e){this.state.usernameRecovery=e},clearUsernameRecoveryAction:function(){this.state.usernameRecovery=!1},setRegistrationAction:function(e){this.state.registration=e},clearRegistrationAction:function(){this.state.registration=!1},setEnduserSelfservice:function(e){var t=this;u.a.each(e,(function(e){"retrieveUsername"===e.name&&u.a.find(e.endpoints,(function(e){return"selfservice/username"===e}))?t.setUsernameRecoveryAction(e.enabled):"passwordReset"===e.name&&u.a.find(e.endpoints,(function(e){return"selfservice/reset"===e}))?t.setPasswordResetAction(e.enabled):"registration"===e.name&&u.a.find(e.endpoints,(function(e){return"selfservice/registration"===e}))?t.setRegistrationAction(e.enabled):"workflow"===e.name&&t.setWorkflowAction(e.enabled)}))},setAuthHeadersAction:function(e){this.state.authHeaders=e},clearAuthHeadersAction:function(){this.state.authHeaders=null},setLoginRedirect:function(e){this.state.loginRedirect=e},clearLoginRedirect:function(){this.state.loginRedirect=null},clearEnduserSelfservice:function(){this.state.workflow=!1,this.state.passwordReset=!1,this.state.usernameRecovery=!1,this.state.registration=!1,this.state.authHeaders=null,this.state.amDataEndpoints=null,this.state.loginRedirect=null}},tt=(a("4kXh"),a("vVF/")),at=a("17BF"),st=a("xV/H"),nt=a("+00W"),rt=a.n(nt),ot=a("UMUT"),it={components:{"evergreen-span":ot.a},data:function(){return{isIE:!1,windowWidth:0}},computed:{org:function(){return this.$store.get("globalContext/globalOrg")},currentAEApps:function(){return this.$root.userStore.getCurrentAccessingEntityApps()},haveApps:function(){var e=this.$root.userStore.getCurrentAccessingEntityApps();return!(!e||0===e.length)}},created:function(){this.isIE=!!document.documentMode,this.windowWidth=window.screen.width,this.$route.query.attemptedRedirect&&this.displayNotification("error","You logged in successfully, but we cannot take you to your target destination")},watch:{org:function(e,t){var a=this;return o()(l.a.mark((function s(){var n;return l.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(!(!t&&e||e&&e.id!==t.id)){s.next=5;break}return s.next=3,E.a.getUsersMe();case 3:(n=s.sent).data&&(a.updateAppsListInUserStore(n),Ke.a.displayApplications());case 5:case"end":return s.stop()}}),s)})))()}}},lt=a("JFUb");var ct=function(e){a("VoAx")},dt=Object(lt.a)(it,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"mx-6 pa-0"},[a("v-card",{staticClass:"header",attrs:{flat:""}},[a("evergreen-span",{attrs:{type:"h3",label:e.$t("pages.dashboard.widgets.apps.title")}})],1),e._v(" "),a("v-card",{class:[{"dashboard-width":e.isIE&&e.windowWidth<=1280},"mr-12"]},[a("v-row",{staticClass:"mx-6 py-6 align-center justify-left"},e._l(e.currentAEApps,(function(e,t){return a("v-card",{key:t,staticClass:"tile router-underline",attrs:{href:e.url,target:"_blank","data-test":"appLink"}},[a("v-card-title",{staticClass:"layout justify-center"},[null==e.logo?[a("evergreen-span",{staticClass:"text-center secondary--text",attrs:{type:"subtitle-1",label:e.displayName}})]:[a("v-img",{staticClass:"picture",attrs:{"data-test":"tileImage",src:e.logo}})]],2)],1)})),1),e._v(" "),e.haveApps?e._e():[a("v-card",[a("v-card-title",{attrs:{"data-test":"noAppsTitle"}},[e._v(e._s(e.$t("pages.dashboard.widgets.apps.noApps")))]),e._v(" "),a("v-card-text",{attrs:{"data-test":"noAppsMessage"}},[e._v(e._s(e.$t("pages.dashboard.widgets.apps.emptyMessage")))])],1)]],2)],1)}),[],!1,ct,"data-v-6cd02bc2",null).exports,ut=a("RIqP"),pt=a.n(ut),mt=a("lSNA"),gt=a.n(mt),ft=a("NIQi"),vt=a("DvQg");function ht(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}var bt=j.a.getFacadeConfig("production"),yt={name:"Users",components:{"evergreen-span":ot.a,"evergreen-contained-button":ft.a,"evergreen-outlined-button":vt.a},data:function(){return{updateMembership:"",name:"Users",resource:"Managed",isIE:!1,gridData:[],perPage:10,totalItems:0,loading:!1,filter:"",selectedForDeletion:null,deleteUsersModal:!1,selectedUsersModalDialogIsVisible:!1,windowWidth:0,searchDone:!1,seperatePagination:1,page:1,length:1,unselectedUsers:[],allAccessingEntity:{environment:this.$i18n.t("pages.accessingEntity.production"),name:this.$i18n.t("pages.accessingEntity.all"),id:null},selectedAccessingEntity:null,prevSelectedAccessingEntity:null,footerprops:{"items-per-page-options":[5,10,20,50]},columns:[{text:"",value:"selected",sortable:!1,width:"5%"},{text:this.$i18n.t("pages.profile.profileInformation.username"),value:"username"},{text:this.$i18n.t("pages.profile.profileInformation.firstName"),value:"firstName"},{text:this.$i18n.t("pages.profile.profileInformation.lastName"),value:"lastName"},{text:this.$i18n.t("pages.profile.profileInformation.status"),value:"accountStatus"},{text:"",value:"action",sortable:!1,width:"7%"}]}},created:function(){var e=this;return o()(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.isIE=!!document.documentMode,e.windowWidth=window.screen.width,e.selectedAccessingEntity=e.org.id,e.org.id&&(e.selectedAccessingEntity=e.org.id);case 4:case"end":return t.stop()}}),t)})))()},mounted:function(){!0===this.showUserCreatedNotification&&(this.displayNotification("success","".concat(this.numberOfSelectedUsers," user(s) created successfully.")),this.$store.commit("userListPage/setShowUserCreatedNotification",!1))},watch:{org:function(e,t){this.loadUsers(),this.selectedAccessingEntity=this.org.id,e&&e.id!==t.id&&this.$store.commit("userListPage/clearSelectedUsers")},filter:function(){""===this.filter&&(this.search(),this.searchDone=!1)},selectedAccessingEntity:function(e,t){this.prevSelectedAccessingEntity=t}},computed:{org:function(){return this.$store.get("globalContext/globalOrg")},disableDeleteButton:function(){return this.numberOfSelectedUsers<=0},selectedGridData:function(){return this.gridData.filter((function(e){return!0===e.selected}))},selectedGridDataClone:function(){return this.gridData.filter((function(e){return!0===e.selected})).map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ht(Object(a),!0).forEach((function(t){gt()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ht(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e)}))},allSelected:function(){for(var e=0;e<this.gridData.length;e+=1)if(!1===this.gridData[e].selected)return!1;return 0!==this.gridData.length},numberOfSelectedUsers:function(){return(this.$store.get("userListPage/selectedUsers")||[]).length},showUserCreatedNotification:function(){return this.$store.get("userListPage/showUserCreatedNotification")||!1}},methods:{selectAllUsers:function(){var e=this,t=this.allSelected;this.$store.commit("userListPage/clearSelectedUsers"),this.gridData.forEach((function(a){a.selected=!t,!0===a.selected&&e.$store.commit("userListPage/appendSelectedUsers",[{userId:a._id,firstName:a.firstName,lastName:a.lastName,locationList:[]}])}))},loadUsers:function(e){var t=this;return o()(l.a.mark((function a(){var s,n,r,o,i,c,d;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t.loading=!0,t.gridData=[],s=0,s=null!=e?e-1:t.page,t.org){a.next=6;break}return a.abrupt("return");case 6:return a.prev=6,a.next=9,E.a.getOrganizationUsers(t.org.id,s,t.perPage,t.filter);case 9:if((n=a.sent).data&&n.data.data&&n.data.data.length>0){for(r=n.data.data,o=t.$store.get("userListPage/selectedUsers")||[],i=0;i<r.length;i+=1)c=r[i],d="",d=c.accountStatus?"inactive"===c.accountStatus.toLowerCase()?"Inactive":"MAX_LOGIN_FAILURES"===c.softLock?"Locked":"Active":"",t.gridData.push({_id:c.id,username:c.username,firstName:c.firstName,lastName:c.lastName,accountStatus:d,softLock:c.softLock,selected:o.map((function(e){return e.userId})).includes(c.id)});t.length=Math.ceil(n.data.paging.resultCount/n.data.paging.pageSize),t.totalItems=n.data.paging.resultCount}a.next=16;break;case 13:a.prev=13,a.t0=a.catch(6),t.displayNotification("error",t.$i18n.t("pages.userManagement.usersNotFoundError"));case 16:t.loading=!1;case 17:case"end":return a.stop()}}),a,null,[[6,13]])})))()},search:function(){this.loadUsers(),this.searchDone=!0},clear:function(){this.filter=""},resourceClicked:function(e,t,a){this.$router.push({name:"EditUser",params:{resourceId:e._id}})},addUserClicked:function(e,t,a){this.$router.push({name:"CreateUser"})},hideModal:function(){this.selectedForDeletion=null,this.deleteUsersModal=!1,this.selectedUsersModalDialogIsVisible=!1},deleteUsers:function(){var e=this;return o()(l.a.mark((function t(){var a,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=(e.$store.get("userListPage/selectedUsers")||[]).map((function(e){return e.userId})),e.selectedForDeletion&&(a=[e.selectedForDeletion._id]),!a){t.next=8;break}return s=e.getRequestService({baseURL:bt}),t.next=6,s.delete("/local-users",{data:{users:a,aeid:e.org.id}}).then((function(t){e.displayNotification("success","User(s) deleted successfully"),e.$store.commit("userListPage/clearSelectedUsers")})).catch((function(t){"Authn-1037"===e.getErrorMessage(["response","data","errors",0,"code"],t)?e.displayNotification("error",e.getErrorMessage(["response","data","errors",0,"title"],t)):e.displayNotification("error",e.$i18n.t("pages.userManagement.deletionError"))}));case 6:t.next=9;break;case 8:e.displayNotification("error",e.$i18n.t("pages.userManagement.deletionError"));case 9:e.loadUsers(),e.hideModal();case 11:case"end":return t.stop()}}),t)})))()},rowDelete:function(e){this.selectedForDeletion=e,null==this.selectedAccessingEntity&&this.loadMemberships(e,!0),this.deleteUsersModal=!0},changePage:function(e){var t=this.page!==e.page-1||this.perPage!==e.itemsPerPage;this.page=e.page-1,this.perPage=e.itemsPerPage,t&&this.loadUsers()},nextPage:function(){this.loadUsers(this.seperatePagination)},previousPage:function(){this.loadUsers(this.seperatePagination)},unselectUserForBulkOperation:function(e){!0===e.selected?this.unselectedUsers=this.unselectedUsers.filter((function(t){return t!==e._id})):this.unselectedUsers=[].concat(pt()(this.unselectedUsers),[e._id])},commitUnSelectedUsers:function(){var e=this;this.unselectedUsers.forEach((function(t){e.$store.commit("userListPage/removeUserId",t),e.selectedGridData.forEach((function(e){e._id===t&&(e.selected=!1)}))})),this.hideModal()},selectUserForBulkOperation:function(e){!0===e.selected?this.$store.commit("userListPage/appendSelectedUsers",[{userId:e._id,firstName:e.firstName,lastName:e.lastName,locationList:[]}]):this.$store.commit("userListPage/removeUserId",e._id),0===this.selectedGridData.length&&(this.deleteUsersModal=!1,this.selectedUsersModalDialogIsVisible=!1)},showSelectedUsersModal:function(){this.selectedGridData.length>0&&(this.selectedUsersModalDialogIsVisible=!0,this.unselectedUsers=[])},updateApps:function(){var e=this;return o()(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.getRequestService({baseURL:bt}),t.next=3,e.$store.commit("userListPage/setSelectedOrgId",e.selectedAccessingEntity);case 3:case"end":return t.stop()}}),t)})))()}}};var wt=function(e){a("DHP9")},xt=Object(lt.a)(yt,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mx-6"},[a("v-card",{staticClass:"header",attrs:{flat:""}},[a("evergreen-span",{attrs:{type:"h3",label:e.$t("pages.userManagement.title"),"data-test":"userManagementTitleSpan"}})],1),e._v(" "),a("v-data-table",{ref:"usersTable",staticClass:"elevation-1 dataTable",class:[{table:this.isIE&&this.windowWidth<=1280}],staticStyle:{"padding-top":"1.625rem","padding-left":"1.5rem"},attrs:{headers:e.columns,items:e.gridData,"item-key":"emailAddress","fixed-header":"",loading:e.loading,"server-items-length":e.totalItems,"footer-props":e.footerprops,"hide-default-footer":this.isIE,"disable-sort":"","data-test":"EditUserTable"},on:{pagination:e.changePage},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-card",{staticClass:"pb-6",attrs:{flat:""}},[a("v-card-text",{staticClass:"pb-0"},[a("v-row",[a("v-col",{staticClass:"py-0 mb-0"},[a("evergreen-contained-button",{staticStyle:{"margin-bottom":"2rem"},attrs:{label:e.$t("pages.userManagement.addUserButtonText"),"data-test":"create-user-button"},nativeOn:{click:function(t){return e.addUserClicked()}}})],1)],1),e._v(" "),a("v-row",[a("v-col",{staticClass:"py-0 mb-0",attrs:{cols:"6"}},[a("v-text-field",{staticStyle:{"padding-right":"0.5rem"},attrs:{"append-icon":"search",label:e.$t("pages.userManagement.searchByKeywords"),dense:"",outlined:"","hide-details":"",clearable:"","data-test":"userListSearchBar"},on:{"click:append":e.search,"click:clear":e.clear},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search.apply(null,arguments)}},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})],1)],1)],1),e._v(" "),e.searchDone?a("v-row",{staticClass:"ml-6 mb-4"},[a("evergreen-span",{attrs:{"data-test":"resultsDisplay",type:"body-1",label:e.$refs.usersTable.internalCurrentItems.length+" results found"}})],1):e._e()],1),e._v(" "),e.numberOfSelectedUsers>0?a("v-card",{staticStyle:{height:"37px"},attrs:{flat:""}},[a("v-card-title",{staticClass:"pt-0 mt-0"},[a("v-row",[a("evergreen-span",{staticClass:"ml-6 num-of-users-selected",attrs:{"data-test":"selectedUserCountSpan",type:"h5"}},[a("a",{on:{click:function(t){return t.preventDefault(),e.showSelectedUsersModal.apply(null,arguments)}}},[e._v(e._s(e.numberOfSelectedUsers)+" users selected")])]),e._v(" "),a("v-spacer"),e._v(" "),e.numberOfSelectedUsers>0?a("v-icon",{staticClass:"mr-6",attrs:{"data-test":"bulkDelete"},on:{click:function(t){e.deleteUsersModal=!0}}},[e._v("mdi-delete")]):e._e()],1)],1)],1):e._e()]},proxy:!0},null!=e.selectedAccessingEntity?{key:"header.selected",fn:function(t){return[a("div",{class:[{"mb-3":e.isIE&&e.windowWidth<=1280}]},[a("v-simple-checkbox",{staticClass:"ml-4",attrs:{color:"secondary","data-test":"selectAllUsers",value:e.allSelected},on:{input:e.selectAllUsers}})],1)]}}:null,{key:"header.username",fn:function(t){var s=t.header;return[a("div",{class:[{"mb-3":e.isIE&&e.windowWidth<=1280}]},[a("evergreen-span",{staticClass:"pl-2",attrs:{label:s.text,type:"caption"}})],1)]}},{key:"header.firstName",fn:function(t){var s=t.header;return[a("div",{class:[{"mb-3":e.isIE&&e.windowWidth<=1280}]},[a("evergreen-span",{attrs:{label:s.text,type:"caption"}})],1)]}},{key:"header.lastName",fn:function(t){var s=t.header;return[a("div",{class:[{"mb-3":e.isIE&&e.windowWidth<=1280}]},[a("evergreen-span",{attrs:{label:s.text,type:"caption"}})],1)]}},{key:"header.Status",fn:function(t){var s=t.header;return[a("div",{class:[{"mb-3":e.isIE&&e.windowWidth<=1280}]},[a("evergreen-span",{attrs:{label:s.text,type:"caption"}})],1)]}},{key:"body",fn:function(t){var s=t.items;return[s.length>0?a("tbody",e._l(s,(function(t){return a("tr",{key:t.username,class:[{"custom-highlight-row":t.selected}]},[a("td",[null!=e.selectedAccessingEntity?a("div",[a("v-simple-checkbox",{staticClass:"ml-4",attrs:{"data-test":"select-user-row-checkbox-"+t.username,color:"secondary"},on:{input:function(a){return e.selectUserForBulkOperation(t)}},model:{value:t.selected,callback:function(a){e.$set(t,"selected",a)},expression:"item.selected"}})],1):e._e()]),e._v(" "),a("td",[a("div",{staticClass:"py-3"},[null!==t.username?a("evergreen-span",{staticClass:"pl-2",attrs:{"data-test":"username-"+t.username,label:t.username,type:"body-2"}}):e._e()],1)]),e._v(" "),a("td",[a("div",{staticClass:"py-3"},[null!==t.firstName?a("evergreen-span",{attrs:{"data-test":"firstName-"+t.firstName,label:t.firstName,type:"body-2"}}):e._e()],1)]),e._v(" "),a("td",[a("div",{staticClass:"py-3"},[null!==t.lastName?a("evergreen-span",{attrs:{"data-test":"lastName-"+t.lastName,label:t.lastName,type:"body-2"}}):e._e()],1)]),e._v(" "),a("td",{staticClass:"pr-0",staticStyle:{"max-width":"200px"}},[a("div",{staticClass:"py-3"},[null!==t.accountStatus?a("evergreen-span",{attrs:{"data-test":"accountStatus-"+t.username,label:t.accountStatus,type:"body-2"}}):e._e()],1)]),e._v(" "),a("td",{staticStyle:{"min-width":"100px"}},[0==e.numberOfSelectedUsers?a("div",{class:[{"mt-3":e.isIE&&e.windowWidth<=1280}]},[a("v-icon",{attrs:{"data-test":t.username+"-edit"},on:{click:function(a){return e.resourceClicked(t)}}},[e._v("mdi-pencil")]),e._v(" "),null!=e.selectedAccessingEntity?a("v-icon",{attrs:{"data-test":t.username+"-delete"},on:{click:function(a){return e.rowDelete(t)}}},[e._v("mdi-delete")]):e._e()],1):e._e()])])})),0):a("tbody",[a("tr",[a("td",{attrs:{colspan:e.columns.length,id:"no-data"}},[e._v("No data available")])])])]}},this.isIE?{key:"footer",fn:function(){return[a("v-card",{attrs:{flat:""}},[a("v-pagination",{staticClass:"pb-4",attrs:{length:e.length,circle:""},on:{next:e.nextPage,previous:e.previousPage},model:{value:e.seperatePagination,callback:function(t){e.seperatePagination=t},expression:"seperatePagination"}})],1)]},proxy:!0}:null],null,!0)}),e._v(" "),a("v-dialog",{ref:"selectedUsersModal",attrs:{"max-width":"578"},model:{value:e.selectedUsersModalDialogIsVisible,callback:function(t){e.selectedUsersModalDialogIsVisible=t},expression:"selectedUsersModalDialogIsVisible"}},[a("v-card",{attrs:{"data-test":"selectedUsersModal"}},[a("v-card-title",{staticStyle:{"padding-bottom":"2px"}},[a("evergreen-span",{attrs:{"data-test":"selectedUsersTitle",type:"body-1",label:e.$t("pages.userManagement.selectedUsersTitle")}})],1),e._v(" "),a("v-card-text",{staticClass:"pa-0"},[a("v-data-table",{ref:"selectedUsersTable",staticClass:"pt-0",attrs:{items:e.selectedGridDataClone,"item-key":"emailAddress",loading:e.loading,"hide-default-footer":!0,"disable-sort":"","data-test":"SelectedUsersTable"},on:{pagination:e.changePage},scopedSlots:e._u([{key:"body",fn:function(t){var s=t.items;return[s.length>0?a("tbody",e._l(s,(function(t){return a("tr",{key:t.username},[a("td",{staticStyle:{width:"20px","border-bottom":"0","padding-left":"7px"}},[null!=e.selectedAccessingEntity?a("div",[a("v-simple-checkbox",{staticClass:"ml-4",attrs:{"data-test":"selected-users-row-checkbox",color:"secondary"},on:{input:function(a){return e.unselectUserForBulkOperation(t)}},model:{value:t.selected,callback:function(a){e.$set(t,"selected",a)},expression:"item.selected"}})],1):e._e()]),e._v(" "),a("td",{staticStyle:{"border-bottom":"0"}},[a("div",{staticClass:"py-3"},[null!==t.username?a("evergreen-span",{staticClass:"pl-0",attrs:{"data-test":"username-"+t.username,label:t.username||t.emailAddress,type:"body-2"}}):e._e()],1)])])})),0):a("tbody",[a("tr",[a("td",{attrs:{colspan:e.columns.length,id:"no-data"}},[e._v("No data available")])])])]}}])}),e._v(" "),a("v-row",{staticClass:"button-row"},[a("v-spacer"),e._v(" "),a("evergreen-outlined-button",{staticClass:"mr-6",attrs:{label:e.$t("common.form.cancel"),"data-test":"selectedUsersModalCancelBtn"},nativeOn:{click:function(t){return e.hideModal.apply(null,arguments)}}}),e._v(" "),a("evergreen-contained-button",{attrs:{label:e.$t("common.form.ok"),"data-test":"selectedUsersModalOkBtn"},nativeOn:{click:function(t){return e.commitUnSelectedUsers.apply(null,arguments)}}})],1)],1)],1)],1),e._v(" "),a("v-dialog",{ref:"deleteUsersModal",attrs:{"max-width":"700"},model:{value:e.deleteUsersModal,callback:function(t){e.deleteUsersModal=t},expression:"deleteUsersModal"}},[a("v-card",{attrs:{"data-test":"deleteUserModal"}},[a("v-card-title",{staticStyle:{padding:"1.5rem"}},[a("evergreen-span",{attrs:{type:"h4-light",label:e.$t("pages.access.deleteModalTitle")}})],1),e._v(" "),a("v-card-text",{staticClass:"pa-0"},[a("evergreen-span",{staticClass:"pad-left",attrs:{"data-test":"deleteSelectedUsersSpan",type:"body-1",label:e.$t("pages.userManagement.deleteUserMessage")}}),e._v(" "),a("v-data-table",{ref:"deleteUsersTable",staticClass:"pt-1",attrs:{items:e.selectedGridData,"item-key":"emailAddress",loading:e.loading,"hide-default-footer":!0,"disable-sort":"","data-test":"DeleteUserTable"},on:{pagination:e.changePage},scopedSlots:e._u([{key:"body",fn:function(t){var s=t.items;return[s.length>0?a("tbody",e._l(s,(function(t){return a("tr",{key:t.username},[a("td",{staticStyle:{width:"20px","border-bottom":"0","padding-left":"7px"}},[null!=e.selectedAccessingEntity?a("div",[a("v-simple-checkbox",{staticClass:"ml-4",attrs:{"data-test":"delete-users-row-checkbox",color:"secondary"},on:{input:function(a){return e.selectUserForBulkOperation(t)}},model:{value:t.selected,callback:function(a){e.$set(t,"selected",a)},expression:"item.selected"}})],1):e._e()]),e._v(" "),a("td",{staticStyle:{"border-bottom":"0"}},[a("div",{staticClass:"py-3"},[null!==t.username?a("evergreen-span",{staticClass:"pl-0",attrs:{"data-test":"username-"+t.username,label:t.username||t.emailAddress,type:"body-2"}}):e._e()],1)])])})),0):e._e()]}}])}),e._v(" "),a("v-row",{staticClass:"button-row"},[a("v-spacer"),e._v(" "),a("evergreen-outlined-button",{staticClass:"mr-6",attrs:{label:e.$t("common.form.cancel"),"data-test":"deleteUserModalCancelBtn"},nativeOn:{click:function(t){return e.hideModal.apply(null,arguments)}}}),e._v(" "),a("evergreen-contained-button",{attrs:{label:e.$t("common.form.delete"),"data-test":"deleteUserModalDeleteBtn"},nativeOn:{click:function(t){return e.deleteUsers.apply(null,arguments)}}})],1)],1)],1)],1)],1)}),[],!1,wt,"data-v-1b77fcfd",null),Ct=xt.exports,_t=Object(lt.a)({name:"TextFilter",filters:{truncate:function(e,t,a){return e&&e.length>t?e.slice(0,t)+a:e}}},undefined,undefined,!1,null,null,null).exports,St={components:{"evergreen-span":ot.a},data:function(){return{showLoading:!0,groups:[],groupsPerPage:10,groupsTableOptions:{},headers:[{text:"Role Name",sortable:!1,align:"start",value:"name",width:"20%"},{text:"Role Description",sortable:!1,align:"start",value:"description",width:"45%"},{text:"Product assigned to Role",sortable:!1,align:"start",value:"products",filterable:!1,width:"25%"},{text:"",sortable:!1,align:"start",value:"action",filterable:!1,width:"10%"}]}},mixins:[_t],methods:{groupItemClicked:function(e){this.$emit("groupSelected",e)},getGroups:function(){var e=this;return o()(l.a.mark((function t(){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.showLoading=!0,e.groups=[],t.prev=2,t.next=5,E.a.getOrganizationGroups(e.org.id);case 5:(a=t.sent).data&&a.data.length>0&&(e.groups=a.data.slice(),e.groups.forEach((function(e){var t=[];e.products.forEach((function(e){t.push(e.name)})),e.productNames=t}))),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),e.org&&e.displayNotification("error",e.$i18n.t("pages.groups.groupsNotFoundError"));case 12:e.showLoading=!1;case 13:case"end":return t.stop()}}),t,null,[[2,9]])})))()}},watch:{org:function(e,t){this.getGroups(),e&&e.name!==t.name&&this.$store.commit("selectedGroup/unsetGroup")},groupsTableOptions:{handler:function(){this.$store.commit("selectedGroup/unsetGroup"),this.getGroups()},deep:!0}},computed:{org:function(){return this.$store.get("globalContext/globalOrg")}}};var kt=function(e){a("ztzO")},At=Object(lt.a)(St,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-data-table",{staticClass:"elevation-1 dataTable",attrs:{"fixed-header":"",headers:e.headers,items:e.groups,"items-per-page":e.groupsPerPage,loading:e.showLoading,options:e.groupsTableOptions,"item-key":"id"},on:{"update:options":function(t){e.groupsTableOptions=t}},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-card",{staticClass:"pl-0 ml-0",attrs:{flat:""}},[a("v-card-title",{staticClass:"ml-0 pl-6"}),e._v(" "),a("v-row",{staticClass:"pt-2 ml-6 mb-5"},[a("evergreen-span",{attrs:{type:"body-1",label:e.$t("pages.groups.groupsListDescription")}})],1)],1)]},proxy:!0},{key:"header.name",fn:function(e){var t=e.header;return[a("evergreen-span",{staticClass:"dataTableContent",attrs:{label:t.text,type:"caption-medium"}})]}},{key:"header.description",fn:function(e){var t=e.header;return[a("evergreen-span",{attrs:{label:t.text,type:"caption-medium"}})]}},{key:"header.products",fn:function(e){var t=e.header;return[a("evergreen-span",{attrs:{label:t.text,type:"caption-medium"}})]}},{key:"body",fn:function(t){var s=t.items;return[0!==e.groups.length?a("tbody",e._l(s,(function(t,s){return a("tr",{key:s},[a("td",[a("evergreen-span",{staticClass:"dataTableContent",attrs:{label:t.displayName,type:"body-2"}})],1),e._v(" "),t.description.length>80?a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(s){var n=s.on,r=s.attrs;return[a("td",e._g(e._b({},"td",r,!1),n),[a("evergreen-span",{attrs:{label:e._f("truncate")(t.description,80,"..."),type:"body-2"}})],1)]}}],null,!0)},[e._v(" "),a("span",[e._v(e._s(t.description))])]):a("td",[a("evergreen-span",{attrs:{label:t.description,type:"body-2"}})],1),e._v(" "),a("td",[t.products?a("evergreen-span",{attrs:{label:e._f("truncate")(t.productNames.join(", "),50,"..."),type:"body-2"}}):e._e()],1),e._v(" "),a("td",{attrs:{align:"right"}},[a("v-icon",{attrs:{"data-test":t.name+"-view"},on:{click:function(a){return e.groupItemClicked(t)}}},[e._v("\n              mdi-chevron-right\n            ")])],1)],1)})),0):a("tbody",[e.showLoading?a("tr",[a("td",{staticStyle:{"text-align":"center"},attrs:{colspan:e.headers.length}},[e._v("\n            "+e._s(e.$t("pages.groups.loadingText"))+"\n          ")])]):a("tr",[a("td",{staticStyle:{"text-align":"center"},attrs:{colspan:e.headers.length,"data-test":"data-test-list-groups-no-data-found"}},[e._v("\n            No roles available\n          ")])])])]}}])})],1)}),[],!1,kt,"data-v-f32456b6",null).exports,Ot={props:{value:String,label:String,hint:String,persistentHint:Boolean,debounce:Number,minChars:Number,dataTest:String,clearable:Boolean,appendIcon:String,hideDetails:Boolean,dense:Boolean,outlined:Boolean,autoFocus:Boolean},data:function(){return{lastInput:"",currentValue:"",isInputInProgress:!1}},methods:{clearTimer:function(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},updateInput:function(e){var t=this;if(this.currentValue=e,(this.lastInput||"").trim()===(e||"").trim())return this.isInputInProgress=!1,void this.clearTimer();this.clearTimer(),this.isInputInProgress=!0,this.timeout=setTimeout((function(){((e||"").length>=(t.$props.minChars||0)||""===e)&&(t.$emit("input",e),t.lastInput=e),t.isInputInProgress=!1}),this.$props.debounce||300)},click_append:function(e){var t=this;return o()(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.waitForInput();case 2:(t.currentValue||"").length>=(t.$props.minChars||0)?t.$emit("click:append",t.currentValue):t.$emit("click:append:nocheck",t.currentValue);case 3:case"end":return e.stop()}}),e)})))()},click_clear:function(e){this.lastInput="",this.$emit("click:clear",e)},enter_pressed:function(e){var t=this;return o()(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.waitForInput();case 2:(t.currentValue||"").length>=(t.$props.minChars||0)?t.$emit("keyup:enter",t.currentValue):t.$emit("keyup:enter:nocheck",t.currentValue);case 3:case"end":return e.stop()}}),e)})))()},waitForInput:function(){var e=this;return o()(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){!function a(){!1===e.isInputInProgress?t():setTimeout(a,100)}()})));case 1:case"end":return t.stop()}}),t)})))()}}},Ut=Object(lt.a)(Ot,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("v-text-field",{attrs:{value:e.value,"append-icon":e.appendIcon,label:e.label,hint:e.hint,"persistent-hint":e.persistentHint,dense:e.dense,outlined:e.outlined,autoFocus:e.autoFocus,"hide-details":e.hideDetails,clearable:e.clearable,"data-test":e.dataTest},on:{input:e.updateInput,"click:append":e.click_append,"click:clear":e.click_clear},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.enter_pressed.apply(null,arguments)}}})}),[],!1,null,null,null),Lt=Ut.exports,Nt=a("5IQe");function Pt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}var Mt={data:function(){return{breadcrumbsItems:[{dataTest:"roles-breadcrumb",text:"".concat(this.$t("pages.groups.breadcrumbGroupsText")),href:"#/roles"},{dataTest:"current-users-roles-breadcrumb",text:"".concat(this.groupName)}],tableFooterProps:{"items-per-page-options":[5,10,15,30,50]},showLoading:!0,showConfirmRemoveDialog:!1,removeSelectedUsersInProgress:!1,users:[],unselectedUsersInModal:[],selectedUserDataClone:[],tableCurrentPage:1,usersPerPage:10,queryTerm:"",totalUsers:0,usersTableOptions:{},headers:[{text:"",value:"selected",sortable:!1,width:"5%"},{text:"Username",sortable:!1,align:"start",value:"username",width:"25%"},{text:"First name",sortable:!1,align:"start",value:"FirstName",width:"20%"},{text:"Last name",sortable:!1,align:"start",value:"LastName",filterable:!1,width:"20%"},{text:"Email",sortable:!1,align:"start",value:"EmailAddress",filterable:!1,width:"25%"},{text:"Status",sortable:!1,align:"start",value:"Status",filterable:!1,width:"10%"}],columns:[{text:"",value:"selected",sortable:!1,width:"2%"},{text:"Username",sortable:!1,align:"start",value:"username",width:"25%"},{text:"First Name",sortable:!1,align:"start",value:"FirstName",width:"20%"},{text:"Last Name",sortable:!1,align:"start",value:"LastName",width:"20%"}]}},components:{"evergreen-span":ot.a,"debounced-text-field":Lt,"evergreen-contained-button":ft.a,"evergreen-text-button":Nt.a,"evergreen-outlined-button":vt.a},props:{groupName:{type:String,required:!0}},mixins:[at.a],computed:{org:function(){return this.$store.get("globalContext/globalOrg")},numberOfSelectedUsers:function(){return this.$store.getters["unassignGroup/numberOfSelectedUsers"]||0},numberOfUnselectedUsersInModal:function(){return(this.unselectedUsersInModal||[]).length},disableRemoveUserModalOkButton:function(){var e=0===this.selectedUserDataClone.filter((function(e){return!0===e.selected})).length;return this.removeSelectedUsersInProgress||e},getRoleDisplayName:function(){return(this.$store.getters["selectedGroup/group"]||{displayName:""}).displayName}},mounted:function(){var e=this;return o()(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getUsers();case 2:case"end":return t.stop()}}),t)})))()},methods:{getUsers:function(){var e=this;return o()(l.a.mark((function t(){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.showLoading=!0,e.unselectAll(),e.users=[],t.prev=3,t.next=6,E.a.getUsers(e.getUsersFilterCriteria());case 6:(a=t.sent).data&&(a.data.paging&&(e.totalUsers=a.data.paging.resultCount),a.data.data&&a.data.data.length>0&&(e.users=pt()(a.data.data))),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),e.org&&e.displayNotification("error",e.$i18n.t("pages.groups.usersInGroupNotFoundError"));case 13:e.showLoading=!1;case 14:case"end":return t.stop()}}),t,null,[[3,10]])})))()},assignUserToGroup:function(){this.$router.push({name:"AddUserGroups",params:{name:this.groupName}})},clearSearchTerm:function(){this.queryTerm=null},doSearch:function(e){this.queryTerm=e},getUsersFilterCriteria:function(){return{organizationId:this.org.id,includeRoleName:this.groupName||"",excludeRoleName:null,query:this.queryTerm||"",page:this.tableCurrentPage-1,perPage:this.usersPerPage}},selectUserForBulkOperation:function(e){!0===e.selected?this.$store.commit("unassignGroup/appendSelectedUsers",[e]):this.$store.commit("unassignGroup/removeUserId",e.userId)},confirmRemoveSelectedUsers:function(){this.selectedUserDataClone=this.$store.getters["unassignGroup/selectedUsers"].map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Pt(Object(a),!0).forEach((function(t){gt()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Pt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e)})),this.showConfirmRemoveDialog=!0},hideConfirmRemoveSelectedUsers:function(){this.selectedUserDataClone=[],this.showConfirmRemoveDialog=!1},unselectUserForBulkOperation:function(e){!0===e.selected?this.unselectedUsersInModal=this.unselectedUsersInModal.filter((function(t){return t!==e.userId})):this.unselectedUsersInModal=[].concat(pt()(this.unselectedUsersInModal),[e.userId])},commitUnSelectedUsers:function(){var e=this;this.unselectedUsersInModal.forEach((function(t){e.$store.commit("unassignGroup/removeUserId",t),e.users.forEach((function(e){e.userId===t&&(e.selected=!1)}))})),this.unselectedUsersInModal=[]},removeSelectedUsersFromRole:function(){var e=this;return o()(l.a.mark((function t(){var a,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=setTimeout((function(){e.removeSelectedUsersInProgress=!0}),600),e.commitUnSelectedUsers(),s=[],e.$store.get("unassignGroup/selectedUsers").forEach((function(t){var a={};a.roleName=e.groupName,a.userId=t.userId,s.push(a)})),!s){t.next=23;break}return t.prev=5,t.next=8,E.a.unassignRoleToUser({userRoles:s});case 8:t.sent,e.showConfirmRemoveDialog=!1,clearTimeout(a),e.unselectAll(),e.getUsers(),e.displayNotification("success",e.$i18n.t("pages.groups.removeUserSuccess")),e.updateProductsListInDashboard(s),t.next=21;break;case 17:t.prev=17,t.t0=t.catch(5),"Authn-1037"===e.getErrorMessage(["response","data","errors",0,"code"],t.t0)?e.displayNotification("error",e.getErrorMessage(["response","data","errors",0,"title"],t.t0)):e.displayNotification("error",e.$i18n.t("pages.groups.removeUserError"));case 21:t.next=25;break;case 23:clearTimeout(a),e.showConfirmRemoveDialog=!1;case 25:e.removeSelectedUsersInProgress=!1;case 26:case"end":return t.stop()}}),t,null,[[5,17]])})))()},unselectAll:function(){this.$store.commit("unassignGroup/clearSelectedUsers"),this.users.forEach((function(e){e.selected&&(e.selected=!1)})),this.unselectedUsersInModal=[],this.selectedUserDataClone=[]},gotoGroupsListPage:function(){this.$router.push({name:"Groups"})}},watch:{org:function(e,t){this.unselectAll(),e&&e.id!==t.id&&this.gotoGroupsListPage()},groupName:function(e,t){e&&e!==t&&this.getUsers()},queryTerm:function(){1!==this.usersTableOptions.page?this.tableCurrentPage=1:this.getUsers()},usersPerPage:function(){this.getUsers()},tableCurrentPage:function(){this.getUsers()}}};var It=function(e){a("erAf")},Tt=Object(lt.a)(Mt,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-breadcrumbs",{staticClass:"pl-0 pt-0",attrs:{items:e.breadcrumbsItems,divider:"/"},scopedSlots:e._u([{key:"item",fn:function(e){return[e.item.href?a("a",{staticClass:"breadcrumb-clickable",attrs:{href:e.item.href,"data-test":e.item.dataTest}},[a("evergreen-span",{attrs:{type:"body-1",label:e.item.text}})],1):a("evergreen-span",{attrs:{type:"body-1",label:e.item.text}})]}}])}),e._v(" "),a("v-data-table",{staticClass:"elevation-1 dataTable",attrs:{headers:e.headers,items:e.users,"items-per-page":e.usersPerPage,loading:e.showLoading,"server-items-length":e.totalUsers,options:e.usersTableOptions,"footer-props":e.tableFooterProps,"item-key":"id",page:e.tableCurrentPage},on:{"update:itemsPerPage":function(t){e.usersPerPage=t},"update:items-per-page":function(t){e.usersPerPage=t},"update:options":function(t){e.usersTableOptions=t},"update:page":function(t){e.tableCurrentPage=t}},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-card",{staticClass:"dataTableContent",attrs:{flat:""}},[a("v-card-title",{staticClass:"mb-0 pb-0 pl-0 ml-2"},[a("v-container",{staticClass:"ml-0 pl-0"},["sc-temp-access"!=e.groupName?a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("evergreen-contained-button",{attrs:{label:e.$t("pages.groups.assignUserToGroup"),"data-test":"data-test-list-add-userToGroup-button"},nativeOn:{click:function(t){return e.assignUserToGroup.apply(null,arguments)}}})],1)],1):e._e(),e._v(" "),a("v-row",[a("v-col",{staticClass:"ml-2 pl-0 mt-0 pt-0"},[a("evergreen-span",{attrs:{type:"body-1","data-test":"group-name",label:e.$t("pages.groups.usersListInGroupDescription",{roleDisplayName:e.getRoleDisplayName})}})],1)],1)],1)],1),e._v(" "),a("v-card-text",{staticClass:"dataTableCardText mt-0 pt-0 ml-0 pl-4"},[a("v-row",[a("v-col",{staticClass:"ml-0 pl-0 mt-0 pt-0",attrs:{cols:"4"}},[a("debounced-text-field",{attrs:{"data-test":"data-test-users-in-group-search","append-icon":""===e.queryTerm?"search":"",label:e.$t("pages.groups.searchByKeywords"),dense:"",outlined:"","hide-details":"",clearable:!!e.queryTerm,autoFocus:"","min-chars":1,debounce:700},on:{"keyup:enter:nocheck":e.doSearch,"click:append:nocheck":e.doSearch,"click:clear":e.clearSearchTerm},model:{value:e.queryTerm,callback:function(t){e.queryTerm=t},expression:"queryTerm"}})],1)],1),e._v(" "),e.queryTerm?a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("evergreen-span",{attrs:{type:"subtitle-1-green",label:e.totalUsers+" users found","data-test":"data-test-users-in-group-result-count"}})],1)],1):e._e(),e._v(" "),e.numberOfSelectedUsers>0?a("v-row",{attrs:{"data-test":"selectedUsersInfo"}},[a("v-col",{attrs:{cols:"6"}},[a("evergreen-span",{staticClass:"num-of-users-selected",attrs:{"data-test":"selectedUserCountSpanForRemoving",type:"subtitle-1-green"}},[a("a",[e._v(" "+e._s(e.numberOfSelectedUsers)+" selected ")]),e._v(" "),e.numberOfSelectedUsers>0?a("v-icon",{staticClass:"ml-4",attrs:{"data-test":"unselectAll"},on:{click:e.unselectAll}},[e._v("mdi-close")]):e._e()],1)],1),e._v(" "),a("v-col",{staticStyle:{"text-align":"right"},attrs:{cols:"6"}},[a("evergreen-text-button",{attrs:{label:"Remove Users","data-test":"remove-users-btn"},nativeOn:{click:function(t){return e.confirmRemoveSelectedUsers.apply(null,arguments)}}})],1)],1):e._e()],1)],1)]},proxy:!0},{key:"header.userName",fn:function(e){var t=e.header;return[a("evergreen-span",{staticClass:"dataTableContent",attrs:{label:t.text,type:"caption-medium"}})]}},{key:"header.firstName",fn:function(e){var t=e.header;return[a("evergreen-span",{attrs:{label:t.text,type:"caption-medium"}})]}},{key:"header.lastName",fn:function(e){var t=e.header;return[a("evergreen-span",{attrs:{label:t.text,type:"caption-medium"}})]}},{key:"header.email",fn:function(e){var t=e.header;return[a("evergreen-span",{attrs:{label:t.text,type:"caption-medium"}})]}},{key:"header.status",fn:function(e){var t=e.header;return[a("evergreen-span",{attrs:{label:t.text,type:"caption-medium"}})]}},{key:"body",fn:function(t){var s=t.items;return[0!==e.users.length?a("tbody",e._l(s,(function(t,s){return a("tr",{key:s},[a("td",[a("div",[a("v-simple-checkbox",{staticClass:"ml-4",attrs:{"data-test":"select-user-row-checkbox-"+t.username,color:"secondary"},on:{input:function(a){return e.selectUserForBulkOperation(t)}},model:{value:t.selected,callback:function(a){e.$set(t,"selected",a)},expression:"item.selected"}})],1)]),e._v(" "),a("td",[a("evergreen-span",{attrs:{label:t.username,type:"body-2"}})],1),e._v(" "),a("td",[a("evergreen-span",{attrs:{label:t.firstName,type:"body-2"}})],1),e._v(" "),a("td",[a("evergreen-span",{attrs:{label:t.lastName,type:"body-2"}})],1),e._v(" "),a("td",[a("evergreen-span",{attrs:{label:t.email,type:"body-2"}})],1),e._v(" "),a("td",[a("evergreen-span",{attrs:{label:t.status,type:"body-2"}})],1)])})),0):a("tbody",[e.showLoading?a("tr",[a("td",{staticStyle:{"text-align":"center"},attrs:{colspan:e.headers.length}},[e._v("\n            "+e._s(e.$t("pages.groups.loadingText"))+"\n          ")])]):a("tr",[a("td",{staticStyle:{"text-align":"center"},attrs:{colspan:e.headers.length,"data-test":"data-test-no-users-in-group-found"}},[e._v("\n            No users available\n          ")])])])]}}])}),e._v(" "),a("v-dialog",{ref:"confirmRemoveDialog",attrs:{"max-width":"645"},model:{value:e.showConfirmRemoveDialog,callback:function(t){e.showConfirmRemoveDialog=t},expression:"showConfirmRemoveDialog"}},[a("v-card",{attrs:{"data-test":"confirmRemoveDialog"}},[a("v-card-title",{staticStyle:{"padding-bottom":"0.5rem"}},[a("evergreen-span",{attrs:{"data-test":"removeUsersFromGroupTitle",type:"h4",label:e.$t("pages.groups.removeUsersFromGroupTitleText")}})],1),e._v(" "),a("v-card-text",{staticClass:"dialog-body",staticStyle:{"padding-top":"1rem"}},[a("evergreen-span",{attrs:{"data-test":"removeUsersFromGroupBody",type:"body-1",label:e.$t("pages.groups.removeUsersFromGroupBodyText",{numberOfSelectedUsers:e.numberOfSelectedUsers,groupName:e.groupName})}}),e._v(" "),a("v-data-table",{ref:"selectedUsersTable",attrs:{"fixed-header":"",height:"300",headers:e.columns,items:e.selectedUserDataClone,"hide-default-footer":!0,"disable-sort":"","data-test":"SelectedUsersTable","disable-pagination":""},scopedSlots:e._u([{key:"body",fn:function(t){var s=t.items;return[s.length>0?a("tbody",e._l(s,(function(t){return a("tr",{key:t.username},[a("td",[a("v-simple-checkbox",{staticClass:"ml-4",attrs:{"data-test":"unselect-users-row-checkbox-"+t.username,color:"secondary"},on:{input:function(a){return e.unselectUserForBulkOperation(t)}},model:{value:t.selected,callback:function(a){e.$set(t,"selected",a)},expression:"item.selected"}})],1),e._v(" "),a("td",[a("evergreen-span",{staticClass:"dataTableContent",attrs:{label:t.username,type:"body-2","data-test":"username-"+t.username}})],1),e._v(" "),a("td",[a("evergreen-span",{attrs:{label:t.firstName,type:"body-2"}})],1),e._v(" "),a("td",[a("evergreen-span",{attrs:{label:t.lastName,type:"body-2"}})],1)])})),0):a("tbody",[a("tr",[a("td",{attrs:{colspan:e.columns.length,id:"no-data"}},[e._v("No data available")])])])]}}])})],1),e._v(" "),a("v-row",{staticClass:"mt-4"},[a("v-spacer"),e._v(" "),a("v-col",{staticClass:"d-flex justify-end"},[a("evergreen-contained-button",{staticClass:"ml-4 mr-4",attrs:{label:e.$t("common.form.ok"),"data-test":"unassignUsersModalOkBtn",disabled:e.disableRemoveUserModalOkButton},nativeOn:{click:function(t){return e.removeSelectedUsersFromRole.apply(null,arguments)}}}),e._v(" "),a("evergreen-outlined-button",{staticClass:"mr-3",attrs:{label:e.$t("common.form.cancel"),"data-test":"unassignUsersModalCancelBtn"},nativeOn:{click:function(t){return e.hideConfirmRemoveSelectedUsers.apply(null,arguments)}}})],1)],1)],1)],1)],1)}),[],!1,It,"data-v-5691e312",null),$t=Tt.exports;function Et(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}var Dt={components:{"evergreen-span":ot.a,"evergreen-contained-button":ft.a,"evergreen-outlined-btn":vt.a,"debounced-text-field":Lt},props:{groupName:{type:String,required:!0}},data:function(){return{breadcrumbsItems:[{text:"".concat(this.$t("pages.groups.breadcrumbGroupsText")),href:"#/roles"},{text:"".concat(this.groupName),href:"#/roles/".concat(this.groupName)},{text:"".concat(this.$t("pages.groups.newUserList"))}],showLoading:!1,usersTableOptions:{},users:[],selectedUsers:[],unselectedUsersInModal:[],queryTerm:"",tableCurrentPage:1,usersPerPage:10,totalUsers:0,selectedUsersModalDialogIsVisible:!1,assignUserModal:!1,tableFooterProps:{"items-per-page-options":[5,10,15,30,50]},headers:[{text:"",value:"selected",sortable:!1,width:"5%"},{text:"Username",sortable:!1,align:"start",value:"username",width:"15%"},{text:"First Name",sortable:!1,align:"start",value:"FirstName",width:"15%"},{text:"Last Name",sortable:!1,align:"start",value:"LastName",width:"20%"},{text:"Email",sortable:!1,align:"start",value:"email",filterable:!1,width:"30%"},{text:"Status",sortable:!1,align:"start",value:"status",filterable:!1,width:"20%"}],columns:[{text:"",value:"selected",sortable:!1,width:"0%"},{text:"Username",sortable:!1,align:"start",value:"username",width:"30%"},{text:"First Name",sortable:!1,align:"start",value:"FirstName",width:"35%"},{text:"Last Name",sortable:!1,align:"start",value:"LastName",width:"35%"}]}},computed:{org:function(){return this.$store.get("globalContext/globalOrg")},getGroupName:function(){return(this.$store.getters["selectedGroup/group"]||{name:""}).name},getRoleDisplayName:function(){return(this.$store.getters["selectedGroup/group"]||{displayName:""}).displayName},numberOfSelectedUsers:function(){return this.selectedUsers.length},canAssignGroup:function(){return this.numberOfSelectedUsers>0},selectedUserData:function(){return this.selectedUsers},selectedUserDataClone:function(){return this.selectedUsers.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Et(Object(a),!0).forEach((function(t){gt()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Et(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e)}))}},methods:{getUsers:function(){var e=this;return o()(l.a.mark((function t(){var a,s,n,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.showLoading=!0,e.users=[],e.totalUsers=0,t.prev=3,t.next=6,E.a.getUsers(e.getUsersFilterCriteria());case 6:if((a=t.sent).data&&(a.data.paging&&(e.totalUsers=a.data.paging.resultCount),a.data.data&&a.data.data.length>0))for(s=a.data.data,n=0;n<s.length;n+=1)r=s[n],e.users.push({userId:r.userId,username:r.username,firstName:r.firstName,lastName:r.lastName,email:r.email,status:r.status,selected:e.selectedUsers.map((function(e){return e.userId})).includes(r.userId)});t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),e.org&&e.displayNotification("error",e.$i18n.t("pages.userManagement.usersNotFoundError"));case 13:e.showLoading=!1;case 14:case"end":return t.stop()}}),t,null,[[3,10]])})))()},getUsersFilterCriteria:function(){return{organizationId:this.org.id,includeRoleName:null,excludeRoleName:this.groupName||"",query:this.queryTerm||"",page:this.usersTableOptions.page-1,perPage:this.usersTableOptions.itemsPerPage}},doSearch:function(e){this.queryTerm=e},clearSearchTerm:function(){this.queryTerm=""},assignRoleToUser:function(){var e=this;return o()(l.a.mark((function t(){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=[],e.selectedUsers.forEach((function(t){var s={};s.roleName=e.groupName,s.userId=t.userId,a.push(s)})),!(a&&a.length>0)){t.next=17;break}return t.prev=3,t.next=6,E.a.assignRoleToUser({userRoles:a});case 6:t.sent,e.selectedUsers=[],e.$router.push({name:"GroupsUserList",params:{name:e.groupName}}),e.updateProductsListInDashboard(a),e.displayNotification("success",e.$i18n.t("pages.groups.assignmentSuccess")),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(3),"Authn-1037"===e.getErrorMessage(["response","data","errors",0,"code"],t.t0)?e.displayNotification("error",e.getErrorMessage(["response","data","errors",0,"title"],t.t0)):e.displayNotification("error",e.$i18n.t("pages.groups.assignmentError"));case 17:case"end":return t.stop()}}),t,null,[[3,13]])})))()},selectUserForBulkOperation:function(e){!0===e.selected?this.selectedUsers.push(e):this.selectedUsers=this.selectedUsers.filter((function(t){return t.userId!==e.userId})),0===this.selectedUserData.length&&(this.selectedUsersModalDialogIsVisible=!1,this.assignUserModal=!1)},showSelectedUsersModal:function(){this.selectedUserData.length>0&&(this.selectedUsersModalDialogIsVisible=!0,this.unselectedUsersInModal=[])},showAddUsersToGroupModal:function(){this.assignUserModal=!0},hideModal:function(){this.assignUserModal=!1,this.selectedUsersModalDialogIsVisible=!1},unselectUserForBulkOperation:function(e){!0===e.selected?this.unselectedUsersInModal=this.unselectedUsersInModal.filter((function(t){return t!==e.userId})):this.unselectedUsersInModal=[].concat(pt()(this.unselectedUsersInModal),[e.userId])},commitUnSelectedUsers:function(){var e=this;this.unselectedUsersInModal.forEach((function(t){e.selectedUsers=e.selectedUsers.filter((function(e){return e.userId!==t})),e.users.forEach((function(e){e.userId===t&&(e.selected=!1)}))})),this.hideModal()},cancelAddUsersToGroup:function(){this.selectedUsers=[],this.$router.push({name:"GroupsUserList",params:{name:this.groupName}})},unselectAll:function(){this.selectedUsers=[],this.users.forEach((function(e){e.selected&&(e.selected=!1)}))},gotoGroupsListPage:function(){this.$router.push({name:"Groups"})}},watch:{org:function(e,t){this.unselectAll(),e&&e.id!==t.id&&this.gotoGroupsListPage()},usersTableOptions:{handler:function(){this.getUsers()},deep:!0},queryTerm:function(){1!==this.usersTableOptions.page?this.tableCurrentPage=1:this.getUsers()}},mixins:[at.a]};var Ft=function(e){a("AqDM")},Rt=Object(lt.a)(Dt,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-breadcrumbs",{staticClass:"pl-0-rem pt-0-rem",attrs:{items:e.breadcrumbsItems,divider:"/","data-test":"data-test-edit-locations-breadcrumb"},scopedSlots:e._u([{key:"item",fn:function(e){return[e.item.href?a("a",{staticClass:"breadcrumb-clickable",attrs:{href:e.item.href}},[a("evergreen-span",{attrs:{type:"body-1",label:e.item.text}})],1):a("evergreen-span",{attrs:{type:"body-1",label:e.item.text}})]}}])}),e._v(" "),a("v-card",{staticClass:"elevation-1 dataTable"},[a("v-data-table",{attrs:{"fixed-header":"",items:e.users,loading:e.showLoading,"items-per-page":e.usersPerPage,headers:e.headers,options:e.usersTableOptions,"server-items-length":e.totalUsers,"footer-props":e.tableFooterProps,"item-key":"userId",page:e.tableCurrentPage},on:{"update:itemsPerPage":function(t){e.usersPerPage=t},"update:items-per-page":function(t){e.usersPerPage=t},"update:options":function(t){e.usersTableOptions=t},"update:page":function(t){e.tableCurrentPage=t}},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-card",{staticClass:"dataTableContent",attrs:{flat:""}},[a("v-card-title",{staticClass:"mb-0-rem pb-0-rem"},[a("v-row",{staticClass:"pt-2-rem ml-0-rem mb-0-rem"},[a("evergreen-span",{attrs:{type:"body-1",label:e.$t("pages.groups.addUserGroupsDescription",{roleDisplayName:e.getRoleDisplayName})}})],1)],1),e._v(" "),a("v-card-text",{staticClass:"dataTableCardText"},[a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("debounced-text-field",{attrs:{"data-test":"data-test-groups-list-user-search","append-icon":""===e.queryTerm?"search":"",label:e.$t("pages.groups.searchByKeywords"),dense:"",outlined:"","hide-details":"",clearable:!!e.queryTerm,autoFocus:"","min-chars":1,debounce:700},on:{"keyup:enter:nocheck":e.doSearch,"click:append:nocheck":e.doSearch,"click:clear":e.clearSearchTerm},model:{value:e.queryTerm,callback:function(t){e.queryTerm=t},expression:"queryTerm"}})],1)],1),e._v(" "),a("v-row",[a("v-col",{staticClass:"pt-0-rem pb-0-rem",attrs:{cols:"6"}},[e.queryTerm?a("evergreen-span",{attrs:{type:"subtitle-1-green",label:e.totalUsers+" results found","data-test":"data-test-groups-list-user-result-count"}}):e._e()],1)],1)],1),e._v(" "),e.numberOfSelectedUsers>0?a("v-card",{staticClass:"pt-0-rem pb-0-rem",attrs:{flat:""}},[a("v-card-title",{staticClass:"pt-0-rem ml-4-rem pb-2-rem"},[a("v-row",[a("evergreen-span",{staticClass:"num-of-users-selected",attrs:{"data-test":"selectedUserCountSpan",type:"h5"}},[a("a",{on:{click:function(t){return t.preventDefault(),e.showSelectedUsersModal.apply(null,arguments)}}},[e._v("\n                    "+e._s(e.numberOfSelectedUsers)+" selected\n                  ")]),e._v(" "),e.numberOfSelectedUsers>0?a("v-icon",{staticClass:"ml-4-rem",attrs:{"data-test":"bulkDelete"},on:{click:e.unselectAll}},[e._v("mdi-close")]):e._e()],1)],1)],1)],1):e._e()],1)]},proxy:!0},{key:"header.username",fn:function(e){var t=e.header;return[a("evergreen-span",{attrs:{label:t.text,type:"caption-medium"}})]}},{key:"header.firstName",fn:function(e){var t=e.header;return[a("evergreen-span",{attrs:{label:t.text,type:"caption-medium"}})]}},{key:"header.lastName",fn:function(e){var t=e.header;return[a("evergreen-span",{attrs:{label:t.text,type:"caption-medium"}})]}},{key:"header.email",fn:function(e){var t=e.header;return[a("evergreen-span",{attrs:{label:t.text,type:"caption-medium"}})]}},{key:"header.status",fn:function(e){var t=e.header;return[a("evergreen-span",{attrs:{label:t.text,type:"caption-medium"}})]}},{key:"body",fn:function(t){var s=t.items;return[s.length>0?a("tbody",e._l(s,(function(t){return a("tr",{key:t.username,class:[{"custom-highlight-row":t.selected}]},[a("td",[a("div",[a("v-simple-checkbox",{staticClass:"ml-4-rem",attrs:{"data-test":"select-user-row-checkbox-"+t.username,color:"secondary"},on:{input:function(a){return e.selectUserForBulkOperation(t)}},model:{value:t.selected,callback:function(a){e.$set(t,"selected",a)},expression:"item.selected"}})],1)]),e._v(" "),a("td",[a("evergreen-span",{staticClass:"dataTableContent",attrs:{label:t.username,type:"body-2","data-test":"username-"+t.username}})],1),e._v(" "),a("td",[a("evergreen-span",{attrs:{label:t.firstName,type:"body-2"}})],1),e._v(" "),a("td",[a("evergreen-span",{attrs:{label:t.lastName,type:"body-2"}})],1),e._v(" "),a("td",[a("evergreen-span",{attrs:{label:t.email,type:"body-2"}})],1),e._v(" "),a("td",[a("evergreen-span",{attrs:{label:t.status,type:"body-2"}})],1)])})),0):a("tbody",[e.showLoading?a("tr",[a("td",{staticStyle:{"text-align":"center"},attrs:{colspan:e.headers.length}},[e._v(e._s(e.$t("pages.groups.loadingText")))])]):a("tr",[a("td",{staticStyle:{"text-align":"center"},attrs:{colspan:e.headers.length,"data-test":"data-test-list-groups-no-data-found"}},[e._v("\n                  "+e._s(e.$t("pages.groups.noUsersAvailable"))+"\n              ")])])])]}}])}),e._v(" "),a("v-row",{staticClass:"mt-4-rem"},[a("v-spacer"),e._v(" "),a("v-col",{staticClass:"d-flex justify-end"},[a("evergreen-contained-button",{staticClass:"ml-4-rem mr-4-rem",attrs:{disabled:!e.canAssignGroup,label:e.$t("pages.groups.addUsersToGroup"),"data-test":"addUserButton"},nativeOn:{click:function(t){return e.showAddUsersToGroupModal.apply(null,arguments)}}}),e._v(" "),a("evergreen-outlined-btn",{staticClass:"mr-3-rem",attrs:{label:e.$t("common.form.cancel"),"data-test":"addUserCancelButton"},nativeOn:{click:function(t){return e.cancelAddUsersToGroup.apply(null,arguments)}}})],1)],1),e._v(" "),a("v-dialog",{ref:"assignUserModal",attrs:{"max-width":"578"},model:{value:e.assignUserModal,callback:function(t){e.assignUserModal=t},expression:"assignUserModal"}},[a("v-card",{attrs:{"data-test":"assignUserModal"}},[a("v-card-title",{staticStyle:{"margin-left":"0.5rem","margin-bottom":"0.5rem"}},[a("evergreen-span",{attrs:{"data-test":"selectedUsersTitle",type:"h5-medium",label:e.$t("pages.userManagement.selectedUsersTitle")}})],1),e._v(" "),a("v-divider",{staticClass:"ma-0-rem pa-0-rem"}),e._v(" "),a("v-card-text",{staticClass:"pa-0-rem"},[a("v-data-table",{ref:"assignUsersTable",attrs:{"fixed-header":"",height:"300",headers:e.columns,items:e.selectedUserData,"hide-default-footer":!0,"disable-sort":"","data-test":"assignUsersTable","disable-pagination":""},scopedSlots:e._u([{key:"body",fn:function(t){var s=t.items;return[s.length>0?a("tbody",e._l(s,(function(t){return a("tr",{key:t.username},[a("td",[a("v-simple-checkbox",{staticClass:"ml-4-rem",attrs:{"data-test":"selected-users-row-checkbox",color:"secondary"},on:{input:function(a){return e.selectUserForBulkOperation(t)}},model:{value:t.selected,callback:function(a){e.$set(t,"selected",a)},expression:"item.selected"}})],1),e._v(" "),a("td",[a("evergreen-span",{staticClass:"dataTableContent",attrs:{label:t.username,type:"body-2","data-test":"username-"+t.username}})],1),e._v(" "),a("td",[a("evergreen-span",{attrs:{label:t.firstName,type:"body-2"}})],1),e._v(" "),a("td",[a("evergreen-span",{attrs:{label:t.lastName,type:"body-2"}})],1)])})),0):a("tbody",[a("tr",[a("td",{attrs:{colspan:e.columns.length,id:"no-data"}},[e._v("No data available")])])])]}}])})],1),e._v(" "),a("v-divider",{staticClass:"ma-0-rem pa-0-rem"}),e._v(" "),a("v-row",{staticClass:"mt-4-rem"},[a("v-spacer"),e._v(" "),a("v-col",{staticClass:"d-flex justify-end"},[a("evergreen-contained-button",{staticClass:"ml-4-rem mr-4-rem",attrs:{label:e.$t("common.form.ok"),"data-test":"assignUsersModalOkBtn"},nativeOn:{click:function(t){return e.assignRoleToUser.apply(null,arguments)}}}),e._v(" "),a("evergreen-outlined-btn",{staticClass:"mr-3-rem",attrs:{label:e.$t("common.form.cancel"),"data-test":"assignUsersModalCancelBtn"},nativeOn:{click:function(t){return e.hideModal.apply(null,arguments)}}})],1)],1)],1)],1),e._v(" "),a("v-dialog",{ref:"selectedUsersModal",attrs:{"max-width":"578"},model:{value:e.selectedUsersModalDialogIsVisible,callback:function(t){e.selectedUsersModalDialogIsVisible=t},expression:"selectedUsersModalDialogIsVisible"}},[a("v-card",{attrs:{"data-test":"selectedUsersModal"}},[a("v-card-title",{staticStyle:{"margin-left":"0.5rem","margin-bottom":"0.5rem"}},[a("evergreen-span",{attrs:{"data-test":"selectedUsersTitle",type:"h5-medium",label:e.$t("pages.userManagement.selectedUsersTitle")}})],1),e._v(" "),a("v-divider",{staticClass:"ma-0-rem pa-0-rem"}),e._v(" "),a("v-card-text",{staticClass:"pa-0-rem"},[a("v-data-table",{ref:"selectedUsersTable",attrs:{"fixed-header":"",height:"300",headers:e.columns,items:e.selectedUserDataClone,"hide-default-footer":!0,"disable-sort":"","data-test":"SelectedUsersTable","disable-pagination":""},scopedSlots:e._u([{key:"body",fn:function(t){var s=t.items;return[s.length>0?a("tbody",e._l(s,(function(t){return a("tr",{key:t.username},[a("td",[a("v-simple-checkbox",{staticClass:"ml-4-rem",attrs:{"data-test":"selected-users-row-checkbox",color:"secondary"},on:{input:function(a){return e.unselectUserForBulkOperation(t)}},model:{value:t.selected,callback:function(a){e.$set(t,"selected",a)},expression:"item.selected"}})],1),e._v(" "),a("td",[a("evergreen-span",{staticClass:"dataTableContent",attrs:{label:t.username,type:"body-2","data-test":"username-"+t.username}})],1),e._v(" "),a("td",[a("evergreen-span",{attrs:{label:t.firstName,type:"body-2"}})],1),e._v(" "),a("td",[a("evergreen-span",{attrs:{label:t.lastName,type:"body-2"}})],1)])})),0):a("tbody",[a("tr",[a("td",{attrs:{colspan:e.columns.length,id:"no-data-available"}},[e._v("No data available")])])])]}}])}),e._v(" "),a("v-divider",{staticClass:"ma-0-rem pa-0-rem"}),e._v(" "),a("v-row",{staticClass:"button-row"},[a("v-spacer"),e._v(" "),a("evergreen-contained-button",{staticClass:"mr-6-rem",attrs:{label:e.$t("common.form.ok"),"data-test":"selectedUsersModalOkBtn"},nativeOn:{click:function(t){return e.commitUnSelectedUsers.apply(null,arguments)}}}),e._v(" "),a("evergreen-outlined-btn",{attrs:{label:e.$t("common.form.cancel"),"data-test":"selectedUsersModalCancelBtn"},nativeOn:{click:function(t){return e.hideModal.apply(null,arguments)}}})],1)],1)],1)],1)],1)],1)}),[],!1,Ft,"data-v-44bca944",null),zt=Rt.exports,jt={components:{"evergreen-span":ot.a,"list-groups":At,"add-user-groups":zt,"list-users-in-group":$t},data:function(){return{groupName:this.$route.params.name}},computed:{getGroupName:function(){return this.groupName},roleDisplayName:function(){return(this.$store.getters["selectedGroup/group"]||{displayName:""}).displayName}},methods:{groupSelected:function(e){e?(this.$store.commit("selectedGroup/setGroup",e),this.groupName=e.name,this.$router.push({name:"GroupsUserList",params:{name:e.name}})):(this.$store.commit("selectedGroup/unsetGroup"),this.groupName="")}}};var qt=function(e){a("Fm3j")},Bt=Object(lt.a)(jt,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ml-6"},[a("div",{staticClass:"header-breadcrumb"},["Groups"===e.$router.currentRoute.name?a("evergreen-span",{attrs:{type:"h3",label:e.$t("pages.groups.groups"),"data-test":"group-name"}}):e._e()],1),e._v(" "),a("div",{staticClass:"header-breadcrumb"},["GroupsUserList"===e.$router.currentRoute.name?a("evergreen-span",{attrs:{type:"h3",label:this.roleDisplayName}}):e._e()],1),e._v(" "),a("div",{staticClass:"header-breadcrumb"},["AddUserGroups"===e.$router.currentRoute.name?a("evergreen-span",{attrs:{type:"h3",label:e.$t("pages.groups.addUserGroups")}}):e._e()],1),e._v(" "),"Groups"===e.$router.currentRoute.name?a("list-groups",{on:{groupSelected:e.groupSelected}}):e._e(),e._v(" "),"AddUserGroups"===e.$router.currentRoute.name?a("add-user-groups",{attrs:{groupName:this.$route.params.name}}):e._e(),e._v(" "),"GroupsUserList"===e.$router.currentRoute.name?a("list-users-in-group",{attrs:{groupName:this.$route.params.name}}):e._e()],1)}),[],!1,qt,"data-v-2732a002",null).exports,Vt=a("6v2T"),Gt=a("Jbee"),Ht=/.+@.+\..{2,}/,Yt={name:"Add-User-Details",components:{"evergreen-span":ot.a,"evergreen-text-button":Nt.a},$_veeValidate:{validator:"new"},mounted:function(){0===this.newUsers.length&&this.$store.commit("userOnboarding/addNewUserDetails",{roles:[],locations:[]}),this.validate=this.validate.bind(this),this.validate()},created:function(){var e=this;return o()(l.a.mark((function t(){var a,s,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.$validator.fastExit=!0,e.$store.commit("userOnboarding/setNextButtonEnabled",!1),t.prev=2,a=e.$store.get("globalContext/globalOrg"),t.next=6,E.a.getPasswordPolicy(a.id);case 6:s=t.sent,e.passwordPolicy=s.data.complexity,t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),e.passwordPolicy=e.fallBackPwdPolicy;case 13:for(n=0;n<e.newUsers.length;n+=1)e.changeUserInfo(e.generatePassword(),n,"password"),null===e.newUsers.locations&&e.changeUserInfo([],n,"locations");if(null===e.org){t.next=19;break}return t.next=17,e.loadOrganizationRoles();case 17:return t.next=19,e.loadOrganizationLocations();case 19:$.a.extend("verify_email_domain_uniqueness",{getMessage:function(e){return"This domain is already being used."},validate:function(){var t=o()(l.a.mark((function t(a){var s,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.newUsers.filter((function(e){return e.email&&e.email.toLowerCase()===a.toLowerCase()})).length>1)){t.next=3;break}return t.abrupt("return",new Promise((function(e){e({valid:!1})})));case 3:return s=e.getRequestService({baseURL:Object(z.getFacadeConfig)("production")}),t.prev=4,t.next=7,s.post(e.emailDomainEndpoint,{email:a});case 7:return n=t.sent,t.abrupt("return",new Promise((function(e){e({valid:n.data.available})})));case 11:return t.prev=11,t.t0=t.catch(4),t.abrupt("return",new Promise((function(e){e({valid:!0})})));case 14:case"end":return t.stop()}}),t,null,[[4,11]])})));return function(e){return t.apply(this,arguments)}}()}),$.a.extend("verify_email_uniqueness",{getMessage:function(e){return"The ".concat(e," is already taken.")},validate:function(){var t=o()(l.a.mark((function t(a){var s,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.newUsers.filter((function(e){return e.email&&e.email.toLowerCase()===a.toLowerCase()})).length>1)){t.next=3;break}return t.abrupt("return",new Promise((function(e){e({valid:!1})})));case 3:return s=e.getRequestService({baseURL:Object(z.getFacadeConfig)("production")}),t.prev=4,t.next=7,s.post(e.emailEndpoint,{email:a});case 7:return n=t.sent,t.abrupt("return",new Promise((function(e){e({valid:n.data.available})})));case 11:return t.prev=11,t.t0=t.catch(4),t.abrupt("return",new Promise((function(e){e({valid:!0})})));case 14:case"end":return t.stop()}}),t,null,[[4,11]])})));return function(e){return t.apply(this,arguments)}}()}),$.a.extend("verify_npi_uniqueness_in_form",{getMessage:function(e){return"The NPI is already taken by another user in this request."},validate:function(){var t=o()(l.a.mark((function t(a){var s,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=e.newUsers.filter((function(e){return e.npi&&e.npi===a})),n=!1,s.length>1&&(n=!0),t.abrupt("return",new Promise((function(e){e({valid:!n,data:{valid:!n}})})));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}),$.a.extend("verify_name_format",{getMessage:function(e){return"The ".concat(e," is not valid.")},validate:function(e){return new Promise((function(t){t({valid:e&&e.length>1&&/^[a-zA-z-' ]{1,30}$/.test(e)})}))}});case 23:case"end":return t.stop()}}),t,null,[[2,10]])})))()},data:function(){return{emailEndpoint:"/users/email-available",emailDomainEndpoint:"/users/email-domain-available",phoneMask:"+##############",npiMask:"##########",passwordPolicy:{},fallBackPwdPolicy:{minLength:12,minLowerCase:!0,minUpperCase:!0,minNumber:!0,minSymbol:!0},listOfAddUserRoles:[],listOfAddUserLocations:[],emailValidated:!!this.emailRequired,emailTimer:null}},computed:{newUsers:function(){return this.$store.getters["userOnboarding/newUserDetailsList"]},emailRequired:function(){var e=this.org;return null!==e&&e.emailRequired},emailRules:function(){return this.emailRequired?"required|email|verify_email_uniqueness|verify_email_domain_uniqueness":"email|verify_email_uniqueness|verify_email_domain_uniqueness"},org:function(){return this.$store.get("globalContext/globalOrg")},nextButtonEnabled:function(){return this.$store.get("userOnboarding/nextButtonEnabled")},currentStep:function(){return this.$store.getters["userOnboarding/currentStep"]},orgHasLocations:function(){return this.$store.get("userOnboarding/orgHasLocations")}},watch:{"$validator.errors":{handler:function(){var e=this;return o()(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.validate();case 1:case"end":return t.stop()}}),t)})))()},deep:!0},org:function(e,t){var a=this;return o()(l.a.mark((function s(){return l.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:null!==e&&null===t&&(a.loadOrganizationRoles(),a.loadOrganizationLocations());case 1:case"end":return s.stop()}}),s)})))()},currentStep:function(e,t){2===t&&1===e&&this.$validator.validateAll()}},methods:{validate:function(){var e=this;return o()(l.a.mark((function t(){var a,s,n,r,o,i,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.newUsers[e.newUsers.length-1],s=!0,e.emailRequired?s=a&&""!==a&&a.email&&Ht.test(a.email):a.email||(e.emailValidated=!0),n=a.firstName&&""!==a.firstName,r=a.lastName&&""!==a.lastName,o=a.roles&&a.roles.length>0,i=e.orgHasLocations&&a.locations&&a.locations.length>0||!e.orgHasLocations,(c=!!(0===e.$validator.errors.items.length&&n&&r&&s&&o&&i))&&e.emailValidated?(e.$store.commit("userOnboarding/setNextButtonEnabled",c),e.$store.commit("globalContext/setGlobalUnsavedChanges",!0)):e.$store.commit("userOnboarding/setNextButtonEnabled",!1);case 9:case"end":return t.stop()}}),t)})))()},addNewUser:function(){var e=this;return o()(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$validator.reset();case 2:return t.next=4,e.$validator.validateAll();case 4:if(t.sent){t.next=7;break}return t.abrupt("return");case 7:e.$store.commit("userOnboarding/addNewUserDetails",{roles:[],locations:[],password:e.generatePassword()}),e.$store.commit("userOnboarding/setNextButtonEnabled",!1),e.$store.commit("globalContext/setGlobalUnsavedChanges",e.newUsers.length>1);case 10:case"end":return t.stop()}}),t)})))()},getRolesToggleIcon:function(e){var t=this.newUsers[e].roles;if(!t)return"mdi-checkbox-blank-outline";var a=t.length;return a===this.listOfAddUserRoles.length?"mdi-checkbox-marked":a>0?"mdi-minus-box":"mdi-checkbox-blank-outline"},getLocationsToggleIcon:function(e){var t=this.newUsers[e].locations;if(!t)return"mdi-checkbox-blank-outline";var a=t.length;return a===this.listOfAddUserLocations.length?"mdi-checkbox-marked":a>0?"mdi-minus-box":"mdi-checkbox-blank-outline"},removeUser:function(e){var t=this;return o()(l.a.mark((function a(){return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.$validator.reset();case 2:return a.next=4,t.$store.commit("userOnboarding/removeUserDetails",e);case 4:return a.next=6,t.$validator.validateAll();case 6:case"end":return a.stop()}}),a)})))()},generatePassword:function(){var e=this.passwordPolicy;return Gt.generate({length:Math.max(12,e.minLength),uppercase:e.minUpperCase,lowercase:!0,numbers:e.minNumber,symbols:e.minSymbol,exclude:'^()}{[]|:;"/?.><,`~',strict:!0,excludeSimilarCharacters:!0})},changeUserInfo:function(e,t,a){var s=this;return o()(l.a.mark((function n(){return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(s.$store.commit("userOnboarding/changeItemForSpecificUser",{value:e,index:t,key:a}),s.$nextTick((function(){s.$refs.createRolesAutocomplete[0].internalSearch=null,s.$refs.createLocationsAutocomplete[0].internalSearch=null})),null===s.org){n.next=8;break}return n.next=5,s.$validator.validate("roles-".concat(t),s.newUsers[t].roles);case 5:if(!s.orgHasLocations){n.next=8;break}return n.next=8,s.$validator.validate("locations-".concat(t),s.newUsers[t].locations);case 8:"email"===a&&(null!==s.emailTimer&&clearTimeout(s.emailTimer),s.emailTimer=setTimeout(o()(l.a.mark((function e(){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=s.newUsers[t].email,e.t0=Ht.test(a),!e.t0){e.next=6;break}return e.next=5,s.$validator.validate("email-".concat(t),a);case 5:e.t0=e.sent;case 6:s.emailValidated=e.t0,s.validate(),s.emailTimer=null;case 9:case"end":return e.stop()}}),e)}))),500));case 9:case"end":return n.stop()}}),n)})))()},loadOrganizationRoles:function(){var e=this;return o()(l.a.mark((function t(){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E.a.getOrganizationGroups(e.org.id);case 2:(a=t.sent).data&&(e.listOfAddUserRoles=[],a.data.forEach((function(t){var a={value:t.name,text:t.displayName};"sc-temp-access"!==a.value&&e.listOfAddUserRoles.push(a)})));case 4:case"end":return t.stop()}}),t)})))()},loadOrganizationLocations:function(){var e=this;return o()(l.a.mark((function t(){var a,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E.a.getLocationsByOrgId(e.org.id);case 2:a=t.sent,s=a.data.locations,e.listOfAddUserLocations=[],s.length>0?(e.$store.commit("userOnboarding/setOrgHasLocations",!0),s.forEach((function(t){var a={value:t.locationId,text:t.name};e.listOfAddUserLocations.push(a)}))):e.$store.commit("userOnboarding/setOrgHasLocations",!1);case 6:case"end":return t.stop()}}),t)})))()},areAllRolesSelectedForUser:function(e){return this.newUsers[e].roles&&this.newUsers[e].roles.length===this.listOfAddUserRoles.length},areAllLocationsSelectedForUser:function(e){return this.newUsers[e].locations&&this.newUsers[e].locations.length===this.listOfAddUserLocations.length},addRolesToggle:function(e){var t=this,a=this.listOfAddUserRoles.map((function(e){return e.value})),s=this.areAllRolesSelectedForUser(e)?[]:a;this.changeUserInfo(s,e,"roles"),this.$validator.errors.items=this.$validator.errors.items.filter((function(t){return!t.field.includes("roles-".concat(e))})),this.$nextTick((function(){t.$refs.createRolesAutocomplete[0].internalSearch=null}))},addLocationsToggle:function(e){var t=this,a=this.listOfAddUserLocations.map((function(e){return e.value})),s=this.areAllLocationsSelectedForUser(e)?[]:a;this.changeUserInfo(s,e,"locations"),this.$validator.errors.items=this.$validator.errors.items.filter((function(t){return!t.field.includes("locations-".concat(e))})),this.$nextTick((function(){t.$refs.createLocationsAutocomplete[0].internalSearch=null}))}}};var Qt=function(e){a("vlLb")},Wt=Object(lt.a)(Yt,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return this.org.id?a("div",[a("v-row",[a("v-col",{staticClass:"description",attrs:{cols:"6"}},[a("evergreen-span",{attrs:{type:"body-1","data-test":"minimumOneUserMessage",label:e.$t("pages.onBoardingUser.userDetails.minimumOneUserMessage")}})],1)],1),e._v(" "),a("v-row",[a("v-col",{staticClass:"description",attrs:{cols:"6"}},[a("evergreen-span",{staticClass:"required-field-text",attrs:{type:"body-1","data-test":"requiredField",label:e.$t("pages.onBoardingUser.userDetails.required")}})],1)],1),e._v(" "),e._l(e.newUsers,(function(t,s){return a("div",{key:s},[a("v-row",{staticClass:"mt-2"},[a("v-col",{staticClass:"roleCol",attrs:{cols:"10"}},[a("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"verify_dropdown_populated",expression:"'verify_dropdown_populated'"}],ref:"createRolesAutocomplete",refInFor:!0,staticClass:"first-col-text",attrs:{items:e.listOfAddUserRoles,label:e.$t("pages.groups.groups")+" *","error-messages":e.errors.first("roles-"+s),"small-chips":"","item-color":"secondary",name:"roles-"+s,"data-test":"roles-"+s,"data-vv-as":"roles",dense:"",multiple:"",clearable:"",outlined:""},on:{change:function(t){return e.changeUserInfo(t,s,"roles")}},scopedSlots:e._u([{key:"prepend-item",fn:function(){return[a("v-card",{staticClass:"card-list"},[a("v-list-item",{staticClass:"roleLocationsSelectAll",attrs:{"data-test":"createUserRolesSelectAll"},on:{click:function(t){return e.addRolesToggle(s)}}},[a("v-list-item-action",[a("v-icon",{attrs:{name:"roles-icon-"+s}},[e._v("\n                    "+e._s(e.getRolesToggleIcon(s))+"\n                  ")])],1),e._v(" "),a("v-list-item-content",[a("v-list-item-title",{staticClass:"selectAllTitle"},[a("evergreen-span",{attrs:{label:e.$t("pages.userManagement.selectAll"),type:"body-2"}})],1)],1)],1)],1)]},proxy:!0}],null,!0),model:{value:t.roles,callback:function(a){e.$set(t,"roles",a)},expression:"user.roles"}})],1),e._v(" "),a("v-col",{staticClass:"locationsField",attrs:{cols:"10"}},[e.orgHasLocations?a("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:e.orgHasLocations?"verify_dropdown_populated":"",expression:"orgHasLocations ? 'verify_dropdown_populated' : ''"}],ref:"createLocationsAutocomplete",refInFor:!0,staticClass:"first-col-text",attrs:{items:e.listOfAddUserLocations,label:e.$t("pages.app.locations")+" *","error-messages":e.errors.first("locations-"+s),"small-chips":"","item-color":"secondary",name:"locations-"+s,"data-test":"locations-"+s,"data-vv-as":"locations",dense:"",multiple:"",clearable:"",outlined:""},on:{change:function(t){return e.changeUserInfo(t,s,"locations")}},scopedSlots:e._u([{key:"prepend-item",fn:function(){return[a("v-card",{staticStyle:{"margin-top":"-0.5rem"}},[a("v-list-item",{staticClass:"roleLocationsSelectAll",attrs:{"data-test":"createUserLocationsSelectAll"},on:{click:function(t){return e.addLocationsToggle(s)}}},[a("v-list-item-action",[a("v-icon",{attrs:{name:"locations-icon-"+s}},[e._v("\n                    "+e._s(e.getLocationsToggleIcon(s))+"\n                  ")])],1),e._v(" "),a("v-list-item-content",[a("v-list-item-title",{staticClass:"selectAllTitle"},[e._v("\n                    Select all\n                  ")])],1)],1)],1)]},proxy:!0}],null,!0),model:{value:t.locations,callback:function(a){e.$set(t,"locations",a)},expression:"user.locations"}}):e._e()],1),e._v(" "),a("v-col",{staticClass:"py-0 my-0",attrs:{cols:"5"}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|verify_name_format",expression:"'required|verify_name_format'"}],staticClass:"first-col-text",attrs:{label:e.$t("pages.onBoardingUser.userDetails.firstNameLabel")+" *",dense:"",value:t.firstName,name:"firstname-"+s,"error-messages":e.errors.first("firstname-"+s),"data-vv-as":"first name",outlined:"",clearable:"","data-test":"firstname-"+s},on:{input:function(t){return e.changeUserInfo(t,s,"firstName")}}})],1),e._v(" "),a("v-col",{staticClass:"py-0 my-0 pl-6",attrs:{cols:"5"}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|verify_name_format",expression:"'required|verify_name_format'"}],staticClass:"second-col-text",attrs:{label:e.$t("pages.onBoardingUser.userDetails.lastNameLabel")+" *",value:t.lastName,dense:"",outlined:"",name:"lastname-"+s,"error-messages":e.errors.first("lastname-"+s),"data-vv-as":"last name","data-test":"lastname-"+s,clearable:""},on:{input:function(t){return e.changeUserInfo(t,s,"lastName")}}})],1),e._v(" "),a("v-spacer"),e._v(" "),a("v-col",{staticClass:"pt-0",staticStyle:{"text-align":"right"},attrs:{cols:"1"}},[e.newUsers.length>1?a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[a("v-icon",e._g(e._b({staticClass:"mr-6 mt-0",attrs:{"data-test":"remove-"+s},nativeOn:{click:function(t){return e.removeUser(s)}}},"v-icon",r,!1),n),[e._v("\n              mdi-close\n            ")])]}}],null,!0)},[e._v(" "),a("span",[e._v("Remove User")])]):e._e()],1)],1),e._v(" "),a("v-row",{staticClass:"my-0-rem"},[a("v-col",{staticClass:"first-col",attrs:{cols:"5"}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:e.emailRules,expression:"emailRules"}],ref:"email-"+s,refInFor:!0,staticClass:"first-col-text",attrs:{label:e.emailRequired?e.$t("pages.onBoardingUser.userDetails.emailLabel")+" *":e.$t("pages.onBoardingUser.userDetails.emailLabel"),dense:"",value:t.email,id:"email-"+s,outlined:"",clearable:"",autoFocus:"",name:"email-"+s,"error-messages":e.errors.first("email-"+s),"data-vv-as":"email","data-test":"email-"+s},on:{input:function(t){return e.changeUserInfo(t,s,"email")}}})],1),e._v(" "),a("v-col",{staticClass:"second-col",attrs:{cols:"5"}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"verify_phone_format",expression:"'verify_phone_format'"},{name:"mask",rawName:"v-mask",value:e.phoneMask,expression:"phoneMask"}],ref:"mobile-"+s,refInFor:!0,staticClass:"second-col-text",attrs:{label:e.$t("pages.onBoardingUser.userDetails.phoneLabel"),value:t.mobile,dense:"",name:"mobile-"+s,"data-vv-as":"mobile number","error-messages":e.errors.first("mobile-"+s),outlined:"",clearable:"",autoFocus:"","data-test":"mobile-"+s},on:{input:function(t){return e.changeUserInfo(t,s,"mobile")}}})],1)],1),e._v(" "),a("v-row",[a("v-col",{staticClass:"first-col",attrs:{cols:"5"}},[a("v-text-field",{directives:[{name:"mask",rawName:"v-mask",value:e.npiMask,expression:"npiMask"},{name:"validate",rawName:"v-validate",value:"verify_npi_format|verify_npi_uniqueness_in_form|validate_npi_unique",expression:"'verify_npi_format|verify_npi_uniqueness_in_form|validate_npi_unique'"}],ref:"npi-"+s,refInFor:!0,staticClass:"first-col-text",attrs:{label:e.$t("pages.onBoardingUser.userDetails.npiLabel"),dense:"",value:t.npi,id:"npi-"+s,outlined:"",clearable:"",autoFocus:"",name:"npi-"+s,"error-messages":e.errors.first("npi-"+s),"data-vv-as":"npi","data-test":"npi-"+s},on:{input:function(t){return e.changeUserInfo(t,s,"npi")}}})],1)],1),e._v(" "),e.newUsers.length>1&&s<e.newUsers.length-1?a("v-divider",{staticStyle:{margin:"0 1rem"}}):e._e()],1)})),e._v(" "),a("v-row",[a("v-col",{staticClass:"ml-6",attrs:{cols:"4"}},[a("evergreen-text-button",{staticClass:"ml-2",attrs:{"data-test":"createUserWizard-addNewUser",label:e.$t("pages.onBoardingUser.userDetails.addNewUserButton"),disabled:!e.nextButtonEnabled},nativeOn:{click:function(t){return e.addNewUser.apply(null,arguments)}}})],1)],1)],2):e._e()}),[],!1,Qt,"data-v-3934a2d9",null),Zt=Wt.exports,Xt={name:"Add-User-Details",components:{"evergreen-span":ot.a},$_veeValidate:{validator:"new"},created:function(){var e=this;this.$validator.fastExit=!0,$.a.extend("verify_username_format",{getMessage:function(e){return"The ".concat(e," has invalid value.")},validate:function(e){var t=(e||"").trim();return/^[a-zA-Z0-9"\(][^@]+[a-zA-Z0-9"\)](?:@?[a-zA-Z][0-9a-zA-Z-]*(?:\.?[0-9a-zA-Z-]+)?)?$/.test(t)}}),$.a.extend("verify_begins_with_org_code_if_email_not_required",{getMessage:function(e){return"The ".concat(e," has to begin with the org code.")},validate:function(t){var a=e.$store.get("globalContext/globalOrg").orgCode;return!0===e.emailRequired||t.toLowerCase().startsWith("".concat(a.toLowerCase(),"."))}})},mounted:function(){var e=this;return o()(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$validator.validateAll();case 2:case"end":return t.stop()}}),t)})))()},watch:{"$validator.errors":{handler:function(){this.$store.commit("userOnboarding/setFinishButtonEnabled",0===this.$validator.errors.items.length)},deep:!0},currentStep:function(){var e=this;return o()(l.a.mark((function t(){var a,s,n,r,o,i,c,d,u,p,m,g,f,v,h,b,y,w;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.$store.get("globalContext/globalOrg"),s=a.orgCode,t.next=4,e.$validator.reset();case 4:if(e.isValidationRequestInProgress=!0,2===e.currentStep&&!0!==e.usernamesGenerated){t.next=8;break}return e.isValidationRequestInProgress=!1,t.abrupt("return");case 8:for(n=[],r={},o=0;o<e.newUsers.length;o+=1)if(i=e.newUsers[o],e.emailRequired)u=i.email,n.push(u);else if(c=((i.firstName||"").slice(0,1)+(i.lastName||"")).toLowerCase().trim().replace(/[^0-9a-zA-Z\-_.]/g,""),(c=s+"."+c).length>0){for(d=0;n.includes(c);)0!==d&&(c+=d),d+=1;r[c]=d,n.push(c)}p=[].concat(n);case 12:return t.prev=12,m=e.getRequestService({baseURL:Object(z.getFacadeConfig)("production")}),t.next=16,m.post(e.usernameEndpoint,{usernames:p});case 16:if(g=t.sent,p=[],g.data.result)for(f=g.data.result,v=0;v<n.length;v+=1)if(h=n[v],!1===f[h.toLowerCase()]){for(b=r[h],delete r[h];n.includes(h);)h=h.replace(/\d+$/g,""),0!==b&&(h+=b),b+=1;b-=1,h=h.trim().toLowerCase(),n[v]=h,r[h]=b,p.push(h)}t.next=24;break;case 21:t.prev=21,t.t0=t.catch(12),p=[];case 24:if(p.length>0){t.next=12;break}case 25:for(y=0;y<n.length;y+=1)w=n[y],e.changeUserInfo(w,y,"username");e.isValidationRequestInProgress=!1,e.$store.commit("userOnboarding/setUsernamesGenerated",!0),e.$store.commit("userOnboarding/setFinishButtonEnabled",!0);case 29:case"end":return t.stop()}}),t,null,[[12,21]])})))()}},data:function(){return{usernameEndpoint:"/users/username-available",isValidationRequestInProgress:!1,usernameMask:"SXXXXXXXXXXXXXXXXXXXXXXXXXXXXX",tokens:{S:{pattern:/[a-zA-Z0-9]/},X:{pattern:/./}}}},computed:{newUsers:function(){return this.$store.getters["userOnboarding/newUserDetailsList"]},usernamesGenerated:function(){return this.$store.getters["userOnboarding/usernamesGenerated"]},currentStep:function(){return this.$store.getters["userOnboarding/currentStep"]},emailRequired:function(){var e=this.$store.get("globalContext/globalOrg");return null!==e&&e.emailRequired},usernameRules:function(){return this.emailRequired?"required|min:3|max:250|validate_username_unique|verify_username_format|verify_begins_with_org_code_if_email_not_required|email":"required|min:3|max:250|validate_username_unique|verify_username_format|verify_begins_with_org_code_if_email_not_required"}},methods:{changeUserInfo:function(e,t,a){this.$store.commit("userOnboarding/changeItemForSpecificUser",{value:e,index:t,key:a}),this.emailRequired&&"username"===a&&this.$store.commit("userOnboarding/changeItemForSpecificUser",{value:e,index:t,key:"email"})}}};var Jt=function(e){a("1lCP")},Kt=Object(lt.a)(Xt,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mt-0 pt-1"},[a("v-row",[a("v-col",{staticClass:"description",staticStyle:{flex:"0 0 96%"},attrs:{cols:"6"}},[a("evergreen-span",{attrs:{type:"body-1",label:e.$t("pages.onBoardingUser.generateUsername.pageDesc")}})],1)],1),e._v(" "),e._l(e.newUsers,(function(t,s){return a("div",{key:s},[a("v-row",{staticClass:"pb-0 my-0 mb-0"},[a("v-col",{staticClass:"pb-0 my-0 mb-0 ml-6",attrs:{cols:"12"}},[a("h3",{staticClass:"user-fullname"},[e._v(e._s(t.firstName)+" "+e._s(t.lastName))])])],1),e._v(" "),a("v-row",{staticClass:"mt-1"},[a("v-col",{staticClass:"pb-0 my-0",attrs:{cols:"4"}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:e.usernameRules,expression:"usernameRules"},{name:"mask",rawName:"v-mask",value:{mask:e.usernameMask,tokens:e.tokens},expression:"{ mask: usernameMask, tokens: tokens }"}],staticClass:"ml-6",attrs:{label:e.$t("pages.onBoardingUser.generateUsername.usernameLabel"),dense:"",value:t.username,name:"username-"+s,"error-messages":e.errors.first("username-"+s),"data-vv-as":"username",outlined:"",clearable:"","data-test":"username-"+s},on:{input:function(t){return e.changeUserInfo(t,s,"username")}}})],1),e._v(" "),e.emailRequired?e._e():a("v-col",{staticClass:"pb-0 my-0 pl-1",attrs:{cols:"4"}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"ml-0",attrs:{label:e.$t("pages.onBoardingUser.generateUsername.passwordLabel"),value:t.password,dense:"",outlined:"",disabled:!0,name:"password-"+s,"error-messages":e.errors.first("password-"+s),"data-vv-as":"password","data-test":"password-"+s},on:{input:function(t){return e.changeUserInfo(t,s,"password")}}})],1)],1),e._v(" "),e.newUsers.length>1&&s<e.newUsers.length-1?a("v-divider",{staticStyle:{margin:"0rem 1rem"}}):e._e()],1)}))],2)}),[],!1,Jt,"data-v-52165308",null).exports;function ea(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"==typeof e)return ta(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return ta(e,t)}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var s=0,n=function(){};return{s:n,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,i=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return o=e.done,e},e:function(e){i=!0,r=e},f:function(){try{o||null==a.return||a.return()}finally{if(i)throw r}}}}function ta(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,s=new Array(t);a<t;a++)s[a]=e[a];return s}var aa={name:"Create-Resource",components:{"evergreen-contained-button":ft.a,"evergreen-outlined-button":vt.a,"evergreen-span":ot.a,"add-user-details":Zt,"generate-username":Kt},$_veeValidate:{validator:"new"},data:function(){return{userFields:{},dialog:!1,height:0,isFieldEmpty:!0,AE:"",confirmCancel:!1,serverErrorDialog:!1,businessErrorDialog:!1,orgDeletedDialog:!1,businessErrors:[],showCsvDownloadButton:!1,downloadCsvButtonDisable:!1,showEmailDialog:!1}},computed:{nextButtonEnabled:function(){return this.$store.get("userOnboarding/nextButtonEnabled")},finishButtonEnabled:function(){return this.$store.get("userOnboarding/finishButtonEnabled")},isInvalidEmailAddress:function(){return this.errors.has("emailAddress")},currentStep:function(){return this.$store.getters["userOnboarding/currentStep"]||1},isOrganizationSelected:function(){return!!this.selectedOrgId},orgList:function(){return this.$store.getters["userOnboarding/orgList"]||[]},selectedOrg:function(){return this.$store.getters["userOnboarding/selectedOrg"]},selectedOrgId:function(){return this.selectedOrg&&this.selectedOrg.id?this.selectedOrg.id:null},searchText:function(){return this.$store.getters["userOnboarding/searchText"]||""}},methods:{orgSelected:function(e){this.$store.dispatch("userOnboarding/changeSelectedOrg",e)},orgCleared:function(){this.$store.dispatch("userOnboarding/clearOrgSearch")},handleSearchTextChange:function(e){this.$store.dispatch("userOnboarding/changeSearchText",e)},handleOrgsListChange:function(e){this.$store.dispatch("userOnboarding/changeOrgList",e)},moveNext:function(){this.$store.dispatch("userOnboarding/nextStep")},finish:function(){var e=this;return o()(l.a.mark((function t(){var a,s,n,r,o,i,c,d,u,p,m;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.serverErrorDialog=!1,e.businessErrorDialog=!1,e.businessErrors=[],t.prev=3,a=(e.$store.getters["userOnboarding/newUserDetailsList"]||[]).map((function(e){return{fullName:e.firstName.concat(" ",e.lastName),firstName:e.firstName,lastName:e.lastName,email:Object(Vt.isBlank)(e.email)?null:e.email,phone:e.mobile,username:e.username,password:e.password,npi:e.npi,roleNames:e.roles,locationIds:e.locations}})),s=e.$store.get("globalContext/globalOrg"),e.$store.dispatch("userOnboarding/changeSelectedOrg",s),n=s.id,t.next=10,E.a.createBulkUsers({users:a,organizationId:n});case 10:if((r=t.sent).data&&r.data.users){o=r.data.users,i=[],c=ea(a);try{for(u=function(){var e=d.value,t=o.find((function(t){return t.username===e.username}));i.push({userId:t.userId,firstName:e.firstName,lastName:e.lastName,locationList:[]})},c.s();!(d=c.n()).done;)u()}catch(e){c.e(e)}finally{c.f()}e.$store.dispatch("userListPage/switchOrgId",{orgId:e.selectedOrgId,users:i})}s.emailRequired?(e.$store.commit("userOnboarding/resetOnBoarding"),e.displayNotification("success",e.$i18n.t("pages.onBoardingUser.emailSuccess",{numUsers:r.data.users.length}),15e3),e.$router.replace({name:"ListUsers"})):e.showCsvDownloadButton=!0,t.next=19;break;case 15:t.prev=15,t.t0=t.catch(3),t.t0.response.status,400===t.t0.response.status?(p=t.t0.response.data.users,(m=e.getErrorMessage(["response","data","errors",0,"title"],t.t0))&&e.displayNotification("error",m),p.forEach((function(t){t.validated||e.businessErrors.push({username:t.username,message:t.errors[0].detail})})),e.$refs.generateUsernameStep.$validator.validateAll(),e.$refs.addUserDetailsStep.$validator.validateAll(),e.businessErrorDialog=!0):404===t.t0.response.status?e.orgDeletedDialog=!0:e.serverErrorDialog=!0;case 19:case"end":return t.stop()}}),t,null,[[3,15]])})))()},cancel:function(){var e=this;this.$router.replace("/list/users"),setTimeout((function(){e.$nextTick((function(){e.$store.dispatch("userOnboarding/resetStep"),e.orgCleared()}))}),100)},goBackToStep:function(e){e<this.currentStep&&this.$store.commit("userOnboarding/goBackToStep",e)},focusField:function(){u.a.isArray(this.$refs.focusInput)&&this.$refs.focusInput[0].focus()},assignAccessingEntity:function(e){this.userFields.homeAE=e},checkEmailAddressField:function(e){this.isFieldEmpty=""===e},downloadCsvAndFinish:function(){this.downloadCsvButtonDisable=!0;var e=this.$store.getters["userOnboarding/newUserDetailsList"],t=this.$root.userStore.state.userName,a=["firstName","lastName","username","password","email","mobile","telephone"],s=e.map((function(e){return a.map((function(t){return'"'.concat(e[t]||"",'"')}))}));s.unshift(a);var n=document.createElement("a");n.href="data:text/csv;charset=utf-8,".concat(encodeURIComponent(s.join("\r\n"))),n.download="".concat(t,"_").concat((new Date).getTime(),".csv"),!1===this.isTest()&&n.click(),this.downloadCsvButtonDisable=!1,this.$store.commit("userOnboarding/resetOnBoarding"),this.$router.replace({name:"ListUsers"})}}};var sa=function(e){a("eo26")},na=Object(lt.a)(aa,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mx-6"},[a("v-dialog",{attrs:{persistent:"","max-width":"500px"},model:{value:e.confirmCancel,callback:function(t){e.confirmCancel=t},expression:"confirmCancel"}},[a("v-card",[a("v-card-title",[a("evergreen-span",{attrs:{type:"h4-light",label:e.$t("pages.onBoardingUser.confirmCancelationTitle")}})],1),e._v(" "),a("v-card-text",[a("evergreen-span",{attrs:{type:"body-1",label:e.$t("pages.onBoardingUser.confirmCancelationMessage")}})],1),e._v(" "),a("v-card-actions",[a("v-row",{attrs:{dense:""}},[a("v-spacer"),e._v(" "),a("v-col",{staticClass:"mr-3",attrs:{cols:"2"}},[a("evergreen-outlined-button",{attrs:{label:e.$t("pages.onBoardingUser.no"),block:"","data-test":"cancel-confirmation-no-button"},nativeOn:{click:function(t){e.confirmCancel=!1}}})],1),e._v(" "),a("v-col",{attrs:{cols:"2"}},[a("evergreen-contained-button",{attrs:{block:"",label:e.$t("pages.onBoardingUser.yes"),"data-test":"cancel-confirmation-yes-button"},nativeOn:{click:function(t){return e.cancel.apply(null,arguments)}}})],1)],1)],1)],1)],1),e._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"500px"},model:{value:e.orgDeletedDialog,callback:function(t){e.orgDeletedDialog=t},expression:"orgDeletedDialog"}},[a("v-card",[a("v-card-text",{staticClass:"pt-6"},[a("v-icon",{staticClass:"mr-4 error-icon"},[e._v("error")]),e._v(" "),a("div",{staticClass:"org-deleted-error-message"},[e._v(e._s(e.$t("pages.onBoardingUser.orgDeletedMessage")))])],1),e._v(" "),a("v-card-actions",[a("v-row",{attrs:{dense:""}},[a("v-spacer"),e._v(" "),a("v-col",{staticClass:"mr-7",attrs:{cols:"2"}},[a("evergreen-outlined-button",{attrs:{label:e.$t("pages.onBoardingUser.close"),block:"","data-test":"org-deleted-dialog-close-button"},nativeOn:{click:function(t){return function(){return e.orgDeletedDialog=!1}.apply(null,arguments)}}})],1)],1)],1)],1)],1),e._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"500px"},model:{value:e.serverErrorDialog,callback:function(t){e.serverErrorDialog=t},expression:"serverErrorDialog"}},[a("v-card",[a("v-card-text",{staticClass:"pt-6"},[a("v-icon",{staticClass:"mr-4 error-icon"},[e._v("error")]),e._v(" "),a("div",{staticClass:"server-error-message"},[e._v(e._s(e.$t("pages.onBoardingUser.errorMessage")))])],1),e._v(" "),a("v-card-actions",[a("v-row",{attrs:{dense:""}},[a("v-spacer"),e._v(" "),a("v-col",{staticClass:"mr-7",attrs:{cols:"2"}},[a("evergreen-outlined-button",{attrs:{label:e.$t("pages.onBoardingUser.close"),block:"","data-test":"error-dialog-cancel-button"},nativeOn:{click:function(t){return function(){return e.serverErrorDialog=!1}.apply(null,arguments)}}})],1),e._v(" "),a("v-col",{staticClass:"mr-7",attrs:{cols:"2"}},[a("evergreen-outlined-button",{attrs:{label:e.$t("pages.onBoardingUser.retry"),block:"","data-test":"error-dialog-retry-button"},nativeOn:{click:function(t){return e.finish()}}})],1)],1)],1)],1)],1),e._v(" "),a("v-dialog",{attrs:{scrollable:"",persistent:"","max-width":"500px"},model:{value:e.businessErrorDialog,callback:function(t){e.businessErrorDialog=t},expression:"businessErrorDialog"}},[a("v-card",{attrs:{"max-height":"400px"}},[a("v-card-title",{staticClass:"pt-6"},[a("v-row",[a("v-col",[a("v-icon",{staticClass:"mr-4 error-icon"},[e._v("error")]),e._v(" "),a("evergreen-span",{attrs:{type:"h5",label:e.$t("pages.onBoardingUser.userCreationErrorsMessage"),"data-test":"userCreationErrorsMessage"}})],1)],1),e._v(" "),a("v-row",[a("v-col",[a("evergreen-span",{staticClass:"error-dialog-text",attrs:{type:"body-1",label:e.$t("pages.onBoardingUser.fixErrorsMessage"),"data-test":"userCreationFixErrorsMessage"}})],1)],1)],1),e._v(" "),a("v-card-text",[a("ul",e._l(e.businessErrors,(function(t){return a("li",{key:t.username},[a("v-row",[a("v-col",[a("span",{attrs:{"data-test":"error-list-message-"+t.username}},[e._v(e._s(t.message+" for ")),a("b",[e._v(e._s(t.username))])])])],1)],1)})),0)]),e._v(" "),a("v-card-actions",[a("v-row",{attrs:{dense:""}},[a("v-spacer"),e._v(" "),a("v-col",{staticClass:"mr-7",attrs:{cols:"2"}},[a("evergreen-outlined-button",{attrs:{label:e.$t("pages.onBoardingUser.close"),block:"","data-test":"business-error-dialog-close-button"},nativeOn:{click:function(t){return function(){return e.businessErrorDialog=!1}.apply(null,arguments)}}})],1)],1)],1)],1)],1),e._v(" "),a("v-dialog",{attrs:{"max-width":"500px",persistent:""},model:{value:e.showCsvDownloadButton,callback:function(t){e.showCsvDownloadButton=t},expression:"showCsvDownloadButton"}},[a("v-card",[a("v-card-text",{staticClass:"pt-6"},[a("evergreen-span",{attrs:{type:"body-1",label:e.$t("pages.onBoardingUser.csvDownloadDialogContent")}})],1),e._v(" "),a("v-card-actions",[a("v-container",[a("v-row",{attrs:{dense:""}},[a("v-spacer"),e._v(" "),a("v-col",{staticClass:"mr-3",attrs:{cols:"6"}},[a("evergreen-contained-button",{attrs:{label:e.$t("pages.onBoardingUser.download"),block:"",disabled:e.downloadCsvButtonDisable,"data-test":"csv-dialog-download-button"},nativeOn:{click:function(t){return e.downloadCsvAndFinish.apply(null,arguments)}}})],1)],1)],1)],1)],1)],1),e._v(" "),a("v-card",{staticClass:"header",attrs:{flat:""}},[a("evergreen-span",{attrs:{type:"h3",label:e.$t("pages.onBoardingUser.onBoardingTitle"),"data-test":"onBoardingUserTitleSpan"}})],1),e._v(" "),a("v-row",[a("v-col",{staticClass:"pt-0",attrs:{cols:"12"}},[a("v-stepper",{staticStyle:{"max-width":"100%","min-height":"calc(100vh - 175px)"},attrs:{"data-test":"createUserStepper"},model:{value:e.currentStep,callback:function(t){e.currentStep=t},expression:"currentStep"}},[a("v-col",{staticClass:"pa-0",attrs:{cols:"10"}},[a("v-stepper-header",{staticClass:"elevation-0"},[a("v-stepper-step",{staticClass:"pointer-hover",staticStyle:{"font-size":"14px"},attrs:{complete:e.currentStep>1,step:"1","data-test":"onBoardingUserStep1",color:"secondary"},on:{click:function(t){return e.goBackToStep(1)}}},[e._v("\n              "+e._s(e.$t("pages.onBoardingUser.userCreateStep1"))+"\n            ")]),e._v(" "),a("v-divider"),e._v(" "),a("v-stepper-step",{staticStyle:{"font-size":"14px"},attrs:{complete:e.currentStep>2,step:"2",color:"secondary"}},[e._v("\n              "+e._s(e.$t("pages.onBoardingUser.userCreateStep2"))+"\n            ")])],1)],1),e._v(" "),a("v-stepper-items",[a("v-stepper-content",{staticClass:"pa-0",attrs:{step:"1"}},[a("v-card",{attrs:{"data-test":"step-1-card"}},[a("add-user-details",{ref:"addUserDetailsStep"}),e._v(" "),a("v-row",{staticClass:"button-row-step-1"},[a("v-spacer"),e._v(" "),a("v-col",{attrs:{cols:"4"}},[a("evergreen-outlined-button",{staticClass:"mr-6",attrs:{label:e.$t("common.form.cancel"),"data-test":"addUserDetailCancelButton"},nativeOn:{click:function(t){e.confirmCancel=!0}}}),e._v(" "),a("evergreen-contained-button",{attrs:{label:e.$t("common.form.next"),disabled:!e.nextButtonEnabled,"data-test":"addUserDetailContinueButton"},nativeOn:{click:function(t){return t.preventDefault(),e.moveNext()}}})],1)],1)],1)],1),e._v(" "),a("v-stepper-content",{staticClass:"pa-0",attrs:{step:"2"}},[a("v-card",{attrs:{"data-test":"step-2-card"}},[a("generate-username",{ref:"generateUsernameStep"}),e._v(" "),a("v-row",{staticClass:"button-row"},[a("v-spacer"),e._v(" "),a("v-col",{attrs:{cols:"4"}},[a("evergreen-outlined-button",{staticClass:"mr-6",attrs:{label:e.$t("common.form.cancel"),"data-test":"generateUsernameCancelButton"},nativeOn:{click:function(t){e.confirmCancel=!0}}}),e._v(" "),a("evergreen-contained-button",{attrs:{label:e.$t("common.form.finish"),disabled:!e.finishButtonEnabled,"data-test":"generateUsernameFinishButton"},nativeOn:{click:function(t){return t.preventDefault(),e.finish()}}})],1)],1)],1)],1)],1)],1)],1)],1)],1)}),[],!1,sa,"data-v-5c45fb29",null),ra=na.exports,oa={name:"EditUserFields",components:{"evergreen-span":ot.a,"evergreen-contained-button":ft.a,"evergreen-outlined-button":vt.a},props:{newUser:Boolean},$_veeValidate:{validator:"new"},data:function(){return{id:this.$route.params.resourceId,fieldsSaved:!0,fieldsInitialized:!1,formFields:{},userFields:{},phoneMask:"+##############",npiMask:"##########",numberValue:"",deleteUsersModal:!1,colsSizeTextFields:5,isExistingUser:!0,listUserSpecificAEs:[],selectedForBulkDelete:new Set,allSelectedForDeletion:!1,numberOfLoadedMemberships:0,emailRequired:!1,originalUsername:"",originalEmail:"",listOfEditUserRoles:[],selectedEditUserRoles:[],listOfEditUserLocations:[],selectedEditUserLocations:[],orgHasLocations:!0}},computed:{state:function(){return!(this.errors.has("username")||this.errors.has("email")||this.errors.has("firstName")||this.errors.has("lastName")||this.errors.has("telephone")||this.errors.has("mobile")||this.errors.has("npi")||!this.selectedEditUserRoles||!(this.selectedEditUserRoles.length>0)||!(this.selectedEditUserLocations.length>0)&&this.orgHasLocations)},emailValidateRule:function(){var e="validate_email_unique:".concat(this.originalEmail);return this.emailRequired?"required|email|".concat(e):"email|".concat(e)},org:function(){return this.$store.get("globalContext/globalOrg")},getEditRolesToggleIcon:function(){return this.selectedEditUserRoles.length===this.listOfEditUserRoles.length?"mdi-checkbox-marked":this.selectedEditUserRoles.length>0?"mdi-minus-box":"mdi-checkbox-blank-outline"},getEditLocationsToggleIcon:function(){return this.selectedEditUserLocations.length===this.listOfEditUserLocations.length?"mdi-checkbox-marked":this.selectedEditUserLocations.length>0?"mdi-minus-box":"mdi-checkbox-blank-outline"}},mounted:function(){null!==this.org&&this.loadData()},methods:{generateFormFields:function(){return{username:{key:"username",name:"username",required:!0,title:"Username",type:"string",value:this.userFields.username,data_test:"usernameInput",is_phone_number:!1},firstName:{key:"firstName",name:"firstName",required:!0,title:"First Name",type:"string",value:this.userFields.firstName,data_test:"firstNameInput",is_phone_number:!1},lastName:{key:"lastName",name:"lastName",required:!0,title:"Last Name",type:"string",value:this.userFields.lastName,data_test:"lastNameInput",is_phone_number:!1},emailAddress:{key:"emailAddress",name:"emailAddress",required:!0,title:"Email Address",type:"string",value:this.userFields.email,data_test:"emailAddressInput",is_phone_number:!1},pccAdmin:{key:"pccAdmin",name:"pccAdmin",required:!1,title:"PCC Admin",type:"string",value:this.userFields.pccAdmin,data_test:"pccAdminSwitch",is_phone_number:!1},accountStatus:{key:"accountStatus",name:"accountStatus",required:!1,title:"Account Status",type:"boolean",value:this.userFields.status,data_test:"accountStatusSwitch",is_phone_number:!1},telephoneNumber:{key:"telephoneNumber",name:"telephoneNumber",required:!1,title:"Telephone Number",type:"string",value:this.userFields.telephoneNumber,data_test:"telephoneNumberInput",is_phone_number:!0},phone:{key:"phone",name:"phone",required:!1,title:"Phone Number",type:"string",value:this.userFields.phone,data_test:"phoneNumberInput",is_phone_number:!0},npi:{key:"npi",name:"npi",required:!1,title:"NPI",type:"string",value:this.userFields.npi,data_test:"npiInput",is_phone_number:!1}}},loadData:function(){var e=this;return o()(l.a.mark((function t(){var a,s,n,r,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E.a.getOrganizationGroups(e.org.id);case 2:return(a=t.sent).data&&a.data.forEach((function(t){var a={value:t.name,text:t.displayName};"sc-temp-access"!==a.value&&e.listOfEditUserRoles.push(a)})),t.next=6,E.a.getLocationsByOrgId(e.org.id);case 6:return s=t.sent,(n=s.data.locations).length>0?(e.orgHasLocations=!0,e.listOfEditUserLocations=[],n.forEach((function(t){var a={value:t.locationId,text:t.name};e.listOfEditUserLocations.push(a)}))):e.orgHasLocations=!1,t.prev=9,t.next=12,E.a.getUser(e.id);case 12:(r=t.sent).data&&(o=r.data,e.userFields={fullName:o.fullName,firstName:o.firstName,lastName:o.lastName,username:o.username,email:o.email,pccAdmin:o.pccAdmin,status:o.status,phone:o.phone,federated:o.federated,npi:o.npi},o.roleNames.forEach((function(t){e.listOfEditUserRoles.forEach((function(a){a.value===t&&e.selectedEditUserRoles.push(t)}))})),o.locationIds.forEach((function(t){e.listOfEditUserLocations.forEach((function(a){a.value===t&&e.selectedEditUserLocations.push(t)}))})),e.emailRequired=o.emailRequired,e.originalUsername=o.username,e.originalEmail=o.email,e.formFields=e.generateFormFields(),e.fieldsInitialized=!0,e.$emit("selectedUser",e.userFields),e.checkNewOrExistingUser()),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(9),e.displayNotification("error",e.$t("pages.userManagement.userNotFoundError"));case 19:case"end":return t.stop()}}),t,null,[[9,16]])})))()},saveResource:function(){var e=this;return o()(l.a.mark((function t(){var a,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$validator.validateAll();case 2:if(!t.sent){t.next=20;break}return t.prev=4,e.userFields.roleNames=e.selectedEditUserRoles,e.userFields.locationIds=e.selectedEditUserLocations,e.userFields.fullName=e.userFields.firstName.concat(" ",e.userFields.lastName),t.next=10,E.a.updateUser(e.id,e.userFields);case 10:(a=t.sent).data&&(e.originalUsername=a.data.username,e.originalEmail=a.data.email,e.displayNotification("success",e.$t("pages.userManagement.form.successfulSave")),e.emitChangesSaved()),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(4),(s=t.t0.response.data.errors[0].title)===e.$t("pages.userManagement.form.invalidRequest")?(e.displayNotification("error",e.$t("pages.userManagement.form.errorSaving")),e.$validator.validateAll()):e.displayNotification("error",s);case 18:t.next=21;break;case 20:e.displayNotification("error",e.$t("pages.userManagement.form.errorSaving"));case 21:case"end":return t.stop()}}),t,null,[[4,14]])})))()},deleteUsers:function(){var e=this;return o()(l.a.mark((function t(){var a,s,n,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.$store.get("globalContext/globalOrg"),s=a.id,(n=[]).push(e.id),t.prev=4,t.next=7,E.a.deleteUsers({data:{users:n,aeid:s}});case 7:t.sent&&(e.displayNotification("success","User deleted successfully"),e.emitChangesSaved(),e.$router.push({name:"ListUsers"})),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(4),e.selectedForBulkDelete=new Set,r=e.getErrorMessage(["response","data","errors",0,"title"],t.t0)||t.t0.message,e.displayNotification("error",r);case 16:e.hideModal();case 17:case"end":return t.stop()}}),t,null,[[4,11]])})))()},hideModal:function(){this.selectedForBulkDelete=new Set,this.deleteUsersModal=!1},emitUnsavedChanges:function(){this.fieldsSaved=!1,this.$root.$emit("unsavedChanges")},emitChangesSaved:function(){this.fieldsSaved=!0,this.$emit("changesSaved")},checkNewOrExistingUser:function(){this.isExistingUser=null!=this.userFields.username&&null!=this.userFields.firstName&&null!=this.userFields.lastName,this.newUser&&!this.isExistingUser&&this.emitUnsavedChanges()},selectAeForDeletion:function(e){!0===e.selected?this.selectedForBulkDelete.add(e):this.selectedForBulkDelete.delete(e)},selectAllForDeletion:function(e){var t=this;this.listUserSpecificAEs.forEach((function(e){e.selected=!0,t.selectedForBulkDelete.add(e)})),this.allSelectedForDeletion=!0},deselectAllForDeletion:function(){var e=this;this.listUserSpecificAEs.forEach((function(t){t.selected=!1,e.selectedForBulkDelete.delete(t)})),this.allSelectedForDeletion=!1},areAllEditRolesSelectedForUser:function(){return this.selectedEditUserRoles.length===this.listOfEditUserRoles.length},addEditRolesToggle:function(){var e=this;this.fieldsSaved=!1,this.$nextTick((function(){e.$refs.editRolesAutocomplete.internalSearch=null,e.areAllEditRolesSelectedForUser()?e.selectedEditUserRoles=[]:e.selectedEditUserRoles=e.listOfEditUserRoles}))},updateUserRoles:function(e){var t=this;this.emitUnsavedChanges(),this.fieldsSaved=!1,this.selectedEditUserRoles=e,this.$nextTick((function(){t.$refs.editRolesAutocomplete.internalSearch=null}))},areAllEditLocationsSelectedForUser:function(){return this.selectedEditUserLocations.length===this.listOfEditUserLocations.length},addEditLocationsToggle:function(){var e=this;this.fieldsSaved=!1,this.$nextTick((function(){e.$refs.editLocationsAutocomplete.internalSearch=null,e.areAllEditLocationsSelectedForUser()?e.selectedEditUserLocations=[]:e.selectedEditUserLocations=e.listOfEditUserLocations}))},updateUserLocations:function(e){var t=this;this.emitUnsavedChanges(),this.fieldsSaved=!1,this.selectedEditUserLocations=e,this.$nextTick((function(){t.$refs.editLocationsAutocomplete.internalSearch=null}))}},created:function(){this.$validator.fastExit=!0},watch:{org:function(e,t){var a=this;return o()(l.a.mark((function s(){return l.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:null!==e&&null===t&&a.loadData();case 1:case"end":return s.stop()}}),s)})))()}}};var ia=function(e){a("/XFy")},la=Object(lt.a)(oa,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{attrs:{flat:"",outlined:""}},[a("v-card-text",{staticClass:"pt-0 card-text"},[e.fieldsInitialized?a("div",{ref:"form"},[a("v-row",{staticClass:"mt-1"},[a("v-col",{staticClass:"pb-0",attrs:{cols:"10"}},[a("v-text-field",{attrs:{outlined:"",name:"id",label:e.$t("pages.profile.profileInformation.id"),"data-test":"editUserId",readonly:!0,disabled:!0},model:{value:e.id,callback:function(t){e.id=t},expression:"id"}})],1),e._v(" "),a("v-col",{staticClass:"pb-0",attrs:{cols:"10"}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:3|max:250|validate_username_unique:"+e.originalUsername,expression:"\n              'required|min:3|max:250|validate_username_unique:' + `${originalUsername}`\n            "}],key:"editUser-"+e.formFields.username.name,staticClass:"first-col-text",attrs:{"data-test":e.formFields.username.data_test,"error-messages":e.errors.first("username"),label:e.$t("pages.profile.profileInformation.username")+" *",name:"username",outlined:""},on:{input:e.emitUnsavedChanges},model:{value:e.userFields[e.formFields.username.name],callback:function(t){e.$set(e.userFields,e.formFields.username.name,t)},expression:"userFields[formFields.username.name]"}})],1)],1),e._v(" "),a("v-row",[a("v-col",{staticClass:"pt-0 pb-0",attrs:{cols:"10"}},[a("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"verify_dropdown_populated",expression:"'verify_dropdown_populated'"}],ref:"editRolesAutocomplete",attrs:{items:e.listOfEditUserRoles,label:e.$t("pages.groups.groups")+" *","error-messages":e.errors.first("roles"),name:"roles","item-color":"secondary","data-vv-as":"roles","data-test":"editUser-roles","small-chips":"",multiple:"",outlined:""},on:{change:function(t){return e.updateUserRoles(t)}},scopedSlots:e._u([{key:"prepend-item",fn:function(){return[a("v-card",{staticClass:"card-list"},[a("v-list-item",{staticClass:"roleSelectAll",on:{click:e.addEditRolesToggle}},[a("v-list-item-action",[a("v-icon",[e._v("\n                "+e._s(e.getEditRolesToggleIcon)+"\n              ")])],1),e._v(" "),a("v-list-item-content",[a("v-list-item-title",{staticClass:"selectAllTitle"},[a("evergreen-span",{attrs:{label:e.$t("pages.userManagement.selectAll"),type:"body-2"}})],1)],1)],1)],1)]},proxy:!0}],null,!1,3190567394),model:{value:e.selectedEditUserRoles,callback:function(t){e.selectedEditUserRoles=t},expression:"selectedEditUserRoles"}})],1)],1),e._v(" "),a("v-row",[a("v-col",{staticClass:"pt-0 pb-0",attrs:{cols:"10"}},[e.listOfEditUserLocations.length>0?a("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"verify_dropdown_populated",expression:"'verify_dropdown_populated'"}],ref:"editLocationsAutocomplete",attrs:{items:e.listOfEditUserLocations,label:e.$t("pages.locations.title")+" *","error-messages":e.errors.first("locations"),name:"locations","item-color":"secondary","data-test":"editUser-locations","data-vv-as":"locations","small-chips":"",multiple:"",outlined:""},on:{change:function(t){return e.updateUserLocations(t)}},scopedSlots:e._u([{key:"prepend-item",fn:function(){return[a("v-card",{staticStyle:{"margin-top":"-0.5rem"}},[a("v-list-item",{staticClass:"locationSelectAll",on:{click:e.addEditLocationsToggle}},[a("v-list-item-action",[a("v-icon",[e._v("\n                      "+e._s(e.getEditLocationsToggleIcon)+"\n                    ")])],1),e._v(" "),a("v-list-item-content",[a("v-list-item-title",{staticClass:"selectAllTitle"},[e._v("\n                      Select all\n                    ")])],1)],1)],1)]},proxy:!0}],null,!1,1443976991),model:{value:e.selectedEditUserLocations,callback:function(t){e.selectedEditUserLocations=t},expression:"selectedEditUserLocations"}}):e._e()],1)],1),e._v(" "),a("v-row",[a("v-col",{staticClass:"pt-0 pb-0",attrs:{cols:e.colsSizeTextFields}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:2|max:30|validate_name",expression:"'required|min:2|max:30|validate_name'"}],key:"editUser-"+e.formFields.firstName.name,attrs:{"data-test":e.formFields.firstName.data_test,"error-messages":e.errors.first("firstName"),label:e.$t("pages.profile.profileInformation.firstName")+" *","data-vv-as":"first name",name:"firstName",outlined:""},on:{input:e.emitUnsavedChanges},model:{value:e.userFields[e.formFields.firstName.name],callback:function(t){e.$set(e.userFields,e.formFields.firstName.name,t)},expression:"userFields[formFields.firstName.name]"}})],1),e._v(" "),a("v-col",{staticClass:"pt-0 pb-0",attrs:{cols:e.colsSizeTextFields}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:2|max:30|validate_name",expression:"'required|min:2|max:30|validate_name'"}],key:"editUser-"+e.formFields.lastName.name,attrs:{"data-test":e.formFields.lastName.data_test,"error-messages":e.errors.first("lastName"),label:e.$t("pages.profile.profileInformation.lastName")+" *","data-vv-as":"last name",name:"lastName",outlined:""},on:{input:e.emitUnsavedChanges},model:{value:e.userFields[e.formFields.lastName.name],callback:function(t){e.$set(e.userFields,e.formFields.lastName.name,t)},expression:"userFields[formFields.lastName.name]"}})],1)],1),e._v(" "),a("v-row",[a("v-col",{staticClass:"pt-0 pb-0",attrs:{cols:e.colsSizeTextFields}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:e.emailValidateRule,expression:"emailValidateRule"}],key:"editUser-"+e.formFields.emailAddress.name,attrs:{"data-test":e.formFields.emailAddress.data_test,"error-messages":e.errors.first("email"),label:e.emailRequired?e.$t("pages.onBoardingUser.userDetails.emailLabel")+" *":e.$t("pages.onBoardingUser.userDetails.emailLabel"),"data-vv-as":"email address",name:"email",outlined:""},on:{input:e.emitUnsavedChanges},model:{value:e.userFields.email,callback:function(t){e.$set(e.userFields,"email",t)},expression:"userFields['email']"}})],1),e._v(" "),a("v-col",{staticClass:"pt-0 pb-0",attrs:{cols:e.colsSizeTextFields}},[a("v-text-field",{directives:[{name:"mask",rawName:"v-mask",value:e.phoneMask,expression:"phoneMask"},{name:"validate",rawName:"v-validate",value:"verify_phone_format",expression:"'verify_phone_format'"}],key:"editUser-"+e.formFields.phone.name,attrs:{"data-test":e.formFields.phone.data_test,"error-messages":e.errors.first("mobile"),label:e.$t("pages.profile.profileInformation.phoneNumber"),name:"mobile",outlined:""},on:{input:e.emitUnsavedChanges},model:{value:e.userFields[e.formFields.phone.name],callback:function(t){e.$set(e.userFields,e.formFields.phone.name,t)},expression:"userFields[formFields.phone.name]"}})],1)],1),e._v(" "),a("v-row",[a("v-col",{staticClass:"pt-0 pb-0",attrs:{cols:e.colsSizeTextFields}},[this.userFields[e.formFields.pccAdmin.name]?a("v-switch",{staticClass:"pt-0 mt-0",attrs:{color:"primary",disabled:!0,"data-test":e.formFields.pccAdmin.data_test,"hide-details":""},on:{change:e.emitUnsavedChanges},scopedSlots:e._u([{key:"label",fn:function(){return[a("evergreen-span",{attrs:{label:e.$t("pages.profile.profileInformation.pccAdmin"),type:"body-1"}})]},proxy:!0}],null,!1,4219981396),model:{value:e.userFields[e.formFields.pccAdmin.name],callback:function(t){e.$set(e.userFields,e.formFields.pccAdmin.name,t)},expression:"userFields[formFields.pccAdmin.name]"}}):e._e()],1)],1),e._v(" "),a("v-row",[a("v-col",{staticClass:"pt-0 pb-0",attrs:{cols:e.colsSizeTextFields}},[a("v-switch",{staticClass:"mt-0",attrs:{"data-test":e.formFields.accountStatus.data_test,"false-value":"inactive","true-value":"active",color:"primary"},on:{change:e.emitUnsavedChanges},scopedSlots:e._u([{key:"label",fn:function(){return[a("evergreen-span",{attrs:{label:e.$t("pages.profile.profileInformation.active"),type:"body-1"}})]},proxy:!0}],null,!1,2905373735),model:{value:e.userFields.status,callback:function(t){e.$set(e.userFields,"status",t)},expression:"userFields['status']"}})],1)],1),e._v(" "),a("v-row",[a("v-col",{staticClass:"pt-0 pb-0",attrs:{cols:e.colsSizeTextFields}},[a("v-text-field",{directives:[{name:"mask",rawName:"v-mask",value:e.npiMask,expression:"npiMask"},{name:"validate",rawName:"v-validate",value:"verify_npi_format|validate_npi_unique:"+e.id,expression:"`verify_npi_format|validate_npi_unique:${id}`"}],key:"editUser-"+e.formFields.npi.name,attrs:{"data-test":e.formFields.npi.data_test,"error-messages":e.errors.first("npi"),label:e.$t("pages.profile.profileInformation.npi"),name:"npi",outlined:""},on:{input:e.emitUnsavedChanges},model:{value:e.userFields[e.formFields.npi.name],callback:function(t){e.$set(e.userFields,e.formFields.npi.name,t)},expression:"userFields[formFields.npi.name]"}})],1)],1)],1):e._e(),e._v(" "),a("v-row",{staticClass:"py-3-rem",attrs:{dense:"",justify:"end"}},[a("evergreen-outlined-button",{directives:[{name:"b-modal",rawName:"v-b-modal.deleteUserModal",modifiers:{deleteUserModal:!0}}],attrs:{label:e.$t("pages.userManagement.deleteUser"),"data-test":"EditPageDeleteUserBtn"},nativeOn:{click:function(t){e.deleteUsersModal=!0}}}),e._v(" "),a("evergreen-contained-button",{staticClass:"ml-6",attrs:{disabled:!e.state||e.fieldsSaved,label:e.$t("common.form.save"),"data-test":"EditPageSaveBtn"},nativeOn:{click:function(t){return e.saveResource.apply(null,arguments)}}})],1)],1),e._v(" "),a("v-dialog",{ref:"deleteUsersModal",attrs:{"data-test":"deleteUserModal","max-width":"700"},model:{value:e.deleteUsersModal,callback:function(t){e.deleteUsersModal=t},expression:"deleteUsersModal"}},[a("v-card",{staticClass:"pa-0"},[a("v-card-title",{staticStyle:{padding:"1.5rem"}},[a("evergreen-span",{attrs:{label:e.$t("pages.access.deleteModalTitle"),type:"h4-light"}})],1),e._v(" "),a("v-card-text",{staticClass:"pa-0"},[a("evergreen-span",{staticClass:"pad-left",attrs:{label:e.$t("pages.userManagement.bulkDeleteUsersMessage",{firstName:this.userFields.firstName,lastName:this.userFields.lastName}),type:"body-1","data-test":"deleteSelectedUsersSpan"}}),e._v(" "),a("v-row",{staticClass:"button-row"},[a("v-spacer"),e._v(" "),a("evergreen-contained-button",{staticClass:"mr-6",attrs:{label:e.$t("common.form.confirm"),"data-test":"deleteMultipleMemberships"},nativeOn:{click:function(t){return e.deleteUsers.apply(null,arguments)}}}),e._v(" "),a("evergreen-outlined-button",{attrs:{label:e.$t("common.form.cancel"),"data-test":"cancelDeleteMultipleMemberships"},nativeOn:{click:function(t){return e.hideModal.apply(null,arguments)}}})],1)],1)],1)],1)],1)}),[],!1,ia,"data-v-f5681838",null),ca=la.exports;var da=function(e){a("b4gx")},ua=Object(lt.a)({name:"Validation-Error",props:["validatorErrors","fieldName"]},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"show",rawName:"v-show",value:e.validatorErrors.has(e.fieldName),expression:"validatorErrors.has(fieldName)"}],staticClass:"validation-requirements text-left"},[a("span",{staticClass:"text-danger small"},[e._v(e._s(e.validatorErrors.first(e.fieldName)))])])}),[],!1,da,"data-v-2b6d3d5a",null).exports,pa={name:"Resource-Mixin",methods:{generateUpdatePatch:function(e,t){var a,s=u.a.cloneDeep(e),n=u.a.cloneDeep(t);return u.a.isArray(n)?a=u.a.filter(n,(function(e,t){return e.value!==s[t].value})):(a=[],u.a.each(n,(function(e,t){s[t]!==n[t]&&a.push({value:n[t],name:t})}))),u.a.map(a,(function(e){return""===e.value||null===e.value?{operation:"remove",field:"/".concat(e.name)}:{operation:"add",field:"/".concat(e.name),value:e.value}}))},findPolicyError:function(e,t){var a=this,s=[];return u.a.has(e,"data.detail.failedPolicyRequirements")&&u.a.each(e.data.detail.failedPolicyRequirements,(function(e){if(e.policyRequirements.length>0){var n="",r=u.a.find(t,(function(t){return t.key===e.property})),o=e.policyRequirements[0].params||{};r&&(n=r.title?r.title:r.key,o.property=n),s.push({exists:n.length>0,field:e.property,msg:a.$t("common.policyValidationMessages.".concat(e.policyRequirements[0].policyRequirement),o)})}})),s}}},ma=Object(lt.a)(pa,undefined,undefined,!1,null,null,null).exports,ga={name:"Floating-Label-Input",components:{"validation-error":ua},props:{label:String,type:String,autofocus:String,fieldName:String,validateRules:[String,Object],reveal:Boolean,showErrorState:{type:Boolean,default:!0},defaultValue:{required:!1}},inject:["$validator"],data:function(){return{inputValue:"",id:null,floatLabels:!1,hideLabel:!0,inputType:this.type,show:!0}},beforeMount:function(){this.id="floatingLabelInput".concat(this.uid)},mounted:function(){var e=this;u.a.delay(u.a.bind((function(){navigator.userAgent.indexOf("Edge")>=0?document.getElementById("".concat(e.id)).value.length&&(e.floatLabels=!0,e.inputValue=document.getElementById("".concat(e.id)).value):navigator.userAgent.indexOf("Chrome")>=0&&document.querySelectorAll("#".concat(e.id,":-webkit-autofill")).length>0&&(e.floatLabels=!0),e.hideLabel=!1}),this),400),this.defaultValue&&(this.inputValue=this.defaultValue),"true"===this.autofocus&&this.$refs.input.focus()},methods:{revealText:function(){"password"===this.inputType?(this.inputType="text",this.show=!1):(this.inputType="password",this.show=!0)}},watch:{inputValue:function(e){this.floatLabels=e.length>0,this.$emit("input",e)}}};var fa=function(e){a("PjdC")},va=Object(lt.a)(ga,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mb-3"},[a("div",{ref:"floatingLabelGroup",class:[{"form-label-password":e.reveal},"form-label-group","mb-0"]},["checkbox"===e.inputType?a("input",{directives:[{name:"model",rawName:"v-model",value:e.inputValue,expression:"inputValue"},{name:"validate",rawName:"v-validate",value:e.validateRules,expression:"validateRules"}],ref:"input",class:[{polyfillPlaceholder:e.floatLabels,"is-invalid":e.errors.has(e.fieldName)&&e.showErrorState},"form-control"],attrs:{id:e.id,autofocus:e.autofocus,placeholder:e.label,"data-vv-as":e.label,"data-vv-validate-on":"submit",name:e.fieldName,"data-test":"floatingLabelInput",type:"checkbox"},domProps:{checked:Array.isArray(e.inputValue)?e._i(e.inputValue,null)>-1:e.inputValue},on:{change:function(t){var a=e.inputValue,s=t.target,n=!!s.checked;if(Array.isArray(a)){var r=e._i(a,null);s.checked?r<0&&(e.inputValue=a.concat([null])):r>-1&&(e.inputValue=a.slice(0,r).concat(a.slice(r+1)))}else e.inputValue=n}}}):"radio"===e.inputType?a("input",{directives:[{name:"model",rawName:"v-model",value:e.inputValue,expression:"inputValue"},{name:"validate",rawName:"v-validate",value:e.validateRules,expression:"validateRules"}],ref:"input",class:[{polyfillPlaceholder:e.floatLabels,"is-invalid":e.errors.has(e.fieldName)&&e.showErrorState},"form-control"],attrs:{id:e.id,autofocus:e.autofocus,placeholder:e.label,"data-vv-as":e.label,"data-vv-validate-on":"submit",name:e.fieldName,"data-test":"floatingLabelInput",type:"radio"},domProps:{checked:e._q(e.inputValue,null)},on:{change:function(t){e.inputValue=null}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:e.inputValue,expression:"inputValue"},{name:"validate",rawName:"v-validate",value:e.validateRules,expression:"validateRules"}],ref:"input",class:[{polyfillPlaceholder:e.floatLabels,"is-invalid":e.errors.has(e.fieldName)&&e.showErrorState},"form-control"],attrs:{id:e.id,autofocus:e.autofocus,placeholder:e.label,"data-vv-as":e.label,"data-vv-validate-on":"submit",name:e.fieldName,"data-test":"floatingLabelInput",type:e.inputType},domProps:{value:e.inputValue},on:{input:function(t){t.target.composing||(e.inputValue=t.target.value)}}}),e._v(" "),e.reveal?a("div",{staticClass:"input-group-append"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-test":"revealTextBtn"},on:{click:e.revealText}},[a("i",{class:[{"fa-eye-slash":!e.show},{"fa-eye":e.show},"fa"],attrs:{"data-test":"revealTextIcon"}})])]):e._e(),e._v(" "),a("label",{attrs:{hidden:e.hideLabel,for:e.id}},[e._v(e._s(e.label))])]),e._v(" "),e._t("validationError",(function(){return[a("validation-error",{attrs:{validatorErrors:e.errors,fieldName:e.fieldName}})]}))],2)}),[],!1,fa,"data-v-5ddbc892",null).exports,ha={name:"PolicyPanel",props:["policies","policyFailures"],components:{},data:function(){return{}},computed:{isLoading:function(){return"loading"===this.policyFailures},policyNames:function(){return Object.keys(this.policies)}},methods:{translate:function(e){var t="common.policyValidationMessages.".concat(e);return this.$t(t,{param:this.policies[e]})},includes:u.a.includes},watch:{policyFailures:function(e){this.policyFailures=e}}};var ba=function(e){a("OeGN")},ya={name:"PolicyPasswordInput",inject:["$validator"],components:{"policy-panel":Object(lt.a)(ha,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"card border-0 mt-3"},[a("transition",{attrs:{name:"fade",mode:"out-in",duration:150}},[e.isLoading?e._e():[a("ul",{staticClass:"text-left pl-6",attrs:{"data-test":"passwordPolicyList"}},e._l(e.policyNames,(function(t){return a("li",{key:t,class:[{valid:!e.includes(e.policyFailures,t)},"primary--text policy-list-item"]},[a("small",{staticClass:"text-body"},[e._v(e._s(e.translate(t)))])])})),0)]],2)],1)}),[],!1,ba,"data-v-5226c5e9",null).exports},props:{policyApi:{required:!0,type:String},token:String,selectedUserId:String,showConfirmPassword:{type:Boolean,default:!1},label:{type:String,default:function(){return this.$t("common.placeholders.password")}},confirmPasswordLabel:{type:String,default:function(){return this.$t("common.placeholders.confirmPassword")}},validateImmediately:{type:Boolean,default:!0},exclude:{required:!1,type:Array,default:function(){return[{name:"REQUIRED",predicate:function(e){return u.a.includes(e,"REQUIRED")&&u.a.includes(e,"MIN_LENGTH")}},"VALID_TYPE","CANNOT_CONTAIN_OTHERS"]}}},data:function(){return{policies:[],password:"",confirmPassword:"",showConfirmPasswordField:this.showConfirmPassword,userPolicyId:""}},computed:{policyFailures:function(){var e=this.errors.all();return u.a.isUndefined(this.fields.password)?"loading":u.a.isNull(e)&&this.fields.password.valid?[]:e}},methods:{getPolicyParameter:function(e){return this.policies[e]},excludeNotRelevantPolicies:function(e){var t={};return Object.keys(e).forEach((function(a){e[a]&&(t[a]=e[a])})),t},emitChangePassword:function(){this.$root.$emit("changePassword")}},created:function(){var e,t=this,a=(j.a.getFacadeConfig("production"),this.getPolicyParameter.bind(this)),s=this.excludeNotRelevantPolicies.bind(this),n=this.$root.userStore.state.userName,r=this.$root.userStore.state.givenName,o=this.$root.userStore.state.sn;this.selectedUserId&&E.a.getUser(this.selectedUserId).then((function(e){var t=e.data;n=t.username,r=t.firstName,o=t.lastName})).catch((function(){t.displayNotification("error","Error getting user.")})),"orgPolicy"===this.policyApi?e=this.$store.get("globalContext/globalOrg").id:"tokenPolicy"===this.policyApi&&(e=this.token),E.a.getPolicy(this.policyApi,e).then((function(e){if(null!=e&&null!=e.data&&""!==e.data){var a=e.data.complexity;t.$set(a,"historyCount",e.data.age.historyCount),t.policies=s(a)}t.validateImmediately&&t.$validator.validateAll()})).catch((function(e){t.displayNotification("error",t.$t("common.policyValidationMessages.errorRetrievePswrdPolicy")),t.$emit("policyRetrievalFailure",e)})),this.$validator.extend("minLowerCase",{validate:function(e){return{valid:!a("minLowerCase")||null!==e&&null!==e.match(/[a-z]/),data:"minLowerCase"}},getMessage:function(e,t,a){return a}}),this.$validator.extend("minUpperCase",{validate:function(e){return{valid:!a("minUpperCase")||null!==e.match(/[A-Z]/),data:"minUpperCase"}},getMessage:function(e,t,a){return a}}),this.$validator.extend("minNumber",{validate:function(e){return{valid:!a("minNumber")||null!==e.match(/[0-9]/),data:"minNumber"}},getMessage:function(e,t,a){return a}}),this.$validator.extend("minSymbol",{validate:function(e){return{valid:!a("minSymbol")||null!==e.match(/[!#$%&'()*+,\-./:;<=>?@[\]^_`{}|~]/),data:"minSymbol"}},getMessage:function(e,t,a){return a}}),this.$validator.extend("minLength",{validate:function(e){return{valid:void 0===a("minLength")||e.length>=a("minLength"),data:"minLength"}},getMessage:function(e,t,a){return a}}),this.$validator.extend("excludeUserName",{validate:function(e){var t=new RegExp(n,"gi");return{valid:!a("excludeUserName")||!n||null===e.match(t),data:"excludeUserName"}},getMessage:function(e,t,a){return a}}),this.$validator.extend("excludeFirstName",{validate:function(e){var t=new RegExp(r,"gi");return{valid:!a("excludeFirstName")||!r||null===e.match(t),data:"excludeFirstName"}},getMessage:function(e,t,a){return a}}),this.$validator.extend("excludeLastName",{validate:function(e){var t=new RegExp(o,"gi");return{valid:!a("excludeLastName")||!o||null===e.match(t),data:"excludeLastName"}},getMessage:function(e,t,a){return a}})}},wa=Object(lt.a)(ya,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticClass:"mb-0",attrs:{flat:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate.initial",value:"required|minLowerCase|minUpperCase|minNumber|minSymbol|minLength|excludeUserName|excludeFirstName|excludeLastName",expression:"'required|minLowerCase|minUpperCase|minNumber|minSymbol|minLength|excludeUserName|excludeFirstName|excludeLastName'",modifiers:{initial:!0}}],attrs:{name:"password","data-vv-name":"password",type:"password",label:e.label,outlined:"","data-test":"resetstage-password-input","hide-details":""},on:{input:function(t){!e.showConfirmPasswordField&&e.$emit("input",t)}},nativeOn:{keyup:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;!e.showConfirmPasswordField&&e.emitChangePassword}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),e._v(" "),a("policy-panel",{attrs:{policies:e.policies,policyFailures:e.policyFailures}}),e._v(" "),e.showConfirmPasswordField?a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:e.showConfirmPasswordField?"required|confirmed:password":"",expression:"showConfirmPasswordField ? 'required|confirmed:password' : ''"}],staticStyle:{"margin-top":"1rem"},attrs:{name:"confirmPassword","data-vv-name":"confirmPassword",type:"password",label:e.confirmPasswordLabel,outlined:"","data-vv-validate-on":"blur",hint:e.$t("common.placeholders.passwordHint"),"persistent-hint":"","data-vv-as":"password","data-test":"resetstage-confirm-password-input"},on:{input:function(t){return e.$emit("input",t)}},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.emitChangePassword.apply(null,arguments)}},model:{value:e.confirmPassword,callback:function(t){e.confirmPassword=t},expression:"confirmPassword"}}):e._e()],1)}),[],!1,null,null,null),xa=wa.exports,Ca={name:"Edit-User-Password",components:{"evergreen-span":ot.a,"floating-label-input":va,"validation-error":ua,"password-policy-input":xa,"evergreen-contained-button":ft.a,"evergreen-outlined-button":vt.a},mixins:[ma],data:function(){return{id:this.$route.params.resourceId,disableSaveButton:!1,disableAdminResendVerificationButton:!1,password:"",selectedUserId:"",displayMfaReset:!1,displayMfaResetOptions:!1,mfaTypes:[],mfaTypesToReset:[],softLock:"",hasEmail:!1}},computed:{displayAdminResendVerification:function(){return"VERIFICATION_PENDING"==this.softLock&&!0===this.hasEmail}},$_veeValidate:{validator:"new"},methods:{selectForReset:function(e){if(e.selected)this.mfaTypesToReset.push(e.name);else{var t=this.mfaTypesToReset.indexOf(e.name);t>-1&&this.mfaTypesToReset.splice(t,1)}},handleCancelClick:function(){this.displayMfaResetOptions=!1},handleResetClick:function(){this.displayMfaResetOptions=!0},handleRestDialogClick:function(){var e=this;return o()(l.a.mark((function t(){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={factors:e.mfaTypesToReset},t.next=3,E.a.resetMfa(a,e.id);case 3:200===t.sent.status?(e.displayMfaResetOptions=!1,e.displayNotification("success","MFA has been successfully reset.")):e.displayNotification("error","Failed to reset MFA.");case 5:case"end":return t.stop()}}),t)})))()},getUser:function(){var e=this;return o()(l.a.mark((function t(){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E.a.getUser(e.id);case 2:a=t.sent,e.softLock=a.data.softLock,e.hasEmail=!!a.data.email,a.data.mfaFactors.length>0&&(e.displayMfaReset=!0,e.mfaTypes=a.data.mfaFactors);case 6:case"end":return t.stop()}}),t)})))()},apiUrl:function(){return"/local-users/".concat(this.id,"/password")},changePassword:function(){var e=this;if(u.a.isEmpty(this.$validator.errors.all())){this.disableSaveButton=!0;var t=j.a.getFacadeConfig("production");this.getRequestService({baseURL:t}).post(this.apiUrl(),{password:this.password}).then((function(){e.disableSaveButton=!1,e.displayNotification("success","Password changed successfully."),e.$refs.passwordPolicyInput.password=""})).catch((function(t){e.disableSaveButton=!1;var a="",s=!u.a.isUndefined(t.response.data.errors),n=!u.a.isUndefined(t.response.data.failedPolicyRequirements);if(s)a=t.response.data.errors[0].title;else if(n){var r=t.response.data.failedPolicyRequirements[0].policyRequirement,o="common.policyValidationMessages.".concat(r);a=e.$t(o,{param:e.$refs.passwordPolicyInput.policies[r]})}e.displayNotification("error",a)}))}},adminResendVerification:function(){var e=this;return o()(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E.a.adminResendVerificationEmail(e.id);case 3:t.sent,e.displayNotification("success","Email sent successfully."),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e.displayNotification("error",t.t0.response.data.errors[0].title);case 10:return t.prev=10,e.disableAdminResendVerificationButton=!0,t.finish(10);case 13:case"end":return t.stop()}}),t,null,[[0,7,10,13]])})))()}},created:function(){this.selectedUserId=this.id,this.getUser()},mounted:function(){var e=this;this.$root.$on("changePassword",(function(){e.changePassword()}))}};var _a=function(e){a("si/4")},Sa=Object(lt.a)(Ca,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-card",{attrs:{flat:"",outlined:""}},[a("v-card-text",{staticStyle:{"padding-right":"0","padding-left":"0","padding-top":"1.5rem"}},[this.displayMfaReset?a("v-row",{staticClass:"strip-whitespace left-margin"},[a("v-col",{staticClass:"strip-whitespace"},[a("evergreen-span",{staticClass:"section-description",attrs:{type:"h6",label:e.$t("pages.profile.editProfile.mfaAuthenticationReset"),"data-test":"resetMfaDescription"}}),e._v(" "),a("br"),e._v(" "),a("evergreen-span",{staticClass:"section-description-sub",attrs:{type:"body-1",label:e.$t("pages.profile.editProfile.mfaAuthenticationResetSub"),"data-test":"resetMfaDescriptionSub"}})],1),e._v(" "),a("v-col",{staticClass:"text-right strip-whitespace",attrs:{justify:"end"}},[a("evergreen-outlined-button",{staticStyle:{"margin-right":"2.5rem","margin-top":"0.463rem"},attrs:{"data-test":"resetMfaButton",label:e.$t("pages.profile.editProfile.mfaAuthResetBtn")},nativeOn:{click:function(t){return e.handleResetClick()}}})],1)],1):e._e(),e._v(" "),this.displayMfaReset?a("v-divider",{staticClass:"divider"}):e._e(),e._v(" "),this.displayAdminResendVerification?a("v-row",{staticClass:"strip-whitespace left-margin"},[a("v-col",{staticClass:"strip-whitespace",staticStyle:{"padding-top":"0.44rem"}},[a("evergreen-span",{staticClass:"section-description",attrs:{type:"h6",label:e.$t("pages.profile.editProfile.accountVerification"),"data-test":"adminResendVerificationDescription"}})],1),e._v(" "),a("v-col",{staticClass:"text-right strip-whitespace",attrs:{justify:"end"}},[a("evergreen-outlined-button",{staticStyle:{"margin-right":"2.5rem"},attrs:{"data-test":"adminResendVerificationBtn",label:e.$t("pages.profile.editProfile.accountVerificationResendBtn"),disabled:e.disableAdminResendVerificationButton},nativeOn:{click:function(t){return e.adminResendVerification()}}})],1)],1):e._e(),e._v(" "),this.displayAdminResendVerification?a("v-divider",{staticClass:"divider"}):e._e(),e._v(" "),a("div",{staticClass:"col-sm-10 left-margin",staticStyle:{"margin-bottom":"0.5rem"},attrs:{"data-test":"admin-msg"}},[a("evergreen-span",{staticClass:"text-danger",attrs:{type:"subtitle-2",label:e.$t("pages.profile.editProfile.adminPwdChangeMsg")}})],1),e._v(" "),a("v-col",{staticClass:"left-margin",attrs:{cols:5}},[a("password-policy-input",{ref:"passwordPolicyInput",attrs:{policyApi:"orgPolicy",selectedUserId:e.selectedUserId},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}},[a("v-form",{key:"editUserPassword-password",attrs:{autocomplete:"off"}},[a("floating-label-input",{directives:[{name:"validate",rawName:"v-validate.initial",value:"required|minLowerCase|minUpperCase|minNumber|minSymbol|minLength|excludeUserName|excludeFirstName|excludeLastName",expression:"'required|minLowerCase|minUpperCase|minNumber|minSymbol|minLength|excludeUserName|excludeFirstName|excludeLastName'",modifiers:{initial:!0}}],ref:"focusInput",class:[{"is-invalid":e.errors.has("mainEdit.password")}],attrs:{"data-vv-validate-on":"submit",name:"password",type:"password",fieldName:"password",label:e.$t("pages.login.password"),reveal:!0,autofocus:"true","data-vv-as":"password","data-vv-scope":"mainEdit",autocomplete:"new-password"},model:{value:e.password,callback:function(t){e.password="string"==typeof t?t.trim():t},expression:"password"}}),e._v(" "),a("validation-error",{attrs:{validatorErrors:e.errors,fieldName:"mainEdit.password"}})],1)],1)],1),e._v(" "),a("v-row",{staticClass:"left-margin",staticStyle:{"padding-right":"1.5rem"},attrs:{justify:"end"}},[a("evergreen-contained-button",{staticStyle:{"margin-right":"2.5rem"},attrs:{disabled:e.disableSaveButton,label:"Save","data-test":"savePasswordBtn"},nativeOn:{click:function(t){return e.changePassword.apply(null,arguments)}}})],1)],1)],1),e._v(" "),a("v-dialog",{attrs:{"max-width":"31.25rem"},model:{value:e.displayMfaResetOptions,callback:function(t){e.displayMfaResetOptions=t},expression:"displayMfaResetOptions"}},[a("v-card",[a("v-card-title",{staticStyle:{"padding-bottom":"2rem"}},[a("evergreen-span",{attrs:{type:"h6",label:e.$t("pages.profile.editProfile.mfaResetTitle"),"data-test":"resetMfaTitle"}})],1),e._v(" "),a("v-card-text",[a("evergreen-span",{staticStyle:{color:"black"},attrs:{type:"body-1",label:e.$t("pages.profile.editProfile.mfaResetInstructions"),"data-test":"resetMfaInstructions"}}),e._v(" "),a("v-data-table",{staticStyle:{"padding-top":"0"},attrs:{items:e.mfaTypes,"item-key":"name","hide-default-footer":!0,"disable-sort":""},scopedSlots:e._u([{key:"body",fn:function(t){var s=t.items;return[s.length>0?a("tbody",e._l(s,(function(t){return a("tr",{key:t.name},[a("td",{staticStyle:{width:"1.25rem","border-bottom":"0","padding-left":"0.44rem",top:"0"}},[a("div",[a("v-simple-checkbox",{staticStyle:{"margin-left":"1rem"},attrs:{color:"secondary","data-test":"mfaCheckBox-"+t.name},on:{input:function(a){return e.selectForReset(t)}},model:{value:t.selected,callback:function(a){e.$set(t,"selected",a)},expression:"item.selected"}})],1)]),e._v(" "),a("td",{staticStyle:{"border-bottom":"0"}},[a("div",{staticStyle:{"padding-left":"0.75rem","padding-right":"0.75rem"}},[a("evergreen-span",{staticStyle:{"padding-left":"0rem"},attrs:{"data-test":"mfaType-"+t.name,label:t.name,type:"body-2"}})],1)])])})),0):e._e()]}}])})],1),e._v(" "),a("v-card-actions",[a("v-container",[a("v-row",{attrs:{justify:"end","no-gutters":"",dense:""}},[a("evergreen-contained-button",{attrs:{disabled:0===this.mfaTypesToReset.length,"data-test":"mfaAuthResetBtn",label:e.$t("pages.profile.editProfile.mfaAuthResetBtn")},nativeOn:{click:function(t){return e.handleRestDialogClick()}}}),e._v(" "),a("evergreen-outlined-button",{staticStyle:{"margin-left":"1rem"},attrs:{"data-test":"mfaCancelBtn",label:e.$t("pages.profile.editProfile.mfaCancelBtn")},nativeOn:{click:function(t){return e.handleCancelClick()}}})],1)],1)],1)],1)],1)],1)}),[],!1,_a,"data-v-466df492",null),ka=Sa.exports,Aa={name:"edit-user-apps-relationship",components:{"evergreen-span":ot.a},mixins:[ma],data:function(){return{id:this.$route.params.resourceId,apps:[]}},mounted:function(){var e=this;this.loadApps(),this.$root.$on("reloadApps",(function(){e.loadApps()}))},beforeDestroy:function(){this.$root.$off("reloadApps")},methods:{loadApps:function(){var e=this;this.apps=[];var t="/local-users/".concat(this.id,"/user-products"),a=j.a.getFacadeConfig("production");this.getRequestService({baseURL:a}).get(t).then((function(t){e.apps=t.data})).catch((function(t){var a=t.response.data.errors[0].title;e.displayNotification("error",a)}))}}};var Oa=function(e){a("Fh6/")},Ua=Object(lt.a)(Aa,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{attrs:{tile:""}},[a("v-card-text",[a("v-row",[a("v-col",{staticClass:"custom-apps-col",attrs:{cols:"12"}},[0===e.apps.length?a("div",{staticClass:"custom-apps-row"},[a("evergreen-span",{attrs:{label:"No data available",type:"body-1","data-test":"no-data-available"}})],1):e._l(e.apps,(function(e,t){return a("div",{staticClass:"custom-apps-row"},[a("evergreen-span",{attrs:{label:e,type:"body-1","data-test":"list-item-"+t+"#app-"+e}})],1)}))],2)],1)],1)],1)}),[],!1,Oa,"data-v-5df34b4a",null).exports,La={name:"Edit-User",components:{"evergreen-span":ot.a,"edit-user-fields":ca,"edit-user-security":ka,"edit-user-apps-relationship":Ua},data:function(){return{breadcrumbs:[{dataTest:"users-list-breadcrumb",text:this.$t("pages.userManagement.title"),href:"#/list/users"},{dataTest:"current-user-breadcrumb",text:this.$t("pages.userManagement.editUser")}],isLocalUserSelected:!0}},beforeRouteLeave:function(e,t,a){this.globalUnsavedChanges?(this.$store.commit("globalContext/setRouteTo",e.name),this.$store.commit("globalContext/setIsRouteChange",!0),this.$store.commit("globalContext/setShowDiscardChangesModal",!0),a(!1)):a()},computed:{org:function(){return this.$store.get("globalContext/globalOrg")},globalUnsavedChanges:function(){return this.$store.get("globalContext/globalUnsavedChanges")},routeTo:function(){return this.$store.get("globalContext/routeTo")}},mounted:function(){var e=this;this.$root.$on("unsavedChanges",(function(){e.changesNotSaved()})),this.$root.$on("changesSaved",(function(){e.changesSaved()})),this.$root.$on("deleteButtonPressed",(function(){e.deleteUser("ListUsers")}))},methods:{changesSaved:function(){this.$store.commit("globalContext/setGlobalUnsavedChanges",!1)},changesNotSaved:function(){this.$store.commit("globalContext/setGlobalUnsavedChanges",!0)},selectedUser:function(e){this.isLocalUserSelected=!e.federated},deleteUser:function(e){var t=this;if(this.$route.params.resourceId){var a=[this.$route.params.resourceId],s=j.a.getFacadeConfig("production"),n=this.getRequestService({baseURL:s});this.$root.userStore.state.userSpecificAEs.forEach((function(e){var s=e.accessingEntityId;n.delete("/local-users",{data:{users:a,aeid:s}}).catch((function(e){t.displayNotification("error","Error deleting user.")}))}))}},gotoUsersListPage:function(){this.$router.push({name:"ListUsers"})}},watch:{org:function(e,t){e&&e.id!==t.id&&this.gotoUsersListPage()},routeTo:function(e,t){e&&e.id!==t.id&&this.gotoUsersListPage()}}};var Na=function(e){a("S+Zq")},Pa=Object(lt.a)(La,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mx-6"},[a("v-card",{staticClass:"header-breadcrumb",attrs:{flat:""}},[a("evergreen-span",{attrs:{type:"h3",label:e.$t("pages.userManagement.title")}})],1),e._v(" "),a("v-breadcrumbs",{staticClass:"pl-0 pt-0",attrs:{items:e.breadcrumbs,divider:">"},scopedSlots:e._u([{key:"item",fn:function(e){return[a("a",{staticStyle:{"text-decoration":"none",color:"black"},attrs:{href:e.item.href,"data-test":e.item.dataTest}},[a("evergreen-span",{attrs:{type:"body-1",label:e.item.text}})],1)]}}])}),e._v(" "),a("v-card",[a("v-tabs",{attrs:{color:"primary","data-test":"EditUserTabs"}},[[a("v-tab",{staticClass:"px-6",attrs:{"data-test":"editUserDetailsTab"}},[e._v(e._s(this.$t("pages.userManagement.editUserTabs.userDetails")))]),e._v(" "),a("v-tab-item",{staticStyle:{"margin-top":"0.2rem"}},[a("edit-user-fields",{on:{selectedUser:e.selectedUser,changesSaved:e.changesSaved}})],1),e._v(" "),this.isLocalUserSelected?a("v-tab",{staticClass:"px-6",attrs:{"data-test":"editUserSecurityTab"}},[e._v(e._s(this.$t("pages.userManagement.editUserTabs.security")))]):e._e(),e._v(" "),this.isLocalUserSelected?a("v-tab-item",{staticStyle:{"margin-top":"0.2rem"}},[a("edit-user-security")],1):e._e(),e._v(" "),a("v-tab",{staticClass:"px-6",attrs:{"data-test":"editUserAppsTab"}},[e._v(e._s(this.$t("pages.userManagement.editUserTabs.products")))]),e._v(" "),a("v-tab-item",{staticStyle:{"margin-top":"0.2rem"}},[a("edit-user-apps-relationship")],1)]],2)],1)],1)}),[],!1,Na,"data-v-46d8dfab",null).exports,Ma=a("XBL0"),Ia=a("/eCE"),Ta={name:"DashboardRoute",mixins:[at.a],methods:{extractGotoUrlAndrouteToDashboard:function(){var e=Ma.a.getDecodedGotoUrl(this.$route);if(this.$root.uiUtils.checkRedirectDomain(e))window.location.href=e;else{var t=e?{attemptedRedirect:!0}:{};this.routeToDashboard(t)}},routeToDashboard:function(e){var t=this,a=j.a.getFacadeConfig("production");this.getRequestService({baseURL:a}).get("/users/me").then((function(a){t.updateAppsListInUserStore(a),t.setGlobalContextAndProducts(a),Ke.a.displayApplications(),Ia.a.initPendo(a.data.username,a.data.userId),c.a.setUser({id:a.data.userId,name:a.data.username,email:a.data.email}),t.$root.userStore.setProfileAction({userName:a.data.username,givenName:a.data.firstName,sn:a.data.lastName,mail:a.data.email,mobilePhoneNumber:a.data.mobilePhoneNumber,telephoneNumber:a.data.telephoneNumber,federated:a.data.federated}),t.$root.userStore.setUserIdAction(a.data.userId),t.$root.userStore.setAdminAction(a.data.pccAdmin),t.$root.userStore.setImplementerAction(a.data.pccImplementer),t.$router.push({name:"Dashboard",query:e})})).catch((function(e){}))}}},$a=Object(lt.a)(Ta,undefined,undefined,!1,null,null,null).exports,Ea={name:"AuthenticationCard",props:{hasBranding:Boolean,showLogo:{type:Boolean,default:!0},isFlat:{type:Boolean,default:!1}}};var Da=function(e){a("af/G")},Fa=Object(lt.a)(Ea,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-layout",{attrs:{"align-center":""}},[s("v-row",{staticClass:"card-row",attrs:{align:"center",justify:"center"}},[s("v-col",{attrs:{cols:"12",md:"4",sm:"8"}},[s("v-card",{staticClass:"card-box-shadow mx-auto px-6",attrs:{"max-width":"37.5rem",flat:e.isFlat}},[s("v-card-title",{staticClass:"justify-center pa-0 mt-n12 mb-6-rem"},[e.showLogo?s("img",{class:this.hasBranding?"pt-10 pl-10 pr-10":"pa-10 pb-0",attrs:{src:a("1Sg+")}}):e._e(),e._v(" "),e._t("card-title-footer")],2),e._v(" "),e._t("default")],2),e._v(" "),e._t("footer")],2)],1)],1)}),[],!1,Da,"data-v-210dd008",null).exports,Ra={name:"PrivacyLink",components:{"evergreen-span":ot.a},data:function(){return{}},computed:{privacyLink:function(){return j.a.getPrivacyLink()}}};var za=function(e){a("94T+")},ja=Object(lt.a)(Ra,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"max-width":"37.5rem",margin:"auto"}},[a("v-row",{staticClass:"privacy-policy-row"},[a("v-spacer"),e._v(" "),a("a",{staticClass:"privacy-policy",attrs:{href:e.privacyLink,rel:"external",target:"_BLANK"}},[a("evergreen-span",{attrs:{label:e.$t("pages.login.privacyPolicy"),type:"body-2"}})],1)],1)],1)}),[],!1,za,"data-v-a72f374c",null).exports,qa={name:"Login",mixins:[at.a,$a,st.a],components:{"evergreen-contained-button":ft.a,"evergreen-span":ot.a,"authentication-card":Fa,"privacy-link":ja},data:function(){return{expand:!1,displayName:"",authId:null,showPassword:!1,username:"",committedUsername:"",usernameReadOnly:!1,password:"",federated:!0,submitting:!1,wrongPasswordSubmitted:!1,loginErrorMessage:"",accountVerified:!1,forgotPasswordLink:"",isStepUp:!1}},$_veeValidate:{validator:"new"},watch:{wrongPasswordSubmitted:function(e){e&&this.resetPassword()},password:function(){""!==this.password&&this.wrongPasswordSubmitted&&(this.wrongPasswordSubmitted=!1)}},computed:{purpose:function(){return Ma.a.extractParamFromGoto("purpose",this.$route)}},methods:{userChanged:function(){!0===this.expand&&this.committedUsername!==this.username&&(this.expand=!1,this.resetPassword())},checkFederation:function(){var e=this;return o()(l.a.mark((function t(){var a,s,n,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""===e.username||!1!==e.expand){t.next=9;break}return a=Ma.a.getGotoUrl(e.$route),s=j.a.getFacadeConfig("production"),n=e.getRequestService({baseURL:s}),e.committedUsername=e.username,t.next=7,Ma.a.checkFederation({facadeInstance:n,gotoUrl:a,currentUsername:e.username,done:function(t){e.federated=!1,e.expand=!0,e.forgotPasswordLink=t.forgotPasswordLink}});case 7:r=t.sent,e.authId=r.authId;case 9:case"end":return t.stop()}}),t)})))()},getError:function(e){return this.getValue(["response","data","errors",0,"detail"],e)||"Something went wrong"},getValue:function(e,t){return e.reduce((function(e,t){return e&&e[t]?e[t]:null}),t)},resetPassword:function(){this.password="",this.showPassword=!1},submit:function(){var e=this;return o()(l.a.mark((function t(){var a,s,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.showPassword=!1,t.next=3,e.$validator.validateAll();case 3:if(t.sent){t.next=6;break}return t.abrupt("return");case 6:return a=j.a.getFacadeConfig("production"),s=e.getRequestService({baseURL:a}),e.submitting=!0,e.wrongPasswordSubmitted=!1,n=Ma.a.getGotoUrl(e.$route),t.next=13,Ma.a.login({facadeInstance:s,username:e.username,password:e.password,appName:e.extractParamFromGoto("appName"),authId:e.authId,gotoUrl:n,routeToDashboard:e.routeToDashboard.bind(e),storeUserAccessPrivileges:e.storeUserAccessPrivileges.bind(e),store:e.$store,router:e.$router,root:e.$root,onError:function(t){e.submitting=!1,t.response&&t.response.data&&t.response.data.errors&&t.response.data.errors.length>0&&(e.loginErrorMessage=t.response.data.errors[0].detail,e.wrongPasswordSubmitted=!0,e.displayNotification("error","Login Failed"))}});case 13:case"end":return t.stop()}}),t)})))()},extractParamFromGoto:function(e){return Ma.a.extractParamFromGoto(e,this.$route)},getProductBranding:function(){var e=this;return o()(l.a.mark((function t(){var a,s,n,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.extractParamFromGoto("appName"),s=e.extractParamFromGoto("client_id"),!a){t.next=14;break}return t.prev=3,t.next=6,E.a.getBrandedLoginByProductName(a);case 6:n=t.sent,e.displayName=n.data.displayName,t.next=12;break;case 10:t.prev=10,t.t0=t.catch(3);case 12:t.next=24;break;case 14:if(!s){t.next=24;break}return t.prev=15,t.next=18,E.a.getBrandedLoginByAppId(s);case 18:r=t.sent,e.displayName=r.data.displayName,t.next=24;break;case 22:t.prev=22,t.t1=t.catch(15);case 24:case"end":return t.stop()}}),t,null,[[3,10],[15,22]])})))()},populateUsernameField:function(){var e=this.extractParamFromGoto("username"),t=this.extractParamFromGoto("acr_values");e&&(this.username=e,this.checkFederation()),e&&t&&(this.isStepUp=!0,this.usernameReadOnly=!0)}},created:function(){this.$route.query.accountVerified&&(this.accountVerified=!0),this.getProductBranding(),this.populateUsernameField()},mounted:function(){Ma.a.postMessageToParent("iam-login-start")}};var Ba=function(e){a("mlRp")},Va=Object(lt.a)(qa,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("authentication-card",{attrs:{"has-branding":""!==this.displayName},scopedSlots:e._u([{key:"card-title-footer",fn:function(){return[e.accountVerified?a("evergreen-span",{attrs:{label:e.$t("pages.accountVerification.congratulations"),type:"h4",align:"center","data-test":"account-verification-successful-message"}}):e._e(),e._v(" "),e.accountVerified?a("evergreen-span",{attrs:{label:e.$t("pages.accountVerification.accountVerifiedInformation"),type:"body-1",align:"center","data-test":"account-verification-successful-message-secondary"}}):e._e()]},proxy:!0},{key:"footer",fn:function(){return[a("privacy-link")]},proxy:!0}])},[e._v(" "),this.displayName?a("v-card-title",{staticClass:"justify-center"},[a("evergreen-span",{staticClass:"branding-text",attrs:{label:this.displayName,type:"h3","data-test":"product-display-name-branded-login"}})],1):e._e(),e._v(" "),a("v-card-text",{staticClass:"pb-0"},[a("transition",{attrs:{name:"fade"}},[e.wrongPasswordSubmitted?a("v-alert",{attrs:{type:"error",icon:"mdi-alert-circle-outline",color:"error",text:"","data-test":"loginError"}},[e._v("\n        "+e._s(e.loginErrorMessage)+"\n      ")]):e._e()],1),e._v(" "),e.isStepUp?a("v-row",{staticClass:"pt-0 mt-0"},[a("v-col",{staticClass:"pt-0 mt-0"},[a("evergreen-span",{attrs:{label:e.$t("pages.login.stepUpAuthorization.purpose."+e.purpose+".description"),type:"body-1","data-test":"product-display-name-branded-login"}})],1)],1):e._e(),e._v(" "),a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"username-textfield",attrs:{disabled:e.submitting||e.usernameReadOnly,label:e.$t("pages.login.username"),autofocus:"","data-test":"login-username-input","hide-details":"","max-width":"31.25rem",id:"un",name:"username",outlined:"",autocomplete:"username"},on:{input:e.userChanged,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.checkFederation.apply(null,arguments)}},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),e._v(" "),a("v-expand-transition",[a("v-text-field",{directives:[{name:"show",rawName:"v-show",value:e.expand,expression:"expand"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"append-icon":e.showPassword?"mdi-eye":"mdi-eye-off",disabled:e.submitting,label:e.$t("pages.login.password"),type:e.showPassword?"text":"password",autofocus:"",id:"password","data-test":"login-password-input","hide-details":"",name:"password",outlined:"",autocomplete:"password"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submit.apply(null,arguments)},"click:append":function(t){e.showPassword=!e.showPassword}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)],1),e._v(" "),e.expand&&e.forgotPasswordLink?a("v-card-text",{staticClass:"justify-left"},[a("a",{staticClass:"password-reset-link",attrs:{"data-test":"forgot-password-anchor","data-dd-action-name":"password-reset",href:e.forgotPasswordLink,rel:"external",target:"_SELF"}},[a("evergreen-span",{attrs:{label:e.$t("pages.login.forgotPassword"),type:"subtitle-2"}})],1)]):e._e(),e._v(" "),a("v-card-actions",{staticClass:"pr-0"},[a("v-row",{staticClass:"button-row"},[a("v-spacer"),e._v(" "),a("v-col",{staticClass:"button-col",attrs:{cols:"4"}},[0==e.expand?a("evergreen-contained-button",{attrs:{label:e.$t("pages.login.nextStep"),block:"",id:"id-next","data-test":"login-next-button","data-dd-action-name":"Login-Next"},nativeOn:{click:function(t){return e.checkFederation.apply(null,arguments)}}}):a("evergreen-contained-button",{attrs:{block:!0,disabled:e.submitting,label:e.$t("pages.login.signIn"),loading:e.submitting,id:"id-submit","data-test":"login-signIn-button","data-dd-action-name":"Login-Submit"},nativeOn:{click:function(t){return e.submit.apply(null,arguments)}}})],1)],1)],1)],1)}),[],!1,Ba,"data-v-41abfb22",null),Ga=Va.exports,Ha={name:"RegisterAuthenticatorApp",components:{EvergreenOutlinedButton:vt.a,"evergreen-span":ot.a},props:["pageName"]},Ya=Object(lt.a)(Ha,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-row",[a("v-col",[a("evergreen-span",{attrs:{type:"body-1",label:e.$t("pages."+e.pageName+".register_authenticator")}})],1)],1),e._v(" "),a("v-row",[a("v-col",[a("evergreen-outlined-button",{attrs:{label:e.$t("pages."+e.pageName+".register_authenticator_btnLabel"),block:"",href:"/#/register-authenticator",target:"_BLANK"}})],1)],1)],1)}),[],!1,null,null,null).exports,Qa={name:"StepUpAuthorizeFaceId",mixins:[at.a,$a,st.a],components:{"evergreen-outlined-button":vt.a,"evergreen-contained-button":ft.a,"evergreen-span":ot.a,RegisterAuthenticatorApp:Ya},props:{isInIframe:Boolean},data:function(){return{authId:null,username:"",password:"",federated:!0,redirect:!1,submitting:!1,wrongPasswordSubmitted:!1,loginErrorMessage:"",checkingMfaStatus:!0,debugMessages:[],failure:!1,showQr:!1,sessionStartTime:null,redirectUrl:"",showRedirectButton:!1}},$_veeValidate:{validator:"new"},computed:{forgotPasswordHidingEnabled:function(){return this.isFeatureOn("iam_new_forgot_password_implementation")},purpose:function(){return this.extractParamFromGoto("purpose")},acrValues:function(){return this.extractParamFromGoto("acr_values")}},watch:{password:function(){this.wrongPasswordSubmitted=!1},failure:function(){!0===this.failure&&Ma.a.postMessageToParent("iam-face-id-failed")},redirectUrl:function(){this.gotoRedirectUrl()}},methods:{gotoRedirectUrl:function(){Ma.a.shouldRedirectImmedicately(this.redirectUrl)?window.location.href=this.redirectUrl:this.showRedirectButton=!0},checkFederation:function(){var e=this;return o()(l.a.mark((function t(){var a,s,n,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=j.a.getFacadeConfig("production"),s=e.getRequestService({baseURL:a}),n=Ma.a.getGotoUrl(e.$route),t.next=5,Ma.a.checkFederation({facadeInstance:s,gotoUrl:n,currentUsername:e.username,done:function(){e.federated=!1}});case 5:r=t.sent,e.authId=r.authId;case 7:case"end":return t.stop()}}),t)})))()},getError:function(e){return this.getValue(["response","data","errors",0,"detail"],e)||"Something went wrong"},getValue:function(e,t){return e.reduce((function(e,t){return e&&e[t]?e[t]:null}),t)},cancel:function(){window.opener&&window.opener!==window?window.close():this.isInIframe?(Ma.a.postMessageToParent("step-up-cancel"),Ma.a.postMessageToParent("iam-step-up-cancel")):window.history.back()},extractParamFromGoto:function(e){return Ma.a.extractParamFromGoto(e,this.$route)},populateUsernameField:function(){var e=this.extractParamFromGoto("username");e&&(this.username=encodeURIComponent(e),this.checkFederation())},startSession:function(){var e=this;return o()(l.a.mark((function t(){var a,s,n,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Ma.a.postMessageToParent("iam-face-id-start"),e.failure=!1,a=Ma.a.extractParamFromGoto("client_id",e.$route),s=Ma.a.extractParamFromGoto("subject",e.$route),n=Ma.a.extractParamFromGoto("title",e.$route),t.prev=5,t.next=8,E.a.startFaceIdSession({clientId:a,subject:s,title:n});case 8:200===(r=t.sent).status&&(e.sessionStartTime=(new Date).getTime(),e.pollSession(r.data.sessionId,r.data.pushNotificationSessionId)),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(5),e.failure=!0;case 15:case"end":return t.stop()}}),t,null,[[5,12]])})))()},pollSession:function(e,t){var a=this;return o()(l.a.mark((function s(){var n,r;return l.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,E.a.pollFaceIdSession({sessionId:e,pushNotificationSessionId:t});case 3:"PENDING"===(n=s.sent).data.status?setTimeout((function(){a.pollSession(e,t)}),5e3):"SUCCESS"===n.data.status?!n.data.authMethodsRemaining||n.data.authMethodsRemaining.includes("urn:pcc:amr:face:active")||n.data.authMethodsRemaining.includes("urn:pcc:amr:face:passive")||(r=Ma.a.getDecodedGotoUrl(a.$route),a.$root.uiUtils.checkRedirectDomain(r)&&(a.redirectUrl=r)):a.failure=!0,s.next=10;break;case 7:s.prev=7,s.t0=s.catch(0),a.failure=!0;case 10:case"end":return s.stop()}}),s,null,[[0,7]])})))()},visibilitychange:function(){document.hidden||""!==this.redirectUrl&&this.gotoRedirectUrl()}},created:function(){var e=this;return o()(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.populateUsernameField(),t.prev=1,t.next=4,e.startSession();case 4:t.next=8;break;case 6:t.prev=6,t.t0=t.catch(1);case 8:e.checkingMfaStatus=!1,e.visibilitychange=e.visibilitychange.bind(e),document.addEventListener("visibilitychange",e.visibilitychange);case 11:case"end":return t.stop()}}),t,null,[[1,6]])})))()},destroyed:function(){document.removeEventListener("visibilitychange",this.visibilitychange)}};var Wa=function(e){a("hzwk")},Za=Object(lt.a)(Qa,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.showRedirectButton?a("div",{staticClass:"pa-2-rem"},[a("v-row",[a("v-col",[a("evergreen-span",{attrs:{type:"body-1",label:e.$t(["pages.faceIdAuthorization.purpose."+e.purpose+".redirect_text","pages.faceIdAuthorization.redirect_text"])}})],1)],1),e._v(" "),a("v-row",[a("v-col",[a("evergreen-contained-button",{attrs:{label:e.$t(["pages.faceIdAuthorization.purpose."+e.purpose+".redirect_btn_text","pages.faceIdAuthorization.redirect_btn_text"]),block:"","data-test":"redirectBtn",href:this.redirectUrl}})],1)],1)],1):a("div",{staticClass:"pa-2-rem"},[a("v-row",[a("v-col",{attrs:{align:"center"}},[a("evergreen-span",{attrs:{type:"h5-medium",label:e.$t(["pages.faceIdAuthorization.purpose."+e.purpose+".title","pages.faceIdAuthorization.title"])}})],1)],1),e._v(" "),a("v-row",[a("v-col",[a("evergreen-span",{attrs:{type:"body-1",label:e.$t(["pages.faceIdAuthorization.purpose."+e.purpose+".description","pages.faceIdAuthorization.description"])}})],1)],1),e._v(" "),e.failure?[a("v-row",[a("v-col",[a("evergreen-span",{attrs:{type:"body-1",label:e.$t("pages.faceIdAuthorization.sendAnother")}})],1)],1),e._v(" "),a("v-row",[a("v-col",[a("evergreen-outlined-button",{attrs:{label:e.$t(["pages.faceIdAuthorization.purpose."+e.purpose+".resend_notification","pages.faceIdAuthorization.resend_notification"]),block:"","data-test":"sendAnotherBtn"},nativeOn:{click:function(t){return e.startSession()}}})],1)],1)]:e._e(),e._v(" "),a("v-row",[a("v-col",[a("register-authenticator-app",{attrs:{"page-name":"faceIdAuthorization"}})],1)],1)],2)}),[],!1,Wa,"data-v-172061b9",null).exports,Xa={name:"StepUpAuthorize",mixins:[at.a,$a,st.a],components:{"evergreen-contained-button":ft.a,"evergreen-outlined-button":vt.a,"evergreen-span":ot.a},props:{isInIframe:Boolean,remainingFactors:Array},data:function(){return{authId:null,username:"",password:"",federated:!0,submitting:!1,wrongPasswordSubmitted:!1,loginErrorMessage:"",components:[]}},$_veeValidate:{validator:"new"},computed:{purpose:function(){return this.extractParamFromGoto("purpose")},isOtpFactor:function(){var e=this.acrValues;return Ma.a.isOtpFactor(e)},isFaceIdFactor:function(){return Ma.a.isFaceIdFactor(this.acrValues)},isPushFactor:function(){return Ma.a.isPushFactor(this.acrValues)},acrValues:function(){return this.extractParamFromGoto("acr_values")},description:function(){return this.primaryAuth?"":this.$t(["pages.stepUpAuthorization.purpose.".concat(this.purpose,".description"),"pages.stepUpAuthorization.description"])}},watch:{password:function(){this.wrongPasswordSubmitted=!1}},methods:{checkFederation:function(){var e=this;return o()(l.a.mark((function t(){var a,s,n,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=j.a.getFacadeConfig("production"),s=e.getRequestService({baseURL:a}),n=Ma.a.getGotoUrl(e.$route),t.next=5,Ma.a.checkFederation({facadeInstance:s,gotoUrl:n,currentUsername:e.username,done:function(t){e.federated=t.federated,e.$emit("federated",e.federated)}});case 5:r=t.sent,e.authId=r.authId;case 7:case"end":return t.stop()}}),t)})))()},getError:function(e){return this.getValue(["response","data","errors",0,"detail"],e)||"Something went wrong"},getValue:function(e,t){return e.reduce((function(e,t){return e&&e[t]?e[t]:null}),t)},cancel:function(){window.opener&&window.opener!==window?window.close():this.isInIframe?(Ma.a.postMessageToParent("step-up-cancel"),Ma.a.postMessageToParent("iam-step-up-cancel")):window.history.back()},submit:function(){var e=this;return o()(l.a.mark((function t(){var a,s,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$validator.validateAll();case 2:if(t.sent){t.next=5;break}return t.abrupt("return");case 5:return e.submitting=!0,e.wrongPasswordSubmitted=!1,a=Ma.a.getGotoUrl(e.$route),s=j.a.getFacadeConfig("production"),n=e.getRequestService({baseURL:s}),t.next=12,Ma.a.login({facadeInstance:n,username:e.username,password:e.password,appName:e.extractParamFromGoto("appName"),authId:e.authId,acrValues:e.acrValues,gotoUrl:a,routeToDashboard:e.routeToDashboard.bind(e),storeUserAccessPrivileges:e.storeUserAccessPrivileges.bind(e),store:e.$store,router:e.$router,root:e.$root,onError:function(t){e.submitting=!1,t.response&&t.response.data&&t.response.data.errors&&t.response.data.errors.length>0&&(e.loginErrorMessage=e.$t(["pages.stepUpAuthorization.purpose.".concat(e.purpose,".loginErrorMessage"),"pages.stepUpAuthorization.loginErrorMessage"]),e.wrongPasswordSubmitted=!0,e.displayNotification("error",e.$t(["pages.stepUpAuthorization.purpose.".concat(e.purpose,".notificationErrorMessage"),"pages.stepUpAuthorization.notificationErrorMessage"])))}});case 12:case"end":return t.stop()}}),t)})))()},extractParamFromGoto:function(e){return Ma.a.extractParamFromGoto(e,this.$route)},populateUsernameField:function(){var e=this.extractParamFromGoto("username");e&&(this.username=e,this.checkFederation())}},created:function(){var e=this;return o()(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.populateUsernameField();case 1:case"end":return t.stop()}}),t)})))()}};var Ja=function(e){a("SrrV")},Ka=Object(lt.a)(Xa,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"show",rawName:"v-show",value:!e.federated,expression:"!federated"}]},[a("v-card-title",{class:"justify-center"},[a("evergreen-span",{attrs:{label:e.$t(["pages.stepUpAuthorization.purpose."+e.purpose+".title","pages.stepUpAuthorization.title"]),type:"h3","data-test":"step-up-title"}})],1),e._v(" "),a("div",{class:{"dialog-body":e.isInIframe}},[a("v-card-text",{staticClass:"pb-0 px-0",class:{"pt-0":e.isInIframe}},[a("transition",{attrs:{name:"fade"}},[e.wrongPasswordSubmitted?a("v-alert",{attrs:{type:"error",icon:"mdi-alert-circle-outline",color:"error",text:"","data-test":"loginError"}},[e._v("\n          "+e._s(e.loginErrorMessage)+"\n        ")]):e._e()],1),e._v(" "),e.description?a("div",{class:{"description-error":e.wrongPasswordSubmitted,description:!e.wrongPasswordSubmitted},attrs:{"data-test":"step-up-description"}},[e._v(e._s(e.description))]):e._e(),e._v(" "),a("div",{staticClass:"pt-4-rem px-6-rem"},[a("input",{staticStyle:{display:"none"},attrs:{type:"text","data-test":"step-up-username-input",autocomplete:"username"},domProps:{value:e.username}}),e._v(" "),a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{disabled:e.submitting,label:e.$t("pages.login.password"),type:"password",autofocus:"",id:"password","data-test":"step-up-password-input","hide-details":"",name:"password",outlined:"",autocomplete:"off"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submit.apply(null,arguments)}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)],1)],1),e._v(" "),a("v-card-actions",{staticClass:"px-6-rem"},[a("v-row",[a("v-col",{staticClass:"text-right"},[a("evergreen-contained-button",{attrs:{disabled:e.submitting,label:e.isOtpFactor?e.$t("common.form.next"):e.$t(["pages.stepUpAuthorization.purpose."+e.purpose+".btnLabel","pages.stepUpAuthorization.btnLabel"]),loading:e.submitting,id:"id-submit","data-test":"step-up-submit-button"},nativeOn:{click:function(t){return e.submit.apply(null,arguments)}}}),e._v(" "),e.isInIframe?a("evergreen-outlined-button",{staticClass:"ml-3-rem",attrs:{disabled:e.submitting,label:e.$t(["pages.stepUpAuthorization.purpose."+e.purpose+".cancel","common.form.cancel"]),id:"cancel-submit","data-test":"step-up-cancel-button"},nativeOn:{click:function(t){return e.cancel.apply(null,arguments)}}}):e._e()],1)],1)],1)],1)}),[],!1,Ja,"data-v-ab650fa6",null),es=Ka.exports,ts={name:"StepUpAuthorizePush",mixins:[at.a,$a,st.a],components:{"evergreen-outlined-button":vt.a,"evergreen-contained-button":ft.a,"evergreen-span":ot.a,RegisterAuthenticatorApp:Ya},props:{isInIframe:Boolean},data:function(){return{authId:null,federated:!0,loginErrorMessage:"",checkingMfaStatus:!0,debugMessages:[],failure:!1,challengeNumber:"",sessionStartTime:null,redirectUrl:"",showRedirectButton:!1}},$_veeValidate:{validator:"new"},computed:{purpose:function(){return this.extractParamFromGoto("purpose")},acrValues:function(){return this.extractParamFromGoto("acr_values")}},watch:{failure:function(){!0===this.failure&&Ma.a.postMessageToParent("iam-push-notification-failed")},redirectUrl:function(){this.gotoRedirectUrl()}},methods:{gotoRedirectUrl:function(){Ma.a.shouldRedirectImmedicately(this.redirectUrl)?window.location.href=this.redirectUrl:this.showRedirectButton=!0},getError:function(e){return this.getValue(["response","data","errors",0,"detail"],e)||"Something went wrong"},getValue:function(e,t){return e.reduce((function(e,t){return e&&e[t]?e[t]:null}),t)},cancel:function(){window.opener&&window.opener!==window?window.close():this.isInIframe?(Ma.a.postMessageToParent("step-up-cancel"),Ma.a.postMessageToParent("iam-step-up-cancel")):window.history.back()},extractParamFromGoto:function(e){return Ma.a.extractParamFromGoto(e,this.$route)},startSession:function(){var e=this;return o()(l.a.mark((function t(){var a,s,n,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.challengeNumber="",Ma.a.postMessageToParent("iam-push-notification-start"),e.failure=!1,a=Ma.a.extractParamFromGoto("client_id",e.$route),s=Ma.a.extractParamFromGoto("subject",e.$route),n=Ma.a.extractParamFromGoto("title",e.$route),t.next=9,E.a.startPushNotificationSession({clientId:a,subject:s,title:n});case 9:r=t.sent,e.challengeNumber="".concat(r.data.challengeNumber),e.sessionStartTime=(new Date).getTime(),e.handleReponse(r,r.data.sessionId),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),e.failure=!0;case 18:case"end":return t.stop()}}),t,null,[[0,15]])})))()},pollSession:function(e){var t=this;return o()(l.a.mark((function a(){var s;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,E.a.pollPushNotificationSession({sessionId:e});case 3:s=a.sent,t.handleReponse(s,e),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),t.failure=!0;case 10:case"end":return a.stop()}}),a,null,[[0,7]])})))()},handleReponse:function(e,t){var a=this;if("PENDING"===e.data.status)setTimeout((function(){a.pollSession(t)}),5e3);else if("SUCCESS"===e.data.status){if(Ma.a.postMessageToParent("iam-push-notification-success"),e.data.authMethodsRemaining&&!e.data.authMethodsRemaining.includes(Ma.a.amr.PUSH)){var s=Ma.a.getDecodedGotoUrl(this.$route);this.$root.uiUtils.checkRedirectDomain(s)&&(this.redirectUrl=s)}}else this.failure=!0},visibilitychange:function(){document.hidden||""!==this.redirectUrl&&this.gotoRedirectUrl()}},created:function(){var e=this;return o()(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.startSession();case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),e.failure=!0;case 8:e.checkingMfaStatus=!1,e.visibilitychange=e.visibilitychange.bind(e),document.addEventListener("visibilitychange",e.visibilitychange);case 11:case"end":return t.stop()}}),t,null,[[0,5]])})))()},destroyed:function(){document.removeEventListener("visibilitychange",this.visibilitychange)}};var as=function(e){a("0Cga")},ss=Object(lt.a)(ts,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.showRedirectButton?a("div",{staticClass:"pa-2-rem"},[a("v-row",[a("v-col",[a("evergreen-span",{attrs:{type:"body-1",label:e.$t(["pages.pushAuthorization.purpose."+e.purpose+".redirect_text","pages.pushAuthorization.redirect_text"])}})],1)],1),e._v(" "),a("v-row",[a("v-col",[a("evergreen-contained-button",{attrs:{label:e.$t(["pages.pushAuthorization.purpose."+e.purpose+".redirect_btn_text","pages.pushAuthorization.redirect_btn_text"]),block:"","data-test":"redirectBtn",href:this.redirectUrl}})],1)],1)],1):a("div",{staticClass:"pa-2-rem"},[a("div",[a("v-row",[a("v-col",{attrs:{align:"center"}},[a("evergreen-span",{attrs:{type:"h5-medium",label:e.$t(["pages.pushAuthorization.purpose."+e.purpose+".title","pages.pushAuthorization.title"])}})],1)],1),e._v(" "),a("v-row",[a("v-col",[a("evergreen-span",{attrs:{type:"body-1",label:e.$t(["pages.pushAuthorization.purpose."+e.purpose+".description","pages.pushAuthorization.description"])}})],1)],1),e._v(" "),e.failure?[a("v-row",[a("v-col",[a("evergreen-span",{attrs:{type:"body-1",label:e.$t("pages.pushAuthorization.sendAnother")}})],1)],1),e._v(" "),a("v-row",[a("v-col",[a("evergreen-outlined-button",{attrs:{label:e.$t(["pages.pushAuthorization.purpose."+e.purpose+".resend_notification","pages.pushAuthorization.resend_notification"]),block:"","data-test":"sendAnotherBtn"},nativeOn:{click:function(t){return e.startSession()}}})],1)],1)]:a("v-row",[a("v-col",{attrs:{align:"center"}},[a("span",{staticStyle:{border:"1px solid gray","border-radius":"3px",padding:"1rem"}},[e.challengeNumber?a("evergreen-span",{attrs:{type:"h5-medium","data-test":"challengeNumber",label:e.challengeNumber}}):a("v-progress-circular",{staticClass:"evergreen-spinner",attrs:{indeterminate:""}})],1)])],1),e._v(" "),a("v-row",[a("v-col",[a("register-authenticator-app",{attrs:{"page-name":"pushAuthorization"}})],1)],1)],2)])}),[],!1,as,"data-v-3fa27a88",null).exports,ns={name:"StepUpAuthorize",mixins:[at.a,$a,st.a],components:{Password:es,FaceId:Za,Push:ss,AuthenticationCard:Fa},props:{isInIframe:Boolean},data:function(){return{authId:null,federated:!0,redirect:!1,submitting:!1,loginErrorMessage:"",checkingMfaStatus:!0,authMethodsRemaining:[],components:[],flattenCard:!1}},computed:{isOtpFactor:function(){var e=this.acrValues;return Ma.a.isOtpFactor(e)},isFaceIdFactor:function(){return Ma.a.isFaceIdFactor(this.acrValues)},isPushFactor:function(){return Ma.a.isPushFactor(this.acrValues)},acrValues:function(){return this.extractParamFromGoto("acr_values")}},watch:{password:function(){this.wrongPasswordSubmitted=!1}},methods:{getError:function(e){return this.getValue(["response","data","errors",0,"detail"],e)||"Something went wrong"},getValue:function(e,t){return e.reduce((function(e,t){return e&&e[t]?e[t]:null}),t)},extractParamFromGoto:function(e){return Ma.a.extractParamFromGoto(e,this.$route)},flattenCardOnFederated:function(e){this.flattenCard=e}},created:function(){var e=this;return o()(l.a.mark((function t(){var a,s,n,r,o,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=Ma.a.extractParamFromGoto("authId",e.$route),s=Ma.a.extractParamFromGoto("acr_values",e.$route),n=null,t.prev=3,t.next=6,E.a.getMfaStatus(a,s);case 6:r=t.sent,e.authMethodsRemaining=r.data.authMethodsRemaining,n=r.data,t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),e.authMethodsRemaining=[Ma.a.amr.PWD];case 14:0===e.authMethodsRemaining.length&&(e.authMethodsRemaining=[Ma.a.amr.PWD]),e.authMethodsRemaining.sort((function(e,t){return Ma.a.amrSortOrder.indexOf(e)-Ma.a.amrSortOrder.indexOf(t)})),o=0;case 17:if(!(o<e.authMethodsRemaining.length)){t.next=38;break}if((i=e.authMethodsRemaining[o])!==Ma.a.amr.PWD){t.next=23;break}return e.flattenCard=!0,e.components.push(es),t.abrupt("break",38);case 23:if(i!==Ma.a.amr.FACE_ACTIVE){t.next=26;break}return e.components.push(Za),t.abrupt("break",38);case 26:if(i!==Ma.a.amr.FACE_PASSIVE){t.next=29;break}return e.components.push(Za),t.abrupt("break",38);case 29:if(i!==Ma.a.amr.PUSH){t.next=32;break}return e.components.push(ss),t.abrupt("break",38);case 32:if(i!==Ma.a.amr.OTP){t.next=35;break}return Ma.a.handleMFAResponse({mfa:n,gotoUrl:Ma.a.getGotoUrl(e.$route),store:e.$store,router:e.$router}),t.abrupt("break",38);case 35:o+=1,t.next=17;break;case 38:e.checkingMfaStatus=!1;case 39:case"end":return t.stop()}}),t,null,[[3,11]])})))()}};var rs=function(e){a("b9E0")},os={name:"StepUpAuthorizePage",components:{"step-up-authorize":Object(lt.a)(ns,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.checkingMfaStatus?a("div",{staticClass:"spinner-container"},[a("v-progress-circular",{staticClass:"evergreen-spinner",attrs:{indeterminate:""}})],1):a("div",[a("AuthenticationCard",{attrs:{showLogo:!1,isFlat:e.isInIframe||e.flattenCard}},e._l(e.components,(function(t){return a(t,{key:t.name,tag:"component",attrs:{isInIframe:e.isInIframe,remainingFactors:e.authMethodsRemaining},on:{federated:e.flattenCardOnFederated}})})),1)],1)])}),[],!1,rs,"data-v-673750b1",null).exports},computed:{isInIframe:function(){return Ma.a.isInIFrame()}},mounted:function(){Ma.a.postMessageToParent("iam-step-up-start")}},is=Object(lt.a)(os,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("step-up-authorize",{attrs:{"is-in-iframe":e.isInIframe}})}),[],!1,null,null,null).exports,ls=Object(lt.a)({name:"Apple-AppStore-Badge"},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("svg",{staticStyle:{width:"200px",height:"80px"},attrs:{width:"200",height:"200",viewBox:"0 0 540 160",xmlns:"http://www.w3.org/2000/svg"}},[a("g",{attrs:{transform:"scale(4.00216 4.0011)"}},[a("path",{attrs:{fill:"#FFF",d:"M134.032 35.268a3.83 3.83 0 0 1-3.834 3.83H4.729a3.835 3.835 0 0 1-3.839-3.83V4.725A3.84 3.84 0 0 1 4.729.89h125.468a3.834 3.834 0 0 1 3.834 3.835l.001 30.543z"}}),e._v(" "),a("path",{attrs:{fill:"#A6A6A6",d:"M130.198 39.989H4.729A4.73 4.73 0 0 1 0 35.268V4.726A4.733 4.733 0 0 1 4.729 0h125.468a4.735 4.735 0 0 1 4.729 4.726v30.542c.002 2.604-2.123 4.721-4.728 4.721z"}}),e._v(" "),a("path",{attrs:{d:"M134.032 35.268a3.83 3.83 0 0 1-3.834 3.83H4.729a3.835 3.835 0 0 1-3.839-3.83V4.725A3.84 3.84 0 0 1 4.729.89h125.468a3.834 3.834 0 0 1 3.834 3.835l.001 30.543z"}}),e._v(" "),a("path",{attrs:{fill:"#FFF",d:"M30.128 19.784c-.029-3.223 2.639-4.791 2.761-4.864-1.511-2.203-3.853-2.504-4.676-2.528-1.967-.207-3.875 1.177-4.877 1.177-1.022 0-2.565-1.157-4.228-1.123-2.14.033-4.142 1.272-5.24 3.196-2.266 3.923-.576 9.688 1.595 12.859 1.086 1.554 2.355 3.287 4.016 3.226 1.625-.066 2.232-1.035 4.193-1.035 1.943 0 2.513 1.035 4.207.996 1.744-.027 2.842-1.56 3.89-3.127 1.255-1.779 1.759-3.533 1.779-3.623-.04-.014-3.386-1.292-3.42-5.154zM26.928 10.306c.874-1.093 1.472-2.58 1.306-4.089-1.265.056-2.847.875-3.758 1.944-.806.942-1.526 2.486-1.34 3.938 1.421.106 2.88-.717 3.792-1.793z"}}),e._v(" "),a("linearGradient",{attrs:{id:"a",gradientUnits:"userSpaceOnUse",x1:"-23.235",y1:"97.431",x2:"-23.235",y2:"61.386",gradientTransform:"matrix(4.0022 0 0 4.0011 191.95 -349.736)"}},[a("stop",{attrs:{offset:"0","stop-color":"#1a1a1a","stop-opacity":".1"}}),e._v(" "),a("stop",{attrs:{offset:".123","stop-color":"#212121","stop-opacity":".151"}}),e._v(" "),a("stop",{attrs:{offset:".308","stop-color":"#353535","stop-opacity":".227"}}),e._v(" "),a("stop",{attrs:{offset:".532","stop-color":"#575757","stop-opacity":".318"}}),e._v(" "),a("stop",{attrs:{offset:".783","stop-color":"#858585","stop-opacity":".421"}}),e._v(" "),a("stop",{attrs:{offset:"1","stop-color":"#b3b3b3","stop-opacity":".51"}})],1),e._v(" "),a("path",{attrs:{fill:"url(#a)",d:"M130.198 0H62.993l26.323 39.989h40.882a4.733 4.733 0 0 0 4.729-4.724V4.726A4.734 4.734 0 0 0 130.198 0z"}}),e._v(" "),a("g",{attrs:{fill:"#FFF"}},[a("path",{attrs:{d:"M53.665 31.504h-2.271l-1.244-3.909h-4.324l-1.185 3.909H42.43l4.285-13.308h2.646l4.304 13.308zm-3.89-5.549L48.65 22.48c-.119-.355-.343-1.191-.671-2.507h-.04c-.132.566-.343 1.402-.632 2.507l-1.106 3.475h3.574zM64.663 26.588c0 1.632-.443 2.922-1.33 3.869-.794.843-1.781 1.264-2.958 1.264-1.271 0-2.185-.453-2.74-1.361v5.035h-2.132V25.062c0-1.025-.027-2.076-.079-3.154h1.875l.119 1.521h.04c.711-1.146 1.79-1.719 3.238-1.719 1.132 0 2.077.447 2.833 1.342.755.897 1.134 2.075 1.134 3.536zm-2.172.078c0-.934-.21-1.704-.632-2.311-.461-.631-1.08-.947-1.856-.947-.526 0-1.004.176-1.431.523-.428.35-.708.807-.839 1.373a2.784 2.784 0 0 0-.099.649v1.601c0 .697.214 1.286.642 1.768.428.48.984.721 1.668.721.803 0 1.428-.311 1.875-.928.448-.619.672-1.435.672-2.449zM75.7 26.588c0 1.632-.443 2.922-1.33 3.869-.795.843-1.781 1.264-2.959 1.264-1.271 0-2.185-.453-2.74-1.361v5.035h-2.132V25.062c0-1.025-.027-2.076-.079-3.154h1.875l.119 1.521h.04c.71-1.146 1.789-1.719 3.238-1.719 1.131 0 2.076.447 2.834 1.342.754.897 1.134 2.075 1.134 3.536zm-2.173.078c0-.934-.211-1.704-.633-2.311-.461-.631-1.078-.947-1.854-.947-.526 0-1.004.176-1.433.523-.428.35-.707.807-.838 1.373-.065.264-.1.479-.1.649v1.601c0 .697.215 1.286.641 1.768.428.479.984.721 1.67.721.804 0 1.429-.311 1.875-.928.448-.619.672-1.435.672-2.449zM88.04 27.771c0 1.133-.396 2.054-1.183 2.765-.866.776-2.075 1.165-3.625 1.165-1.432 0-2.58-.276-3.446-.829l.493-1.777c.935.554 1.962.83 3.08.83.804 0 1.429-.182 1.875-.543.447-.362.673-.846.673-1.45 0-.541-.187-.994-.554-1.363-.369-.368-.979-.711-1.836-1.026-2.33-.869-3.496-2.14-3.496-3.812 0-1.092.412-1.986 1.234-2.685.822-.698 1.912-1.047 3.268-1.047 1.211 0 2.22.211 3.021.632l-.535 1.738c-.754-.408-1.605-.612-2.557-.612-.752 0-1.342.185-1.764.553-.355.329-.535.73-.535 1.206 0 .525.205.961.613 1.303.354.315 1 .658 1.934 1.026 1.146.462 1.988 1 2.527 1.618.543.618.813 1.389.813 2.308zM95.107 23.508h-2.35v4.659c0 1.185.414 1.776 1.244 1.776.381 0 .697-.032.947-.099l.059 1.619c-.42.157-.973.236-1.658.236-.842 0-1.5-.257-1.975-.771-.473-.514-.711-1.375-.711-2.587v-4.837h-1.4v-1.6h1.4v-1.757l2.094-.632v2.389h2.35v1.604zM105.689 26.627c0 1.475-.422 2.686-1.264 3.633-.881.975-2.053 1.461-3.514 1.461-1.41 0-2.531-.467-3.367-1.4-.836-.935-1.254-2.113-1.254-3.534 0-1.487.432-2.705 1.293-3.652.863-.948 2.025-1.422 3.486-1.422 1.408 0 2.539.468 3.395 1.402.818.906 1.225 2.076 1.225 3.512zm-2.21.049c0-.879-.19-1.633-.571-2.264-.447-.762-1.087-1.143-1.916-1.143-.854 0-1.509.381-1.955 1.143-.382.631-.572 1.398-.572 2.304 0 .88.19 1.636.572 2.265.461.762 1.104 1.143 1.937 1.143.815 0 1.454-.389 1.916-1.162.392-.646.589-1.405.589-2.286zM112.622 23.783a3.71 3.71 0 0 0-.672-.059c-.75 0-1.33.282-1.738.85-.354.5-.532 1.132-.532 1.895v5.035h-2.132V24.93a67.43 67.43 0 0 0-.062-3.021h1.857l.078 1.836h.059c.226-.631.58-1.14 1.066-1.521a2.578 2.578 0 0 1 1.541-.514c.197 0 .375.014.533.039l.002 2.034zM122.157 26.252a5 5 0 0 1-.078.967h-6.396c.024.948.334 1.674.928 2.174.539.446 1.236.67 2.092.67.947 0 1.811-.15 2.588-.453l.334 1.479c-.908.396-1.98.593-3.217.593-1.488 0-2.656-.438-3.506-1.312-.848-.875-1.273-2.051-1.273-3.524 0-1.446.395-2.651 1.186-3.612.828-1.026 1.947-1.539 3.355-1.539 1.383 0 2.43.513 3.141 1.539.563.813.846 1.821.846 3.018zm-2.033-.553c.015-.633-.125-1.178-.414-1.639-.369-.594-.937-.89-1.698-.89-.697 0-1.265.289-1.697.869-.355.461-.566 1.015-.631 1.658l4.44.002z"}})]),e._v(" "),a("g",{attrs:{fill:"#FFF"}},[a("path",{attrs:{d:"M45.211 13.491c-.593 0-1.106-.029-1.533-.078V6.979a11.606 11.606 0 0 1 1.805-.136c2.445 0 3.571 1.203 3.571 3.164 0 2.262-1.33 3.484-3.843 3.484zm.358-5.823c-.33 0-.611.02-.844.068v4.891c.126.02.368.029.708.029 1.602 0 2.514-.912 2.514-2.62 0-1.523-.825-2.368-2.378-2.368zM52.563 13.54c-1.378 0-2.271-1.029-2.271-2.426 0-1.456.912-2.494 2.349-2.494 1.358 0 2.271.98 2.271 2.417 0 1.474-.941 2.503-2.349 2.503zm.04-4.154c-.757 0-1.242.708-1.242 1.698 0 .971.495 1.679 1.232 1.679s1.232-.757 1.232-1.699c0-.96-.485-1.678-1.222-1.678zM62.77 8.717l-1.475 4.716h-.961l-.611-2.048a15.53 15.53 0 0 1-.379-1.523h-.02c-.077.514-.223 1.029-.378 1.523l-.65 2.048h-.971l-1.388-4.716h1.077l.534 2.242c.126.534.232 1.038.32 1.514h.02c.077-.397.203-.893.388-1.504l.67-2.251h.854l.641 2.203c.155.534.281 1.058.379 1.553h.028c.068-.485.175-1 .32-1.553l.573-2.203 1.029-.001zM68.2 13.433h-1.048v-2.708c0-.834-.32-1.252-.951-1.252-.621 0-1.048.534-1.048 1.155v2.805h-1.048v-3.368c0-.417-.01-.864-.039-1.349h.922l.049.728h.029c.282-.504.854-.824 1.495-.824.99 0 1.64.757 1.64 1.989l-.001 2.824zM71.09 13.433h-1.049v-6.88h1.049v6.88zM74.911 13.54c-1.377 0-2.271-1.029-2.271-2.426 0-1.456.912-2.494 2.348-2.494 1.359 0 2.271.98 2.271 2.417.001 1.474-.941 2.503-2.348 2.503zm.039-4.154c-.757 0-1.242.708-1.242 1.698 0 .971.496 1.679 1.231 1.679.738 0 1.232-.757 1.232-1.699.001-.96-.483-1.678-1.221-1.678zM81.391 13.433l-.076-.543h-.028c-.32.437-.787.65-1.379.65-.845 0-1.445-.592-1.445-1.388 0-1.164 1.009-1.766 2.756-1.766v-.087c0-.621-.329-.932-.979-.932-.465 0-.873.117-1.232.35l-.213-.689c.436-.272.98-.408 1.619-.408 1.232 0 1.854.65 1.854 1.951v1.737c0 .476.021.845.068 1.126l-.945-.001zm-.144-2.349c-1.164 0-1.748.282-1.748.951 0 .495.301.737.719.737.533 0 1.029-.407 1.029-.96v-.728zM87.357 13.433l-.049-.757h-.029c-.301.572-.807.864-1.514.864-1.137 0-1.979-1-1.979-2.407 0-1.475.873-2.514 2.065-2.514.631 0 1.078.213 1.33.641h.021V6.553h1.049v5.609c0 .456.011.883.039 1.271h-.933zm-.155-2.775c0-.66-.437-1.223-1.104-1.223-.777 0-1.252.689-1.252 1.659 0 .951.493 1.602 1.231 1.602.659 0 1.125-.573 1.125-1.252v-.786zM94.902 13.54c-1.377 0-2.27-1.029-2.27-2.426 0-1.456.912-2.494 2.348-2.494 1.359 0 2.271.98 2.271 2.417.001 1.474-.94 2.503-2.349 2.503zm.039-4.154c-.756 0-1.241.708-1.241 1.698 0 .971.495 1.679 1.231 1.679.738 0 1.232-.757 1.232-1.699.002-.96-.483-1.678-1.222-1.678zM102.887 13.433h-1.049v-2.708c0-.834-.32-1.252-.951-1.252-.621 0-1.047.534-1.047 1.155v2.805h-1.049v-3.368c0-.417-.01-.864-.039-1.349h.922l.049.728h.029c.281-.504.854-.825 1.494-.825.99 0 1.641.757 1.641 1.989v2.825zM109.938 9.503h-1.153v2.29c0 .583.202.874.61.874.185 0 .34-.02.465-.049l.029.796c-.203.078-.475.117-.813.117-.826 0-1.32-.456-1.32-1.65V9.503h-.688v-.786h.688v-.864l1.029-.311v1.174h1.153v.787zM115.486 13.433h-1.047v-2.688c0-.844-.319-1.271-.951-1.271-.543 0-1.049.369-1.049 1.116v2.843h-1.047v-6.88h1.047v2.833h.021c.33-.514.808-.767 1.418-.767.998 0 1.608.776 1.608 2.009v2.805zM121.17 11.327h-3.145c.02.893.611 1.397 1.486 1.397.465 0 .893-.078 1.271-.223l.163.728c-.446.194-.971.291-1.582.291-1.475 0-2.348-.932-2.348-2.377 0-1.446.894-2.533 2.23-2.533 1.205 0 1.961.893 1.961 2.242a2.02 2.02 0 0 1-.036.475zm-.961-.747c0-.728-.367-1.242-1.037-1.242-.602 0-1.078.524-1.146 1.242h2.183z"}})])],1)])}),[],!1,null,null,null).exports,cs=Object(lt.a)({name:"Google-PlayStore-Badge"},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("svg",{staticStyle:{width:"200px",height:"80px"},attrs:{width:"200",height:"350",viewBox:"0 60 3000 800",xmlns:"http://www.w3.org/2000/svg"}},[a("defs",[a("linearGradient",{attrs:{id:"a",y2:".278",x2:".26",y1:".956",x1:".613"}},[a("stop",{attrs:{offset:"0%","stop-color":"#00A0FF"}}),e._v(" "),a("stop",{attrs:{offset:".657%","stop-color":"#00A1FF"}}),e._v(" "),a("stop",{attrs:{offset:"26.01%","stop-color":"#00BEFF"}}),e._v(" "),a("stop",{attrs:{offset:"51.22%","stop-color":"#00D2FF"}}),e._v(" "),a("stop",{attrs:{offset:"76.04%","stop-color":"#00DFFF"}}),e._v(" "),a("stop",{attrs:{offset:"100%","stop-color":"#00E3FF"}})],1),e._v(" "),a("linearGradient",{attrs:{id:"b",y2:".509",x2:"-1.305",y1:".509",x1:"1.076"}},[a("stop",{attrs:{offset:"0%","stop-color":"#FFE000"}}),e._v(" "),a("stop",{attrs:{offset:"40.87%","stop-color":"#FFBD00"}}),e._v(" "),a("stop",{attrs:{offset:"77.54%","stop-color":"orange"}}),e._v(" "),a("stop",{attrs:{offset:"100%","stop-color":"#FF9C00"}})],1),e._v(" "),a("linearGradient",{attrs:{id:"c",y2:"-.361",x2:"-.505",y1:".691",x1:".867"}},[a("stop",{attrs:{offset:"0%","stop-color":"#FF3A44"}}),e._v(" "),a("stop",{attrs:{offset:"100%","stop-color":"#C31162"}})],1),e._v(" "),a("linearGradient",{attrs:{id:"d",y2:".649",x2:".418",y1:"1.119",x1:"-.193"}},[a("stop",{attrs:{offset:"0%","stop-color":"#32A071"}}),e._v(" "),a("stop",{attrs:{offset:"6.85%","stop-color":"#2DA771"}}),e._v(" "),a("stop",{attrs:{offset:"47.62%","stop-color":"#15CF74"}}),e._v(" "),a("stop",{attrs:{offset:"80.09%","stop-color":"#06E775"}}),e._v(" "),a("stop",{attrs:{offset:"100%","stop-color":"#00F076"}})],1),e._v(" "),a("linearGradient",{attrs:{id:"e",y2:"-.021",x2:"-.501",y1:".695",x1:".862"}},[a("stop",{attrs:{offset:"0%","stop-color":"#CC2E36"}}),e._v(" "),a("stop",{attrs:{offset:"100%","stop-color":"#9C0E4E"}})],1),e._v(" "),a("linearGradient",{attrs:{id:"f",y2:"4.496",x2:"-.663",y1:"15.318",x1:"3.073"}},[a("stop",{attrs:{offset:"0%","stop-color":"#008DE0"}}),e._v(" "),a("stop",{attrs:{offset:".657%","stop-color":"#008DE0"}}),e._v(" "),a("stop",{attrs:{offset:"26.01%","stop-color":"#00A7E0"}}),e._v(" "),a("stop",{attrs:{offset:"51.22%","stop-color":"#00B8E0"}}),e._v(" "),a("stop",{attrs:{offset:"76.04%","stop-color":"#00C4E0"}}),e._v(" "),a("stop",{attrs:{offset:"100%","stop-color":"#00C7E0"}})],1),e._v(" "),a("linearGradient",{attrs:{id:"g",y2:"1",x2:"-2.882",y1:"1",x1:"1.128"}},[a("stop",{attrs:{offset:"0%","stop-color":"#E0C500"}}),e._v(" "),a("stop",{attrs:{offset:"40.87%","stop-color":"#E0A600"}}),e._v(" "),a("stop",{attrs:{offset:"77.54%","stop-color":"#E09100"}}),e._v(" "),a("stop",{attrs:{offset:"100%","stop-color":"#E08900"}})],1),e._v(" "),a("linearGradient",{attrs:{id:"h",y2:"0",x2:"-2.882",y1:"0",x1:"1.128"}},[a("stop",{attrs:{offset:"0%","stop-color":"#FFE840"}}),e._v(" "),a("stop",{attrs:{offset:"40.87%","stop-color":"#FFCE40"}}),e._v(" "),a("stop",{attrs:{offset:"77.54%","stop-color":"#FFBC40"}}),e._v(" "),a("stop",{attrs:{offset:"100%","stop-color":"#FFB540"}})],1),e._v(" "),a("linearGradient",{attrs:{id:"i",y2:"-10.098",x2:"-.657",y1:".234",x1:"3.061"}},[a("stop",{attrs:{offset:"0%","stop-color":"#40B8FF"}}),e._v(" "),a("stop",{attrs:{offset:".657%","stop-color":"#40B9FF"}}),e._v(" "),a("stop",{attrs:{offset:"26.01%","stop-color":"#40CEFF"}}),e._v(" "),a("stop",{attrs:{offset:"51.22%","stop-color":"#40DDFF"}}),e._v(" "),a("stop",{attrs:{offset:"76.04%","stop-color":"#40E7FF"}}),e._v(" "),a("stop",{attrs:{offset:"100%","stop-color":"#40EAFF"}})],1),e._v(" "),a("linearGradient",{attrs:{id:"j",y2:".537",x2:".421",y1:".856",x1:"-.188"}},[a("stop",{attrs:{offset:"0%","stop-color":"#65B895"}}),e._v(" "),a("stop",{attrs:{offset:"6.85%","stop-color":"#62BD95"}}),e._v(" "),a("stop",{attrs:{offset:"47.62%","stop-color":"#50DB97"}}),e._v(" "),a("stop",{attrs:{offset:"80.09%","stop-color":"#44ED98"}}),e._v(" "),a("stop",{attrs:{offset:"100%","stop-color":"#40F498"}})],1),e._v(" "),a("linearGradient",{attrs:{gradientUnits:"userSpaceOnUse",gradientTransform:"scale(.72167 1.38567)",y2:"110.924",x2:"103.763",y1:"380.413",x1:"243.89",id:"k","xlink:href":"#a"}}),e._v(" "),a("linearGradient",{attrs:{gradientUnits:"userSpaceOnUse",gradientTransform:"scale(1.1083 .90228)",y2:"104.456",x2:"-265.185",y1:"104.456",x1:"219.82",id:"l","xlink:href":"#b"}}),e._v(" "),a("linearGradient",{attrs:{gradientUnits:"userSpaceOnUse",gradientTransform:"scale(1.13894 .878)",y2:"-116.045",x2:"-162.26",y1:"222.803",x1:"279.815",id:"m","xlink:href":"#c"}}),e._v(" "),a("linearGradient",{attrs:{gradientUnits:"userSpaceOnUse",gradientTransform:"scale(1.13896 .878)",y2:"210.03",x2:"134.984",y1:"361.335",x1:"-62.115",id:"n","xlink:href":"#d"}}),e._v(" "),a("linearGradient",{attrs:{gradientUnits:"userSpaceOnUse",gradientTransform:"scale(1.38147 .72387)",y2:"-4.388",x2:"-133.972",y1:"187.683",x1:"231.994",id:"o","xlink:href":"#e"}}),e._v(" "),a("linearGradient",{attrs:{gradientUnits:"userSpaceOnUse",gradientTransform:"scale(.58803 1.7006)",y2:"91.69",x2:"-13.255",y1:"311.274",x1:"62.549",id:"p","xlink:href":"#f"}}),e._v(" "),a("linearGradient",{attrs:{gradientUnits:"userSpaceOnUse",gradientTransform:"scale(1.19442 .83723)",y2:"112.451",x2:"-322.924",y1:"112.451",x1:"127.112",id:"q","xlink:href":"#g"}}),e._v(" "),a("linearGradient",{attrs:{gradientUnits:"userSpaceOnUse",gradientTransform:"scale(1.1944 .83724)",y2:".829",x2:"-322.928",y1:".829",x1:"127.114",id:"r","xlink:href":"#h"}}),e._v(" "),a("linearGradient",{attrs:{gradientUnits:"userSpaceOnUse",gradientTransform:"scale(.58722 1.70294)",y2:"-204.589",x2:"-13.13",y1:"4.878",x1:"62.249",id:"s","xlink:href":"#i"}}),e._v(" "),a("linearGradient",{attrs:{gradientUnits:"userSpaceOnUse",gradientTransform:"scale(1.38144 .72388)",y2:"144.927",x2:"113.528",y1:"230.7",x1:"-49.894",id:"t","xlink:href":"#j"}})],1),e._v(" "),a("g",[a("path",{attrs:{fill:"#000",d:"M2887.921 890.028H111.074C49.984 890.028 0 839.964 0 778.775V111.254C0 50.064 49.983 0 111.074 0H2887.92c61.09 0 111.074 50.064 111.074 111.254v667.52c0 61.19-49.983 111.254-111.074 111.254"}}),e._v(" "),a("path",{attrs:{fill:"#A6A6A6",d:"M2887.921 0H111.074C49.984 0 0 50.064 0 111.254v667.52c0 61.19 49.983 111.254 111.074 111.254H2887.92c61.09 0 111.074-50.064 111.074-111.253V111.254C2998.995 50.064 2949.012 0 2887.92 0m0 17.8c51.45 0 93.302 41.93 93.302 93.454v667.52c0 51.534-41.853 93.463-93.302 93.463H111.074c-51.44 0-93.302-41.93-93.302-93.462V111.254c0-51.524 41.861-93.453 93.302-93.453H2887.92"}}),e._v(" "),a("path",{attrs:{fill:"#FFF",d:"M1053.39 227.923c0 18.642-5.512 33.487-16.55 44.561-12.539 13.168-28.88 19.757-48.969 19.757-19.238 0-35.595-6.675-49.046-20.044-13.475-13.359-20.2-29.925-20.2-49.69 0-19.774 6.725-36.33 20.2-49.7 13.451-13.358 29.808-20.043 49.046-20.043 9.546 0 18.685 1.87 27.362 5.599 8.677 3.738 15.637 8.7 20.844 14.914l-11.716 11.742c-8.824-10.56-20.973-15.836-36.49-15.836-14.03 0-26.162 4.938-36.401 14.82-10.241 9.892-15.36 22.72-15.36 38.504 0 15.785 5.119 28.612 15.36 38.505 10.239 9.882 22.37 14.819 36.401 14.819 14.884 0 27.293-4.964 37.228-14.906 6.449-6.477 10.178-15.48 11.176-27.041H987.87v-16.036h64.59c.624 3.487.928 6.833.928 10.075"}}),e._v(" "),a("path",{attrs:{fill:"#FFF",d:"M1053.39 227.923h-2.222c-.018 18.217-5.33 32.366-15.9 42.988l-.023.018-.01.018c-12.14 12.714-27.745 19.042-47.365 19.069-18.724-.027-34.397-6.424-47.484-19.392-13.058-12.994-19.515-28.857-19.54-48.117.025-19.269 6.482-35.123 19.54-48.108 13.087-12.977 28.76-19.383 47.484-19.41 9.26 0 18.077 1.81 26.485 5.416 8.417 3.634 15.066 8.396 20.02 14.308l1.701-1.436-1.57-1.573-11.716 11.75 1.57 1.565 1.711-1.424c-9.235-11.083-22.197-16.67-38.2-16.637-14.551-.018-27.351 5.19-37.939 15.447-10.69 10.29-16.061 23.84-16.043 40.102-.018 16.263 5.353 29.812 16.043 40.103 10.588 10.257 23.388 15.464 37.938 15.446 15.377.027 28.482-5.198 38.799-15.558 6.89-6.92 10.796-16.505 11.82-28.423l.207-2.416h-48.604v-11.586h62.368v-2.225l-2.188.391c.608 3.374.895 6.58.895 9.684h4.443c0-3.382-.313-6.858-.964-10.473l-.329-1.827H985.65v20.486h50.625v-2.225l-2.212-.191c-.98 11.196-4.539 19.627-10.535 25.66-9.545 9.525-21.26 14.226-35.657 14.253-13.51-.018-24.973-4.677-34.857-14.194-9.788-9.483-14.657-21.59-14.682-36.905.025-15.315 4.894-27.422 14.682-36.905 9.884-9.517 21.346-14.176 34.857-14.194 15.022.036 26.365 5.007 34.791 15.046l1.562 1.86 13.424-13.463 1.44-1.442-1.311-1.558c-5.458-6.517-12.73-11.69-21.668-15.53-8.955-3.852-18.405-5.782-28.238-5.782-19.749-.017-36.792 6.936-50.616 20.696-13.875 13.733-20.869 30.995-20.85 51.272-.019 20.268 6.975 37.54 20.859 51.281 13.815 13.751 30.858 20.696 50.607 20.678 20.567.018 37.628-6.824 50.575-20.444l-1.607-1.538 1.571 1.574c11.507-11.517 17.216-27.075 17.201-46.135h-2.222m102.395-55.767h-60.7v42.33h54.74v16.042h-54.74v42.33h60.7v16.401h-77.812V155.755h77.812v16.401"}}),e._v(" "),a("path",{attrs:{fill:"#FFF",d:"M1155.784 172.156v-2.225h-62.921v46.78h54.739v11.586l-54.74.006v46.78h60.7v11.951h-73.368V157.98h73.368v14.176h2.222v-2.225 2.225h2.221V153.53h-82.254v137.954h82.254v-20.851h-60.7v-37.88h54.74v-20.492h-54.74v-37.88h60.7v-2.225h-2.221m72.224 117.104h-17.138V172.155h-37.228v-16.401h91.594v16.401h-37.228v117.103"}}),e._v(" "),a("path",{attrs:{fill:"#FFF",d:"M1228.008 289.26v-2.226h-14.917V169.931h-37.227v-11.95h87.15v11.95h-37.227v119.328h2.221v-2.225 2.225h2.222V174.381h37.227V153.53h-96.036v20.85h37.227v117.103h21.582v-2.225h-2.222m103.499.002V155.754h17.121v133.504h-17.121"}}),e._v(" "),a("path",{attrs:{fill:"#FFF",d:"M1331.507 289.26h2.222V157.98h12.677v129.054h-14.899v2.225h2.222-2.222v2.225h19.342V153.53h-21.563v137.954h2.221v-2.225m93.093.001h-17.138V172.155h-37.226v-16.401h91.592v16.401H1424.6v117.103"}}),e._v(" "),a("path",{attrs:{fill:"#FFF",d:"M1424.6 289.26v-2.226h-14.917V169.931h-37.225v-11.95h87.148v11.95h-37.227v119.328h2.221v-2.225 2.225h2.222V174.381h37.227V153.53h-96.034v20.85h37.225v117.103h21.582v-2.225h-2.222m125.532-28.428c9.865 10.003 21.937 15 36.212 15 14.275 0 26.353-4.997 36.203-15 9.875-10.004 14.822-22.792 14.822-38.323 0-15.53-4.947-28.318-14.822-38.322-9.85-10.004-21.928-15.002-36.203-15.002-14.275 0-26.347 4.998-36.212 15.002-9.85 10.004-14.795 22.791-14.795 38.322 0 15.531 4.945 28.319 14.795 38.323zm85.084 11.176c-13.104 13.497-29.4 20.235-48.872 20.235-19.491 0-35.78-6.738-48.855-20.235-13.113-13.482-19.638-29.985-19.638-49.499 0-19.514 6.525-36.02 19.638-49.499 13.076-13.5 29.364-20.244 48.855-20.244 19.369 0 35.621 6.78 48.786 20.331 13.146 13.55 19.724 30.02 19.724 49.412 0 19.514-6.562 36.017-19.638 49.499z"}}),e._v(" "),a("path",{attrs:{fill:"#FFF",d:"M1550.132 260.83l-1.58 1.564c10.232 10.404 22.997 15.689 37.792 15.662 14.786.027 27.568-5.258 37.783-15.662 10.299-10.414 15.479-23.886 15.463-39.887.015-16-5.164-29.473-15.463-39.887-10.215-10.404-22.997-15.688-37.783-15.662-14.795-.026-27.56 5.258-37.792 15.662-10.274 10.414-15.464 23.887-15.437 39.887-.027 16 5.163 29.473 15.437 39.887l1.58-1.564 1.58-1.565c-9.424-9.605-14.136-21.687-14.154-36.758.018-15.07 4.73-27.152 14.153-36.758 9.51-9.603 20.869-14.314 34.633-14.34 13.753.026 25.138 4.737 34.624 14.34 9.441 9.606 14.153 21.688 14.17 36.758-.017 15.07-4.729 27.153-14.17 36.758-9.486 9.604-20.87 14.314-34.624 14.34-13.764-.026-25.123-4.736-34.633-14.34zm85.084 11.176l-1.588-1.546c-12.738 13.072-28.315 19.53-47.284 19.556-18.978-.027-34.555-6.484-47.269-19.556l-.06-.07.06.07c-12.711-13.117-18.984-28.935-19.002-47.953.018-19.018 6.291-34.836 19.002-47.952 12.714-13.073 28.29-19.539 47.269-19.565 18.847.026 34.388 6.519 47.197 19.66 12.756 13.177 19.065 28.97 19.092 47.857-.027 19.018-6.318 34.836-19.005 47.953l1.588 1.546 1.598 1.546c13.466-13.853 20.277-31.037 20.262-51.045.016-19.894-6.822-37.043-20.351-50.958-13.536-13.97-30.492-21.034-50.381-21.01-19.993-.024-37.001 7.007-50.452 20.923v-.01c-13.493 13.863-20.28 31.047-20.262 51.055-.018 20.008 6.769 37.192 20.262 51.054l.06.063-.06-.072c13.451 13.916 30.459 20.932 50.452 20.914 19.984.018 36.992-6.998 50.47-20.914l-1.598-1.546zm43.674 17.254V155.754h20.845l64.778 103.857h.738l-.738-25.728v-78.129h17.139v133.504h-17.877l-67.772-108.89h-.738l.738 25.737v83.153h-17.112"}}),e._v(" "),a("path",{attrs:{fill:"#FFF",d:"M1678.89 289.26h2.222V157.98h17.39l64.778 103.857h4.252l-.798-27.986v-75.87h12.696v129.053h-14.422l-67.772-108.89h-4.252l.797 27.998v80.892h-14.89v2.225h2.221-2.221v2.225h19.333v-85.413l-.737-25.762-2.222.06v2.225h.738v-2.225l-1.884 1.183 68.424 109.932h21.33V153.53h-21.581v80.38l.737 25.762 2.222-.06v-2.225h-.738v2.225l1.884-1.181-65.432-104.901h-24.295v137.954h2.222v-2.225m696.668 378.262h41.452v-278.16h-41.453zm373.363-177.96l-47.517 120.596h-1.422l-49.317-120.597h-44.652l73.953 168.556-42.163 93.758h43.252l113.962-262.314zm-235.077 146.367c-13.595 0-32.522-6.798-32.522-23.624 0-21.47 23.592-29.7 43.94-29.7 18.24 0 26.792 3.936 37.877 9.31-3.221 25.761-25.37 44.014-49.295 44.014zm4.999-152.453c-30.013 0-61.091 13.245-73.953 42.59l36.787 15.384c7.864-15.384 22.504-20.4 37.877-20.4 21.437 0 43.23 12.89 43.585 35.793v2.86c-7.509-4.295-23.57-10.735-43.23-10.735-39.653 0-80.04 21.824-80.04 62.623 0 37.219 32.523 61.198 68.955 61.198 27.88 0 43.23-12.525 52.893-27.195h1.422v21.468h40.009V560.413c0-49.376-36.788-76.938-84.305-76.938zm-256.181 39.946h-58.958v-95.346h58.958c30.99 0 48.584 25.7 48.584 47.672 0 21.556-17.595 47.674-48.584 47.674zm-1.066-134.06h-99.323v278.16h41.43V562.135h57.893c45.94 0 91.102-33.316 91.102-86.388 0-53.07-45.162-86.386-91.102-86.386zm-541.619 246.618c-28.637 0-52.613-24.015-52.613-57 0-33.331 23.976-57.712 52.613-57.712 28.273 0 50.461 24.38 50.461 57.712 0 32.985-22.188 57-50.46 57zm47.597-130.843h-1.432c-9.302-11.11-27.205-21.147-49.748-21.147-47.242 0-90.543 41.58-90.543 94.99 0 53.055 43.3 94.279 90.543 94.279 22.543 0 40.446-10.04 49.748-21.504h1.432v13.62c0 36.211-19.324 55.567-50.46 55.567-25.41 0-41.158-18.288-47.607-33.699l-36.14 15.055c10.378 25.092 37.937 55.923 83.747 55.923 48.672 0 89.83-28.684 89.83-98.582V489.725h-39.37zm67.998 162.385h41.515v-278.17h-41.515zm102.716-91.766c-1.075-36.567 28.273-55.202 49.386-55.202 16.474 0 30.425 8.24 35.068 20.08zm128.84-31.543c-7.865-21.156-31.857-60.223-80.887-60.223-48.672 0-89.11 38.355-89.11 94.634 0 53.055 40.082 94.635 93.762 94.635 43.312 0 68.37-26.528 78.745-41.939l-32.212-21.512c-10.73 15.776-25.413 26.172-46.533 26.172-21.113 0-36.141-9.682-45.81-28.675l126.332-52.34zm-1006.512-31.186v40.147h95.912c-2.863 22.582-10.379 39.07-21.833 50.542-13.953 13.985-35.785 29.396-74.08 29.396-59.053 0-105.217-47.675-105.217-106.822 0-59.146 46.164-106.827 105.218-106.827 31.854 0 55.11 12.549 72.291 28.68l28.273-28.316c-23.976-22.947-55.832-40.511-100.564-40.511-80.886 0-148.884 65.96-148.884 146.974 0 81.015 67.998 146.969 148.884 146.969 43.665 0 76.588-14.332 102.352-41.224 26.485-26.528 34.72-63.806 34.72-93.914 0-9.327-.713-17.923-2.153-25.094zm246.115 122.953c-28.637 0-53.333-23.66-53.333-57.356 0-34.055 24.696-57.356 53.333-57.356 28.626 0 53.322 23.301 53.322 57.356 0 33.697-24.696 57.356-53.322 57.356zm0-151.99c-52.258 0-94.848 39.788-94.848 94.634 0 54.488 42.59 94.635 94.848 94.635 52.247 0 94.837-40.147 94.837-94.635 0-54.846-42.59-94.634-94.837-94.634zm206.89 151.99c-28.625 0-53.324-23.66-53.324-57.356 0-34.055 24.699-57.356 53.325-57.356 28.628 0 53.324 23.301 53.324 57.356 0 33.697-24.696 57.356-53.324 57.356zm0-151.99c-52.255 0-94.836 39.788-94.836 94.634 0 54.488 42.581 94.635 94.837 94.635 52.249 0 94.84-40.147 94.84-94.635 0-54.846-42.591-94.634-94.84-94.634z"}}),e._v(" "),a("path",{attrs:{fill:"#00C1FF",d:"M233.446 169.357c-7.455 6.737-11.905 17.974-11.905 32.89v-3.372 492.21-3.242c0 13.775 3.817 24.413 10.281 31.264l1.65 1.582v.007c5.232 4.729 11.941 7.24 19.63 7.232 7.513 0 15.966-2.399 24.887-7.465l322.452-183.508 110.76-63.041c14.067-8.004 21.964-18.33 23.284-28.848v-.043c-1.32-10.542-9.217-20.86-23.283-28.865l-110.77-63.033L277.99 169.617c-8.94-5.075-17.399-7.483-24.932-7.483-7.68 0-14.38 2.503-19.61 7.223z"}}),e._v(" "),a("path",{attrs:{d:"M12.047.234l-1.651 1.582C3.932 8.666.115 19.305.115 33.08v-3.242 492.088-3.25c0 14.916 4.45 26.153 11.905 32.89l275.237-275.675L12.047.234",fill:"url(#k)",transform:"matrix(1 0 0 -1 221.426 720.923)"}}),e._v(" "),a("path",{attrs:{d:"M92.444.738L.686 92.66l91.75 91.907 110.769-63.032c14.066-8.006 21.963-18.323 23.283-28.866v-.042c-1.32-10.518-9.217-20.845-23.283-28.848L92.445.739",fill:"url(#l)",transform:"matrix(1 0 0 -1 507.997 537.692)"}}),e._v(" "),a("path",{attrs:{d:"M20.068.12C12.38.113 5.671 2.625.44 7.353v.007l275.21 275.657 91.758-91.922L44.955 7.586C36.034 2.519 27.581.12 20.068.12",fill:"url(#m)",transform:"matrix(1 0 0 -1 233.034 728.048)"}}),e._v(" "),a("path",{attrs:{d:"M275.428.707L.19 276.382c5.232 4.72 11.932 7.223 19.611 7.223 7.533 0 15.993-2.407 24.932-7.483L367.177 92.614 275.427.707",fill:"url(#n)",transform:"matrix(1 0 0 -1 233.255 445.74)"}}),e._v(" "),a("path",{attrs:{d:"M22.077.861c-7.688 0-14.406 2.512-19.638 7.24l-.009-.008a.635.635 0 01-.069.06L.93 9.553c-.045.044-.087.095-.14.146l1.65 1.653c5.232-4.728 11.94-7.24 19.63-7.231 7.512 0 15.965 2.398 24.886 7.465l322.452 183.508 2.066-2.07-2.092-1.19L46.955 8.336C38.825 3.72 31.092 1.313 24.107.912a41.848 41.848 0 00-2.03-.05",fill:"url(#o)",transform:"matrix(1 0 0 -1 231.034 732.048)"}}),e._v(" "),a("path",{attrs:{d:"M10.396.799C3.932 7.649.115 18.279.115 32.063v3.242c0-13.775 3.817-24.413 10.281-31.264l1.65-1.582-1.65-1.66",fill:"url(#p)",transform:"matrix(1 0 0 -1 221.426 723.148)"}}),e._v(" "),a("path",{attrs:{d:"M2.708.169L.642 2.239l110.76 63.04c14.067 8.003 21.964 18.33 23.284 28.848 0-3.86-.86-7.719-2.568-11.475-3.446-7.57-10.352-14.723-20.715-20.624L2.708.168",fill:"url(#q)",transform:"matrix(1 0 0 -1 599.799 539.192)"}}),e._v(" "),a("path",{attrs:{d:"M134.686.716c-1.32 10.543-9.217 20.86-23.283 28.866L.633 92.614l2.066 2.07h.009l108.695-61.86c15.508-8.831 23.274-20.468 23.283-32.108",fill:"url(#r)",transform:"matrix(1 0 0 -1 599.799 445.74)"}}),e._v(" "),a("path",{attrs:{d:"M.115.234v3.4c0 1.226.033 2.425.096 3.589v.053c0 .016 0 .033.006.051v.131c.669 11.865 4.348 21.12 10.179 27.3l1.624-1.633C4.565 26.387.115 15.15.115.234",fill:"url(#s)",transform:"matrix(1 0 0 -1 221.426 202.481)"}}),e._v(" "),a("path",{attrs:{d:"M369.398.66L46.955 184.17c-8.939 5.075-17.398 7.482-24.931 7.482-7.68 0-14.38-2.503-19.611-7.223l-1.624 1.634a29.747 29.747 0 001.58 1.555c.017.018.044.036.061.053 5.19 4.684 11.819 7.187 19.43 7.232h.164c7.533 0 15.992-2.408 24.931-7.485L371.473 2.737l-.009-.007-2.066-2.07",fill:"url(#t)",transform:"matrix(1 0 0 -1 231.034 353.786)"}})])])}),[],!1,null,null,null).exports,ds={components:{EvergreenSpan:ot.a,GooglePlaystoreBadge:cs,AppleAppstoreBadge:ls},data:function(){return{readOnly:!1,progress:!1,hasActiveDevice:!1,redirectingToApp:!1,dialog:!1}},computed:{showAppStoreBadge:function(){return!this.isSupportedMobileOs||this.isIos},showPlayStoreBadge:function(){return!this.isSupportedMobileOs||this.isAndroid},isIos:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)},isAndroid:function(){return/(android)/i.test(navigator.userAgent)},isSupportedMobileOs:function(){return this.isIos||this.isAndroid}}};var us=function(e){a("mTsO")},ps={components:{AuthenticationCard:Fa,RegisterAuthenticatorComponent:Object(lt.a)(ds,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pl-2-rem pb-3-rem"},[a("v-row",[a("v-col",{attrs:{align:"center"}},[a("evergreen-span",{attrs:{label:"Install PointClickCare Authenticator app.",type:"h4"}})],1)],1),e._v(" "),a("v-row",[a("v-col",[a("evergreen-span",{attrs:{type:"body-1"}},[e._v("\n        Download the PointClickCare Authenticator app from your favorite app store.\n      ")])],1)],1),e._v(" "),a("v-row",[e.showAppStoreBadge?a("v-col",{attrs:{align:"center"}},[a("apple-appstore-badge")],1):e._e(),e._v(" "),e.showPlayStoreBadge?a("v-col",{attrs:{align:"center"}},[a("google-playstore-badge")],1):e._e()],1),e._v(" "),a("v-row",[a("v-col",[a("evergreen-span",{attrs:{type:"body-1"}},[e._v("\n        Have installed the PointClickCare authenticator app?\n      ")])],1)],1),e._v(" "),a("v-row",[a("v-col",[a("evergreen-span",{attrs:{type:"body-1"}},[e._v("\n        Go to the PointClickCare Authenticator app, and start registering yourself.\n      ")])],1)],1)],1)}),[],!1,us,"data-v-77d9ae13",null).exports},data:function(){return{}}},ms=Object(lt.a)(ps,(function(){var e=this.$createElement,t=this._self._c||e;return t("authentication-card",[t("register-authenticator-component")],1)}),[],!1,null,null,null).exports,gs={name:"Logout",data:function(){return{matchGoTo:RegExp("[?&]goto=([^&]*)").exec(window.location.href),matchClientId:RegExp("[?&]clientId=([^&]*)").exec(window.location.href)}},methods:{handleLogout:function(){var e=this.matchGoTo&&decodeURIComponent(this.matchGoTo[1]),t=this.matchClientId&&decodeURIComponent(this.matchClientId[1]);this.logoutUser(e,t)}},mounted:function(){this.handleLogout()}};var fs=function(e){a("8Kf6")},vs=Object(lt.a)(gs,(function(){var e=this.$createElement;return(this._self._c||e)("div")}),[],!1,fs,"data-v-1815a206",null).exports,hs={components:{"evergreen-contained-button":ft.a}};var bs=function(e){a("IcUa")},ys=Object(lt.a)(hs,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{staticClass:"h-100 d-flex",attrs:{id:"notFoundContainer",fluid:"","data-test":"NotFound"}},[a("div",{staticClass:"m-auto align-self-center text-center",staticStyle:{width:"21.875rem"}},[a("p",{staticClass:"text-centered",staticStyle:{"font-size":"2rem"}},[e._v("404")]),e._v(" "),a("p",{staticClass:"text-centered"},[e._v(e._s(e.$t("pages.notFound.couldNotFind")))]),e._v(" "),a("v-card-actions",{staticClass:"pr-0"},[a("v-row",{staticClass:"button-row",attrs:{justify:"center"}},[a("v-col",{staticClass:"button-col",attrs:{cols:"9"}},[a("evergreen-contained-button",{attrs:{label:e.$t("pages.notFound.returnToDashboard"),block:""},nativeOn:{click:function(t){return e.$router.push("/")}}})],1)],1)],1)],1)])}),[],!1,bs,"data-v-fccf61a8",null).exports,ws={data:function(){var e=this.$route.query.errors,t=this.isBase64(e)?this.getErrorObj(e):null;return{statusMsg:this.escapeHtml(this.getStatus(t)),detailMsg:"<ul>".concat(this.getErrorsDetailMessages(t),"</ul>")}},methods:{getErrorObj:function(e){try{return JSON.parse(atob(e))}catch(e){return null}},getErrorsDetailMessages:function(e){var t=this;return e&&e.errors&&Array.isArray(e.errors)?e.errors.map((function(e){return"<li>".concat(t.escapeHtml(e.detail),"</li>")})).join(""):"Something went wrong"},isBase64:function(e){return/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/.test(e)},getStatus:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.getValue(["errors",t,"status"],e)||"500"},getValue:function(e,t){return e.reduce((function(e,t){return e&&e[t]?e[t]:null}),t)},escapeHtml:function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/\//g,"&#x2F;")}}};var xs=function(e){a("P35j")},Cs=Object(lt.a)(ws,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{staticClass:"h-100 d-flex",attrs:{id:"genericErrorContainer",fluid:""}},[a("div",{staticClass:"m-auto align-self-center text-center",staticStyle:{width:"350px"}},[a("div",[a("p",[a("strong",{staticClass:"text-muted"},[e._v(e._s(e.statusMsg))])])]),e._v(" "),a("p",{staticClass:"text-centered",domProps:{innerHTML:e._s(e.detailMsg)}})])])}),[],!1,xs,"data-v-4544d741",null).exports,_s=Object(lt.a)({name:"Email-Validation",props:{apiType:{required:!0}}},(function(){var e=this,t=e.$createElement;return(e._self._c||t)("v-alert",{attrs:{"colored-border":"",border:"left",type:"success",elevation:"2",show:""}},[e._v("\n    "+e._s(e.$t("pages.selfservice.headers."+e.apiType+".emailSent"))+"\n")])}),[],!1,null,null,null).exports,Ss={name:"Reset-Stage",components:{"policy-password-input":xa,"evergreen-contained-button":ft.a},props:{selfServiceDetails:{required:!0}},data:function(){return{password:"",token:void 0}},methods:{getData:function(){return{password:this.password,token:this.token}},save:function(){if(this.token=this.selfServiceDetails.token,u.a.isEmpty(this.$refs.passwordPolicyInput.policyFailures)){var e=this.getData();this.$emit("advanceStage",e)}},translate:function(e){if(void 0!==this.token){var t="common.policyValidationMessages.".concat(e);return this.$t(t,{param:this.$refs.passwordPolicyInput.policies[e]})}return e}}},ks=Object(lt.a)(Ss,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return"end"===e.selfServiceDetails.tag?a("div",[a("v-alert",{attrs:{"data-test":"reset-pasword-success",type:"success","colored-border":"",elevation:"2",border:"left",show:""}},[a("p",[e._v(e._s(e.$t("pages.selfservice.passwordReset.successMessage")))])])],1):a("div",[e.selfServiceDetails.error?a("div",[a("v-alert",{attrs:{type:"error",elevation:"2","colored-border":"",border:"left","data-test":"selfservice-pwd-reset-error",show:""}},[a("b",[e._v(e._s(e.$t("pages.selfservice.passwordReset.errorMessage")))]),e._v(" "),a("p",[e._v(e._s(e.translate(e.selfServiceDetails.error)))])]),e._v(" "),a("div",{staticClass:"mt-2"},[a("b-link",{attrs:{href:"#/passwordReset","data-test":"resetstage-tryagain-link"},on:{click:function(t){return e.$router.go(e.$router.currentRoute)}}},[e._v(e._s(e.$t("pages.selfservice.passwordReset.tryAgain")))])],1)],1):a("v-form",{on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.save.apply(null,arguments)},submit:function(e){e.preventDefault()}}},[a("policy-password-input",{ref:"passwordPolicyInput",attrs:{policyApi:"tokenPolicy",token:e.selfServiceDetails.token,name:"password",label:e.$t("pages.selfservice.passwordReset.newPassword")},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),e._v(" "),a("evergreen-contained-button",{attrs:{block:"",label:e.$t("pages.selfservice.passwordReset.changePassword"),"data-test":"resetstage-change-button"},nativeOn:{click:function(t){return e.save.apply(null,arguments)}}})],1)],1)}),[],!1,null,null,null),As=ks.exports,Os={name:"Selfservice-API",methods:{loadData:function(){var e=this,t=j.a.getFacadeConfig("production");this.getRequestService({baseURL:t}).get("/sessions").then((function(){e.$router.push("/dashboard")})).catch(console.error),this.setChildComponent("userQuery",{})},advanceStage:function(e){var t=this,a=j.a.getFacadeConfig("production"),s=this.getRequestService({baseURL:a});if(e&&e instanceof Object)if(e.email&&e.email.length>0){if(!this.emailIsValid(e.email))return void this.apiErrorCallback("Email not valid");var n=e.email;s.post("/selfservice/resetPassword",{emailAddress:n}).then((function(){t.setChildComponent("emailValidation",{})})).catch((function(e){u.a.isUndefined(t.apiErrorCallback)||t.apiErrorCallback(t.getErrorMessage(e))}))}else if(e.token&&e.token.length>0){if(!this.tokenValid(e.token))return void this.apiErrorCallback("Token not valid");e.password?e.password&&s.post("/local-users/changePassword?token=".concat(e.token),{password:e.password}).then((function(){t.setChildComponent("resetStage",{tag:"end"})})).catch((function(e){u.a.isUndefined(t.apiErrorCallback)||t.setChildComponent("resetStage",{error:t.getErrorMessage(e)})})):this.setChildComponent("resetStage",{token:e.token})}},emailIsValid:function(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)},tokenValid:function(e){return/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/.test(e)},getErrorMessage:function(e){var t="Something went wrong";if(e&&e.response&&e.response.data){var a=e.response.data;a&&a.failedPolicyRequirements&&Array.isArray(a.failedPolicyRequirements)&&(t=String(u.a.at(a.failedPolicyRequirements[0],["policyRequirement"])))}return t},parseQueryParams:function(e){return e.match("returnParams")?{returnParams:u.a.last(decodeURIComponent(e).split("returnParams="))}:JSON.parse("{\n                            ".concat("".concat(decodeURI('"'.concat(e.slice(1).replace(/&/g,'","').replace(/=/g,'":"'))),'"'),"\n                        }"))}}},Us=Object(lt.a)(Os,undefined,undefined,!1,null,null,null).exports,Ls={name:"User-Query",components:{"evergreen-contained-button":ft.a,"evergreen-span":ot.a},props:{apiType:{required:!0}},data:function(){return{mail:""}},methods:{getData:function(){return{email:this.mail}},save:function(){this.$emit("advanceStage",this.getData())}}},Ns=Object(lt.a)(Ls,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-form",{on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.save.apply(null,arguments)},submit:function(e){e.preventDefault()}}},[a("evergreen-span",{attrs:{type:"body-1",label:e.$t("pages.selfservice.passwordReset.userQuery")}}),e._v(" "),a("v-text-field",{staticClass:"mt-4",attrs:{label:e.$t("common.placeholders.emailAddress"),"max-width":"500",outlined:"",dense:"","data-test":"userquery-email-input"},model:{value:e.mail,callback:function(t){e.mail=t},expression:"mail"}}),e._v(" "),a("evergreen-contained-button",{attrs:{block:"",label:e.$t("pages.selfservice.passwordReset.advanceStageButtonText"),"data-test":"userquery-save-button"},nativeOn:{click:function(t){return e.save.apply(null,arguments)}}})],1)}),[],!1,null,null,null),Ps={name:"Password-Reset",components:{EmailValidation:_s,UserQuery:Ns.exports,ResetStage:As,"evergreen-span":ot.a},data:function(){return{selfServiceType:null,selfServiceDetails:null,apiType:"reset"}},mounted:function(){if(this.$route.params.queryParams){var e=this.parseQueryParams(this.$route.params.queryParams);this.advanceStage(e)}else this.loadData()},methods:{setChildComponent:function(e,t){this.selfServiceDetails=t,this.selfServiceType=e},apiErrorCallback:function(e){this.setChildComponent("resetStage",{error:e})}},mixins:[Us]};var Ms=function(e){a("QewJ")},Is=Object(lt.a)(Ps,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-app",[s("v-content",[null!==e.selfServiceType&&"parameters"!==e.selfServiceType?s("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[s("v-row",{attrs:{align:"center",justify:"center"}},[s("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[s("v-card",{staticClass:"elevation-12 mx-auto px-6",attrs:{"max-width":"400"}},[s("v-card-title",{staticClass:"justify-center pa-0 mt-n12 mb-6"},[s("img",{staticClass:"pa-10",attrs:{src:a("1Sg+"),width:"500"}}),e._v(" "),s("evergreen-span",{attrs:{type:"h5-medium",label:e.$t("pages.selfservice.headers.reset.title")}})],1),e._v(" "),s("v-card-text",{staticClass:"pb-0"},[s(e.selfServiceType,{ref:"selfServiceStage",tag:"component",attrs:{selfServiceDetails:e.selfServiceDetails,apiType:e.apiType},on:{advanceStage:e.advanceStage}})],1),e._v(" "),s("v-card-text",{staticClass:"text-center mt-3"},[s("router-link",{attrs:{id:"sign-in-link",to:{name:"Login"}}},[e._v(e._s(e.$t("pages.selfservice.signIn")))])],1)],1)],1)],1)],1):s("v-container",{staticClass:"h-100 px-0",attrs:{fluid:""}},[s("div",{staticClass:"h-100 d-flex"},[s("div",{staticClass:"m-auto fr-center-card"},[s("v-progress-circular",{staticClass:"evergreen-spinner",attrs:{indeterminate:""}})],1)])])],1)],1)}),[],!1,Ms,"data-v-0c87eee7",null).exports,Ts="/account-verification",$s=j.a.getFacadeConfig("production"),Es=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/,Ds={name:"AccountVerification",$_veeValidate:{validator:"new"},components:{"evergreen-span":ot.a,"policy-password-input":xa,"evergreen-contained-button":ft.a},props:{token:{required:!0}},data:function(){return{email:"",password:"",verificationScreen:!1,tokenExpiredScreen:!1,tokenSentScreen:!1,showLoading:!1,submitPasswordButtonDisabled:!1,resendTokenButtonDisabled:!1}},computed:{isTokenValid:function(){return Es.test(this.token)},isFormValid:function(){return this.errors.all().length<1},privacyLink:function(){return j.a.getPrivacyLink()}},methods:{resendToken:function(){var e=this;return o()(l.a.mark((function t(){var a,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.showLoading=!0,e.resendTokenButtonDisabled=!0,a=e.getRequestService({baseURL:$s}),t.prev=3,t.next=6,a.post(Ts+"/resend-email",{token:e.token});case 6:t.sent,e.tokenSentScreen=!0,e.tokenExpiredScreen=!1,e.verificationScreen=!1,t.next=16;break;case 12:t.prev=12,t.t0=t.catch(3),s=e.getErrorMessage(["response","data","errors",0,"detail"],t.t0)||t.t0.message,e.displayNotification("error",s);case 16:e.resendTokenButtonDisabled=!1,e.showLoading=!1;case 18:case"end":return t.stop()}}),t,null,[[3,12]])})))()},submitPassword:function(){var e=this;return o()(l.a.mark((function t(){var a,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.showLoading=!0,e.submitPasswordButtonDisabled=!0,t.next=4,e.$validator.validateAll();case 4:if(!t.sent){t.next=18;break}return a=e.getRequestService({baseURL:$s}),t.prev=7,t.next=10,a.post(Ts+"/verify",{username:e.email,email:e.email,password:e.password,token:e.token});case 10:t.sent,e.goToLoginPage({accountVerified:"true"}),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(7),s=e.getErrorMessage(["response","data","errors",0,"detail"],t.t0)||t.t0.message,e.displayNotification("error",s);case 18:e.submitPasswordButtonDisabled=!1,e.showLoading=!1;case 20:case"end":return t.stop()}}),t,null,[[7,14]])})))()},goToLoginPage:function(e){this.$router.replace({name:"Login",query:e})},isTokenExpired:function(){var e=this;return o()(l.a.mark((function t(){var a,s,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isTokenValid){t.next=15;break}return a=e.getRequestService({baseURL:$s}),t.prev=2,t.next=5,a.post(Ts+"/token-status",{token:e.token});case 5:if(!(s=t.sent).data){t.next=8;break}return t.abrupt("return",!(!0===s.data.valid));case 8:t.next=15;break;case 10:t.prev=10,t.t0=t.catch(2),n=e.getErrorMessage(["response","data","errors",0,"title"],t.t0)||t.t0.message,e.displayNotification("error",n),e.goToLoginPage();case 15:return t.abrupt("return",!0);case 16:case"end":return t.stop()}}),t,null,[[2,10]])})))()}},created:function(){var e=this;return o()(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.showLoading=!0,t.next=3,e.isTokenExpired();case 3:t.sent?e.tokenExpiredScreen=!0:e.verificationScreen=!0,e.showLoading=!1;case 6:case"end":return t.stop()}}),t)})))()}};var Fs=function(e){a("TjP2")},Rs=Object(lt.a)(Ds,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-app",[s("v-container",{staticClass:"fill-height"},[s("v-overlay",{attrs:{value:e.showLoading,opacity:"0.5",absolute:!0}},[s("v-progress-circular",{staticClass:"evergreen-spinner",attrs:{indeterminate:""}})],1),e._v(" "),s("v-row",{staticClass:"justify-center"},[s("v-spacer"),e._v(" "),s("v-col",{attrs:{cols:"8",align:"center"}},[s("v-card",{staticClass:"my-card",attrs:{"max-width":"37.5rem","min-height":"20.625rem"}},[s("v-card-title",{staticClass:"justify-center ma-0 pa-0"},[s("v-container",{attrs:{fluid:""}},[s("v-row",{staticClass:"my-logo",attrs:{align:"center",justify:"center","no-gutters":""}},[s("img",{attrs:{src:a("1Sg+"),width:"400"}})]),e._v(" "),s("v-row",{staticClass:"my-header",attrs:{align:"center",justify:"center","no-gutters":"","data-test":"account-verification-header-text"}},[this.tokenSentScreen?s("evergreen-span",{attrs:{align:"center",type:"h4",label:e.$t("pages.accountVerification.tokenSent")}}):this.verificationScreen?s("evergreen-span",{attrs:{align:"center",type:"h4",label:e.$t("pages.accountVerification.tokenVerification")}}):e._e()],1),e._v(" "),s("v-row",{staticClass:"my-header",attrs:{align:"center",justify:"center","no-gutters":"","data-test":"account-verification-sub-text"}},[this.tokenSentScreen?s("evergreen-span",{attrs:{type:"body-1",label:e.$t("pages.accountVerification.tokenSentInformation")}}):this.tokenExpiredScreen?s("evergreen-span",{attrs:{type:"body-1",label:e.$t("pages.accountVerification.tokenExpireEnterInformation")}}):e._e()],1)],1)],1),e._v(" "),s("v-card-text",{staticClass:"justify-center mt-0 pt-0"},[e.verificationScreen?s("v-form",{staticClass:"ma-0 pa-0 my-form"},[s("v-container",{staticClass:"mt-0 pt-0"},[s("v-row",{attrs:{"no-gutters":""}},[s("v-spacer"),e._v(" "),s("v-col",{attrs:{cols:"11"}},[s("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],attrs:{label:e.$t("pages.accountVerification.email"),outlined:"",name:"email","data-vv-as":"email","data-test":"account-verification-email-input","error-messages":e.errors.first("email"),success:!e.errors.has("email")&&""!==e.email},model:{value:e.email,callback:function(t){e.email="string"==typeof t?t.trim():t},expression:"email"}})],1),e._v(" "),s("v-spacer")],1),e._v(" "),s("v-row",{attrs:{"no-gutters":""}},[s("v-spacer"),e._v(" "),s("v-col",{attrs:{cols:"11"}},[s("policy-password-input",{ref:"password",attrs:{name:"password",validateImmediately:!1,policyApi:"tokenPolicy",token:e.token,label:e.$t("pages.accountVerification.password"),confirmPasswordLabel:e.$t("pages.accountVerification.confirmPassword"),showConfirmPassword:!0},on:{policyRetrievalFailure:e.goToLoginPage},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),e._v(" "),s("v-spacer")],1),e._v(" "),s("v-row",{attrs:{"no-gutters":""}},[s("v-spacer"),e._v(" "),s("v-col",{attrs:{cols:"11"}},[s("div",{attrs:{align:"right"}},[s("evergreen-contained-button",{staticClass:"my-submit",attrs:{disabled:!e.isFormValid||e.submitPasswordButtonDisabled,label:e.$t("pages.accountVerification.verifyAccount"),"data-test":"account-verification-verify-account-button"},nativeOn:{click:function(t){return e.submitPassword.apply(null,arguments)}}})],1)]),e._v(" "),s("v-spacer")],1)],1)],1):e.tokenExpiredScreen&&!e.tokenSentScreen?s("v-form",{staticClass:"ma-0 pa-0 my-form"},[s("v-container",{staticClass:"mt-0 pt-0"},[s("v-row",{attrs:{"no-gutters":""}},[s("v-spacer"),e._v(" "),s("v-col",{attrs:{cols:"10"}},[s("div",{attrs:{align:"right"}},[s("evergreen-contained-button",{staticClass:"my-email-link",attrs:{disabled:e.resendTokenButtonDisabled,label:e.$t("pages.accountVerification.sendTokenAgain"),"data-test":"account-verification-resend-link-button"},nativeOn:{click:function(t){return e.resendToken.apply(null,arguments)}}})],1)])],1)],1)],1):e._e()],1)],1),e._v(" "),this.verificationScreen?s("div",{staticStyle:{"max-width":"37.5rem",margin:"auto"}},[s("v-row",{staticClass:"privacy-policy-row",attrs:{"no-gutters":""}},[s("v-spacer"),e._v(" "),s("a",{staticClass:"privacy-policy",attrs:{href:e.privacyLink,rel:"external",target:"_BLANK"}},[s("evergreen-span",{attrs:{label:e.$t("pages.login.privacyPolicy"),type:"body-2"}})],1)],1)],1):e._e()],1),e._v(" "),s("v-spacer")],1)],1)],1)}),[],!1,Fs,"data-v-1aad9cb0",null),zs=Rs.exports,js={$_veeValidate:{validator:"new"},name:"Edit-Password",components:{"policy-password-input":xa,"evergreen-span":ot.a,"evergreen-outlined-button":vt.a,"evergreen-contained-button":ft.a},data:function(){return{panel:[],currentPassword:"",newPassword:"",loader:null,loading:!1,showNew:!1,showCurrent:!1}},watch:{loader:function(){var e=this,t=this.loader;this[t]=!this[t],setTimeout((function(){e[t]=!1}),3e3),this.loader=null}},methods:{clearComponent:function(){this.currentPassword="",this.newPassword="",this.$refs.passwordPolicyInput.password=""},requestBody:function(){return{currentPassword:this.currentPassword,newPassword:this.newPassword}},onSavePassword:function(){var e=this;if(u.a.isEmpty(this.$validator.errors.all())){var t=j.a.getFacadeConfig("production");this.getRequestService({baseURL:t}).post("/selfservice/changePassword",this.requestBody()).then((function(){e.clearComponent(),e.displayNotification("success","Password changed successfully.")})).catch((function(t){if(u.a.isUndefined(t.response.data.errors)){if(!u.a.isUndefined(t.response.data.failedPolicyRequirements)){var a=t.response.data.failedPolicyRequirements[0].policyRequirement,s="common.policyValidationMessages.".concat(a);e.failureMessage=e.$t(s,{param:e.$refs.passwordPolicyInput.policies[a]})}}else e.failureMessage=t.response.data.errors[0].title;e.displayNotification("error",e.failureMessage)}))}}}},qs=Object(lt.a)(js,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-expansion-panels",{attrs:{accordion:""},model:{value:e.panel,callback:function(t){e.panel=t},expression:"panel"}},[a("v-expansion-panel",[a("v-expansion-panel-header",{attrs:{"data-test":"edit-password","expand-icon":"mdi-pencil","disable-icon-rotate":""}},[a("evergreen-span",{attrs:{type:"h5",label:e.$t("pages.profile.accountSecurity.password")}})],1),e._v(" "),a("v-expansion-panel-content",[a("v-form",{ref:"form"},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate.initial",value:"required",expression:"'required'",modifiers:{initial:!0}}],class:[{"is-invalid":e.errors.has("currentPassword")}],attrs:{id:"currentPassword",name:"currentPassword","data-test":"profileCurrentPasswordField",autocomplete:"false","data-vv-as":e.$t("pages.profile.accountSecurity.currentPassword"),label:e.$t("pages.profile.accountSecurity.currentPassword"),type:e.showCurrent?"text":"password","append-icon":e.showCurrent?"mdi-eye":"mdi-eye-off",outlined:""},on:{"click:append":function(t){e.showCurrent=!e.showCurrent}},model:{value:e.currentPassword,callback:function(t){e.currentPassword=t},expression:"currentPassword"}}),e._v(" "),a("policy-password-input",{ref:"passwordPolicyInput",attrs:{name:"newPassword",policyApi:"orgPolicy",label:e.$t("pages.profile.accountSecurity.newPassword"),"data-test":"newPassword"},model:{value:e.newPassword,callback:function(t){e.newPassword=t},expression:"newPassword"}})],1),e._v(" "),a("v-row",[a("v-spacer"),e._v(" "),a("evergreen-outlined-button",{staticClass:"mr-6-rem",attrs:{label:e.$t("common.form.cancel")},nativeOn:{click:function(t){e.panel=[],e.clearComponent()}}}),e._v(" "),a("evergreen-contained-button",{staticClass:"mr-3-rem mb-2-rem",attrs:{label:e.$t("pages.profile.accountSecurity.savePassword"),loading:e.loading,disabled:e.errors&&e.errors.all().length>0},nativeOn:{click:function(t){e.loader="loading",e.onSavePassword()}}})],1)],1)],1)],1)}),[],!1,null,null,null).exports,Bs={name:"Edit-Personal-Info",mixins:[ma],components:{"evergreen-contained-button":ft.a,"evergreen-outlined-button":vt.a,"evergreen-span":ot.a},$_veeValidate:{validator:"new"},data:function(){return{dialog:!1,formFields:[],originalFormFields:[],numberValue:"",title:this.$t("pages.profile.editProfile.userDetailsTitle"),phoneMask:"+##############",temp:"123-456-7890"}},methods:{generateFormFields:function(){return[{key:"userName",name:"userName",required:!0,title:"Username",type:"string",value:this.$root.userStore.state.userName,readonly:!0},{key:"givenName",name:"givenName",required:!0,title:"First Name",type:"string",value:this.$root.userStore.state.givenName,readonly:!0},{key:"sn",name:"sn",required:!0,title:"Last Name",type:"string",value:this.$root.userStore.state.sn,readonly:!0},{key:"mail",name:"mail",required:!0,title:"Email Address",type:"string",value:this.$root.userStore.state.email,readonly:!0},{key:"telephoneNumber",name:"telephoneNumber",required:!1,title:"Telephone Number",type:"string",value:this.$root.userStore.state.telephoneNumber,readonly:!1},{key:"mobilephoneNumber",name:"mobilephoneNumber",required:!1,title:"Mobile Phone Number",type:"string",value:this.$root.userStore.state.mobilePhoneNumber,readonly:!1}]},requestBody:function(){return{action:"UPDATE",telephoneNumber:this.formFields[4].value,mobilePhoneNumber:this.formFields[5].value}},setModal:function(){var e=this.generateFormFields();this.formFields=e,this.originalFormFields=u.a.cloneDeep(e)},saveForm:function(){var e=this,t=j.a.getFacadeConfig("production");this.getRequestService({baseURL:t}).patch("/selfservice/users",this.requestBody()).then((function(){e.$root.userStore.setProfileAction({userName:e.$root.userStore.state.userName,givenName:e.$root.userStore.state.givenName,sn:e.$root.userStore.state.sn,mail:e.$root.userStore.state.email,mobilePhoneNumber:e.formFields[5].value,telephoneNumber:e.formFields[4].value}),e.dialog=!1,e.displayNotification("success","Phone numbers updated.")})).catch((function(t){e.displayNotification("error",t.response.data.errors[0].title)}))},isValid:function(){return this.$validator.validateAll()}}},Vs=Object(lt.a)(Bs,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-row",{attrs:{justify:"center"}},[!1===e.$root.userStore.state.internalUser&&!1===e.$root.userStore.state.federated?a("evergreen-contained-button",{attrs:{label:e.$t("pages.profile.editPersonalInfo"),"data-test":"edit-personal-info-button"},nativeOn:{click:function(t){t.stopPropagation(),e.dialog=!0,e.setModal()},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.saveForm.apply(null,arguments))}}}):e._e(),e._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",{staticClass:"pa-6"},[a("v-card-title",{staticClass:"pb-6"},[a("evergreen-span",{attrs:{type:"h4-light",label:e.$t("pages.profile.editProfile.userDetailsTitle")}})],1),e._v(" "),e.formFields.length>0?a("v-card-text",[a("v-form",e._l(e.formFields,(function(t,s){return a("v-container",{key:s,staticClass:"pl-0"},[a("v-row",[t.readonly?a("v-text-field",{attrs:{name:t.name,label:t.title,placeholder:t.value,readonly:"",disabled:"",outlined:""}}):a("v-text-field",{directives:[{name:"mask",rawName:"v-mask",value:e.phoneMask,expression:"phoneMask"}],attrs:{name:t.name,value:e.numberValue,placeholder:e.temp,label:t.title,outlined:""},model:{value:e.formFields[s].value,callback:function(t){e.$set(e.formFields[s],"value",t)},expression:"formFields[index].value"}})],1)],1)})),1),e._v(" "),a("v-row",[a("v-spacer"),e._v(" "),a("evergreen-outlined-button",{staticClass:"mr-6",attrs:{label:e.$t("common.form.cancel"),"data-test":"cancel-edit-info"},nativeOn:{click:function(t){e.dialog=!1}}}),e._v(" "),a("evergreen-contained-button",{attrs:{label:e.$t("common.form.saveChanges"),disabled:e.$root.userStore.state.internalUser,"data-test":"dt-save-edit-info"},nativeOn:{click:function(t){e.dialog=!1,e.saveForm()}}})],1)],1):a("v-card-text",[a("evergreen-span",{attrs:{type:"h6-regular",label:e.$t("pages.profile.editProfile.noFields")}})],1)],1)],1)],1)}),[],!1,null,null,null),Gs=(Vs.exports,{name:"List-Group",props:{title:{type:String},subtitle:{type:String}},components:{"evergreen-span":ot.a},data:function(){return{}}});var Hs=function(e){a("LGkr")},Ys=(Object(lt.a)(Gs,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-card",{staticClass:"mb-3",attrs:{"no-body":""}},[e._t("list-group-header",(function(){return[a("b-card-body",{staticClass:"py-4"},[a("evergreen-span",{attrs:{type:"h4-light",label:e.title}}),e._v(" "),e.subtitle?a("evergreen-span",{attrs:{type:"h5-light",label:e.subtitle}}):e._e()],1)]})),e._v(" "),a("b-list-group",{attrs:{flush:""}},[e._t("default")],2)],2)}),[],!1,Hs,"data-v-d7f72c94",null).exports,{name:"Account-Security",components:{"edit-password":qs},methods:{sendUpdateProfile:function(e,t){this.$emit("updateProfile",e,t)}}}),Qs=Object(lt.a)(Ys,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("edit-password",{on:{updateProfile:e.sendUpdateProfile}})}),[],!1,null,null,null).exports,Ws={name:"Profile-Information",components:{EvergreenContainedButton:ft.a,"evergreen-span":ot.a},computed:{profileInfo:function(){return[{label:this.$i18n.t("pages.profile.profileInformation.username"),value:this.$root.userStore.state.userName,LName:"usernameField",VName:"usernameValue",dataTest:"profileUsernameField"},{label:this.$i18n.t("pages.profile.profileInformation.firstName"),value:this.$root.userStore.state.givenName,LName:"firstNameField",VName:"firstNameValue",dataTest:"profileFirstNameField"},{label:this.$i18n.t("pages.profile.profileInformation.lastName"),value:this.$root.userStore.state.sn,LName:"lastNameField",VName:"lastNameValue",dataTest:"profileLastNameField"},{label:this.$i18n.t("pages.profile.profileInformation.email"),value:this.$root.userStore.state.email,LName:"emailField",VName:"emailValue",dataTest:"profileEmailField"}]}},data:function(){return{expanded:!1,isEditing:!1,fieldsSaved:!1,phoneMask:"+##############",newPhoneNumber:this.$root.userStore.state.mobilePhoneNumber,phoneNumber:{label:this.$i18n.t("pages.profile.profileInformation.phoneNumber"),value:this.$root.userStore.state.mobilePhoneNumber,LName:"mobileField",VName:"mobileValue",dataTest:"profileMobilePhoneField"}}},methods:{requestBody:function(){return{action:"UPDATE",phone:this.newPhoneNumber}},toggleEditing:function(){this.isEditing=!this.isEditing,this.isEditing?this.$root.$emit("unsavedChanges"):this.$root.$emit("changesSaved"),this.newPhoneNumber=this.$root.userStore.state.mobilePhoneNumber},saveContactInfo:function(){var e=this;this.$root.$emit("changesSaved");var t=j.a.getFacadeConfig("production");this.getRequestService({baseURL:t}).patch("/selfservice/users",this.requestBody()).then((function(){e.$root.userStore.setProfileAction({userName:e.$root.userStore.state.userName,givenName:e.$root.userStore.state.givenName,sn:e.$root.userStore.state.sn,mail:e.$root.userStore.state.email,mobilePhoneNumber:e.newPhoneNumber}),e.displayNotification("success","Phone numbers updated."),e.isEditing=!1,e.fieldsSaved=!0})).catch((function(t){e.displayNotification("error",t.response.data.errors[0].title)}))}}},Zs=Object(lt.a)(Ws,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-card-title",[a("evergreen-span",{attrs:{type:"h5",label:e.$t("pages.profile.profileInformation.title")}}),e._v(" "),a("v-col",[a("v-row",{attrs:{justify:"end"}},[!1===e.$root.userStore.state.federated?a("v-icon",{attrs:{"data-test":"editPersonalInfoIcon"},on:{click:e.toggleEditing}},[e._v("mdi-pencil")]):e._e()],1)],1)],1),e._v(" "),a("v-card-text",{attrs:{"data-test":"profileInfoCardText"}},[e._l(e.profileInfo,(function(t,s){return a("v-row",{key:s},[a("v-col",{attrs:{cols:"5"}},[a("evergreen-span",{attrs:{name:t.LName,type:"h5",label:t.label}})],1),e._v(" "),a("v-col",{attrs:{cols:"6"}},[a("evergreen-span",{attrs:{name:t.VName,type:"h5-light",label:t.value,"data-test":t.dataTest}})],1)],1)})),e._v(" "),a("div",[a("v-row",[a("v-col",{attrs:{cols:"5"}},[a("evergreen-span",{attrs:{name:e.phoneNumber.LName,type:"h5",label:e.phoneNumber.label}})],1),e._v(" "),e.isEditing?a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{directives:[{name:"mask",rawName:"v-mask",value:e.phoneMask,expression:"phoneMask"}],staticClass:"pa-0",attrs:{label:e.phoneNumber.label,value:e.phoneNumber.value,"data-test":"profileMobilePhoneInputField",outlined:"",dense:""},on:{input:function(t){e.fieldsSaved=!1}},model:{value:e.newPhoneNumber,callback:function(t){e.newPhoneNumber=t},expression:"newPhoneNumber"}})],1):a("v-col",{attrs:{cols:"6"}},[a("evergreen-span",{attrs:{name:e.phoneNumber.VName,type:"h5-light",label:this.$root.userStore.state.mobilePhoneNumber,"data-test":e.phoneNumber.dataTest}})],1)],1)],1),e._v(" "),e.isEditing?a("v-row",{attrs:{justify:"end"}},[a("evergreen-contained-button",{staticStyle:{"margin-right":"1.5rem","margin-bottom":"0.5rem"},attrs:{label:e.$t("common.form.save"),"data-test":"profileSavePhoneNumbersButton"},nativeOn:{click:function(t){return e.saveContactInfo.apply(null,arguments)}}})],1):e._e()],2)],1)}),[],!1,null,null,null),Xs=Zs.exports,Js={name:"Profile",props:{clientToken:String,linkedProvider:String,openProfile:{required:!1,default:!1}},components:{"account-security":Qs,"profile-info":Xs,"evergreen-span":ot.a},mounted:function(){var e=this;this.$root.$on("unsavedChanges",(function(){e.changesNotSaved()})),this.$root.$on("changesSaved",(function(){e.changesSaved()})),this.openProfile&&this.$refs.editProfileButton.click()},beforeRouteLeave:function(e,t,a){this.globalUnsavedChanges?(this.$store.commit("globalContext/setRouteTo",e.name),this.$store.commit("globalContext/setIsRouteChange",!0),this.$store.commit("globalContext/setShowDiscardChangesModal",!0),a(!1)):a()},computed:{globalUnsavedChanges:function(){return this.$store.get("globalContext/globalUnsavedChanges")},routeTo:function(){return this.$store.get("globalContext/routeTo")},fullName:function(){var e="";return e=this.$root.userStore.state.givenName.length>0||this.$root.userStore.state.sn.length>0?u.a.startCase("".concat(this.$root.userStore.state.givenName," ").concat(this.$root.userStore.state.sn)):this.$root.userStore.state.userId,e},initials:function(){var e="";if(this.$root.userStore.state.givenName.length>0||this.$root.userStore.state.sn.length>0){var t=String(this.$root.userStore.state.givenName),a=String(this.$root.userStore.state.sn);e=t.charAt(0)+a.charAt(0)}else e=String(this.$root.userStore.state.userId).charAt(0)+String(this.$root.userStore.state.userId).charAt(1);return e.toUpperCase()},email:function(){return this.$root.userStore.state.email},profile:function(){return this.$root.userStore.state.profile},schema:function(){return this.$root.userStore.state.schema}},methods:{changesSaved:function(){this.$store.commit("globalContext/setGlobalUnsavedChanges",!1)},changesNotSaved:function(){this.$store.commit("globalContext/setGlobalUnsavedChanges",!0)},updateProfile:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.makeUpdateRequest(this.$root.userStore.state.managedResource,e,t)},makeUpdateRequest:function(e,t){var a=this,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=s.successMsg||this.$t("common.user.profile.updateSuccess"),r=this.$root.userStore.state.userId;this.getRequestService({headers:s.headers}).patch("".concat(e,"/").concat(r),t).then((function(e){a.$root.userStore.setProfileAction(e.data),a.displayNotification("success",n),s.onSuccess&&s.onSuccess()})).catch((function(e){var t=s.errorMsg||e.response.data.message;a.displayNotification("error",t),s.onError&&s.onError(e)}))}}};var Ks=function(e){a("rDG/")},en=Object(lt.a)(Js,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mx-6"},[a("v-card",{staticClass:"header",attrs:{flat:""}},[a("evergreen-span",{attrs:{type:"h3",label:e.$t("pages.app.profile"),"data-test":"profilePageTitleSpan"}})],1),e._v(" "),a("v-card",{class:[{"profile-card":e.$vuetify.breakpoint.mdAndDown},{"pa-4 text-center":e.$vuetify.breakpoint.mdAndDown},{"pa-4 text-left":e.$vuetify.breakpoint.lgAndUp}],attrs:{flat:""}},[a("v-row",{staticClass:"pl-4-rem",attrs:{"justify-lg":"start"}},[a("v-col",{attrs:{xl:"10",lg:"10",md:"12",sm:"12",xs:"12"}},[a("v-row",{attrs:{"justify-xl":"start","justify-lg":"start","justify-md":"start","justify-sm":"center"}},[a("evergreen-span",{attrs:{type:"h4",label:e.fullName,"data-test":"fullNameTitleTextProfile"}})],1),e._v(" "),a("v-row",[a("evergreen-span",{attrs:{type:"h4-light",label:e.email,"data-test":"emailAddressTextProfile"}})],1)],1)],1),e._v(" "),a("profile-info"),e._v(" "),!1===e.$root.userStore.state.federated?a("account-security"):e._e()],1)],1)}),[],!1,Ks,"data-v-6cf62b06",null).exports,tn=a("L2JU"),an={mixins:[st.a],props:{orgId:{type:String,required:!1}},$_veeValidate:{validator:"new"},data:function(){return{orgFields:{},editedOrg:this.org,orgScope:"",usersActions:$o,endpoint:"".concat(Object(z.getFacadeConfig)("production"),"/organizations/"),disableSaveButton:!1,colSize:5,dialog:!1,breadcrumbsItems:[{text:"".concat(this.$t("pages.organizations.profile.profile")),href:"#/organization/profile"}],expiryOptions:[{value:30,text:"30 days"},{value:60,text:"60 days"},{value:90,text:"90 days"},{value:120,text:"120 days"},{value:180,text:"180 days"},{value:365,text:"365 days"}]}},methods:{updateEditedOrg:function(){this.editedOrg.name=this.orgFields.name,this.editedOrg.status=this.orgFields.status,this.editedOrg.expireUsers=this.orgFields.expireUsers,this.editedOrg.userMaxExpiryInDays=this.orgFields.userMaxExpiryInDays},populateOrgFields:function(){this.orgScope=this.org.scope,this.orgFields={name:this.org.name,environment:this.org.environment,status:this.org.status,orgCode:this.org.orgCode,emailRequired:this.org.emailRequired,id:this.org.id,expireUsers:this.org.expireUsers.toString(),userMaxExpiryInDays:this.org.userMaxExpiryInDays},this.editedOrg=this.org},updateOrganization:function(){var e=this;return o()(l.a.mark((function t(){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$validator.validateAll();case 2:return t.sent,e.disableSaveButton=!0,t.prev=5,t.next=8,E.a.updateOrganization(e.orgFields.id,e.orgFields);case 8:t.sent,e.displayNotification("success","Saved"),e.updateEditedOrg(),e.$store.commit("globalContext/changeGlobalOrg",e.editedOrg),e.disableSaveButton=!1,t.next=20;break;case 15:t.prev=15,t.t0=t.catch(5),a=e.getErrorMessage(["response","data","errors",0,"detail"],t.t0)||t.t0.message,e.displayNotification("error",a),e.disableSaveButton=!1;case 20:case"end":return t.stop()}}),t,null,[[5,15]])})))()},deleteOrganization:function(){var e=this;return o()(l.a.mark((function t(){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E.a.deleteOrganizations(e.orgFields.id);case 3:t.sent,e.$store.commit("globalContext/changeGlobalOrg",null),e.$store.commit("globalContext/setShowSwitchOrgModal",!0),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),a=e.getErrorMessage(["response","data","errors",0,"detail"],t.t0)||t.t0.message,e.displayNotification("error",a);case 12:e.dialog=!1;case 13:case"end":return t.stop()}}),t,null,[[0,8]])})))()},showDeleteConfirmationDialog:function(){this.dialog=!0}},computed:{org:function(){return this.$store.get("globalContext/globalOrg")},isInternalOrg:function(){return"INTERNAL"===this.orgScope},isEditPresent:function(){return _.isMatch(this.org,this.orgFields)?this.$root.$emit("changesSaved"):this.$root.$emit("unsavedChanges"),!_.isMatch(this.org,this.orgFields)},isExpireEnable:function(){return"true"==this.orgFields.expireUsers},organizationChangesNotAllowed:function(){return!this.isActionAllowed(this.usersActions.OrganizationsAdmin)}},watch:{org:function(e,t){e&&e.id!==t.id&&(this.populateOrgFields(),this.updateEditedOrg())}},mounted:function(){this.populateOrgFields(),this.updateEditedOrg()},components:{"evergreen-contained-btn":ft.a,"evergreen-span":ot.a,"evergreen-outlined-btn":vt.a}};var sn=function(e){a("msIN")},nn=Object(lt.a)(an,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-dialog",{attrs:{persistent:"","max-width":"31.25rem"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",{attrs:{"data-test":"org-confirm-delete-modal"}},[a("v-card-title",[a("evergreen-span",{attrs:{type:"h4-light",label:e.$t("common.form.deleteConfirmTitle")}})],1),e._v(" "),a("v-card-text",[a("evergreen-span",{attrs:{type:"body-1",label:e.$t("pages.organizations.profile.deleteConfirmMessage")}})],1),e._v(" "),a("v-card-actions",[a("v-container",[a("v-row",{attrs:{dense:""}},[a("v-spacer"),e._v(" "),a("v-col",{staticClass:"orgMr-1",attrs:{cols:"2"}},[a("evergreen-outlined-btn",{attrs:{label:e.$t("pages.identityzone.form.no"),block:"","data-test":"org-delete-cancel-button"},nativeOn:{click:function(t){e.dialog=!1}}})],1),e._v(" "),a("v-col",{attrs:{cols:"2"}},[a("evergreen-contained-btn",{attrs:{block:"",label:e.$t("pages.identityzone.form.yes"),"data-test":"org-delete-confirmation-button"},nativeOn:{click:function(t){return e.deleteOrganization.apply(null,arguments)}}})],1)],1)],1)],1)],1)],1),e._v(" "),a("v-card",[a("v-card-title",[a("evergreen-span",{attrs:{type:"h5",label:e.$t("pages.organizations.profile.subtitle")}})],1),e._v(" "),a("v-card-text",[a("v-row",[a("v-col",[a("v-form",{on:{submit:function(e){e.preventDefault()}}},[a("v-row",[a("v-col",{attrs:{cols:e.colSize}},[a("v-text-field",{attrs:{outlined:"",name:"organization id",label:e.$t("pages.organizations.profile.id"),"data-test":"org-id",readonly:!0,disabled:!0},model:{value:e.orgFields.id,callback:function(t){e.$set(e.orgFields,"id",t)},expression:"orgFields.id"}}),e._v(" "),a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:2|max:255",expression:"'required|min:2|max:255'"}],class:[{"is-invalid":e.errors.has("name")}],attrs:{id:"name-input-1",name:"name",outlined:"",label:e.$t("pages.organizations.profile.name"),"data-vv-validate-on":"submit","error-messages":e.errors.first("name"),success:!e.errors.has("name"),"data-test":"org-name-input",disabled:e.organizationChangesNotAllowed||e.isInternalOrg},model:{value:e.orgFields.name,callback:function(t){e.$set(e.orgFields,"name",t)},expression:"orgFields.name"}})],1)],1),e._v(" "),a("v-row",[a("v-col",{staticClass:"orgColPt-0",attrs:{cols:e.colSize}},[a("v-text-field",{attrs:{"data-test":"org-orgCode-input",outlined:"",name:"organization code","error-messages":e.errors.first("organization code"),disabled:"",label:e.$t("pages.organizations.profile.orgCode")},model:{value:e.orgFields.orgCode,callback:function(t){e.$set(e.orgFields,"orgCode",t)},expression:"orgFields.orgCode"}})],1)],1),e._v(" "),a("v-row",[a("v-col",{staticClass:"orgColPt-0",attrs:{cols:e.colSize}},[a("v-autocomplete",{attrs:{id:"environment-input-1",outlined:"",items:[e.orgFields.environment],disabled:"","data-test":"org-environment-input",label:e.$t("pages.organizations.profile.environment")},model:{value:e.orgFields.environment,callback:function(t){e.$set(e.orgFields,"environment",t)},expression:"orgFields.environment"}})],1)],1),e._v(" "),a("v-row",[a("v-col",{staticClass:"orgColPt-0",attrs:{cols:e.colSize}},[a("v-switch",{staticClass:"orgMt-0",attrs:{color:"secondary","true-value":"ACTIVE","false-value":"INACTIVE","data-test":"org-status-input",disabled:e.organizationChangesNotAllowed||e.isInternalOrg},scopedSlots:e._u([{key:"label",fn:function(){return[a("evergreen-span",{staticClass:"orgMt-2",attrs:{type:"body-1",label:e.$t("pages.organizations.profile.status")}})]},proxy:!0}]),model:{value:e.orgFields.status,callback:function(t){e.$set(e.orgFields,"status",t)},expression:"orgFields.status"}})],1)],1),e._v(" "),a("v-row",[a("v-col",{attrs:{cols:e.colSize}},[a("evergreen-span",{attrs:{type:"h6",label:e.$t("pages.organizations.profile.inactiveAccountPolicy")}})],1)],1),e._v(" "),a("v-row",[a("v-col",{staticClass:"orgColPt-0 expiryCol",attrs:{cols:e.colSize}},[a("v-switch",{staticClass:"orgMt-0",attrs:{color:"secondary","true-value":"true","false-value":"false","data-test":"org-expire-input",disabled:e.organizationChangesNotAllowed},scopedSlots:e._u([{key:"label",fn:function(){return[a("evergreen-span",{staticClass:"orgMt-2",attrs:{type:"body-1",label:e.$t("pages.organizations.profile.enable")}})]},proxy:!0}]),model:{value:e.orgFields.expireUsers,callback:function(t){e.$set(e.orgFields,"expireUsers",t)},expression:"orgFields.expireUsers"}})],1)],1),e._v(" "),e.isExpireEnable?a("v-row",{attrs:{dense:""}},[a("evergreen-span",{staticClass:"lockInactive",attrs:{align:"baseline",type:"body-1",label:e.$t("pages.organizations.profile.lockInactiveAccounts")}}),e._v(" "),a("v-col",{staticClass:"orgPT-0",attrs:{cols:3}},[a("v-select",{staticClass:"expiryDropdown",attrs:{id:"expire-users-dropdown-1",items:e.expiryOptions,"data-test":"org-expiryOptions-input",solo:"",disabled:e.organizationChangesNotAllowed,height:"1.6875rem"},model:{value:e.orgFields.userMaxExpiryInDays,callback:function(t){e.$set(e.orgFields,"userMaxExpiryInDays",t)},expression:"orgFields.userMaxExpiryInDays"}})],1)],1):e._e(),e._v(" "),a("v-row",[a("v-col",{staticClass:"orgPT-0",attrs:{cols:e.colSize}},[a("v-checkbox",{staticClass:"orgMt-0",attrs:{"data-test":"org-email-required-checkbox-input","true-value":!0,"false-value":!1,"off-icon":null!=e.orgId&&e.orgFields.emailRequired?"$checkboxOn":"$checkboxOff",disabled:""},scopedSlots:e._u([{key:"label",fn:function(){return[a("evergreen-span",{staticClass:"orgMt-2",attrs:{type:"body-1",label:e.$t("pages.organizations.profile.emailRequired")}})]},proxy:!0}]),model:{value:e.orgFields.emailRequired,callback:function(t){e.$set(e.orgFields,"emailRequired",t)},expression:"orgFields.emailRequired"}})],1)],1)],1)],1)],1),e._v(" "),a("v-row",{staticClass:"orgMt-5 orgMb-3 orgPr-6",attrs:{justify:"end"}},[a("evergreen-contained-btn",{staticClass:"ml-6",attrs:{disabled:e.disableSaveButton||e.isInternalOrg||!e.isEditPresent,hidden:e.organizationChangesNotAllowed,label:e.$t("common.form.save"),"data-test":"org-save-button"},nativeOn:{click:function(t){return e.updateOrganization.apply(null,arguments)}}}),e._v(" "),a("evergreen-outlined-btn",{staticClass:"ml-6",attrs:{disabled:null==this.org.id||e.isInternalOrg,hidden:e.organizationChangesNotAllowed,"data-test":"org-delete-button",label:e.$t("common.form.delete")},nativeOn:{click:function(t){return e.showDeleteConfirmationDialog.apply(null,arguments)}}})],1)],1)],1)],1)}),[],!1,sn,"data-v-b35471a8",null),rn=nn.exports,on={name:"Organization",components:{"evergreen-span":ot.a,"edit-profile":rn},props:{orgId:{type:String,required:!0}},data:function(){return{tab:null,organizationProfile:"".concat(this.$t("pages.organizations.profile.profile")),locationName:"",items:[{tab:"".concat(this.$t("pages.organizations.profile.profile")),content:"edit-profile"}],breadcrumbsItems:[{text:"".concat(this.$t("pages.organizations.orgProfileBreadcrumb")),href:"#/organization/profile"},{text:"".concat(this.$t("pages.organizations.profile.profile")),disabled:!0}]}},methods:{onTabChange:function(e){var t=this;this.breadcrumbsItems.forEach((function(a,s){e==="".concat(t.$t("pages.mfa.title"))&&(a.text="".concat(t.$t("pages.mfa.title"))),e==="".concat(t.$t("pages.organizations.profile.profile"))&&(a.text="".concat(t.$t("pages.app.orgProfile")))}))},gotoOrgProfilePage:function(){this.$router.push("/organization/profile")}},computed:{org:function(){return this.$store.get("globalContext/globalOrg")},globalUnsavedChanges:function(){return this.$store.get("globalContext/globalUnsavedChanges")},routeTo:function(){return this.$store.get("globalContext/routeTo")}}};var ln,cn=function(e){a("b7Pt")},dn=Object(lt.a)(on,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-card",{staticClass:"header-breadcrumb",attrs:{flat:""}},[a("evergreen-span",{attrs:{type:"h3",label:e.$t("pages.organizations.orgProfileBreadcrumb")}})],1),e._v(" "),a("v-breadcrumbs",{staticClass:"pl-0 pt-0",attrs:{items:e.breadcrumbsItems,divider:">"},scopedSlots:e._u([{key:"item",fn:function(e){return[e.item.href?a("a",{staticClass:"breadcrumb-clickable",attrs:{href:e.item.href}},[a("evergreen-span",{attrs:{type:"body-1",label:e.item.text}})],1):a("evergreen-span",{attrs:{type:"body-1",label:e.item.text}})]}}])}),e._v(" "),a("v-card",[a("v-tabs",{attrs:{color:"primary","data-test":"OrganizationsTabs"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},e._l(e.items,(function(t){return a("v-tab",{key:t.tab.id,attrs:{"data-test":t.content+"-orgTab"},on:{click:function(a){return e.onTabChange(t.tab)}}},[e._v("\n        "+e._s(t.tab)+"\n      ")])})),1),e._v(" "),a("v-tabs-items",{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},e._l(e.items,(function(t){return a("v-tab-item",{key:t.tab,ref:t.id,refInFor:!0},[a("v-card",{attrs:{flat:"",outlined:""}},[(t.tab,e.organizationProfile,a(t.content,{tag:"component"}))],1)],1)})),1)],1)],1)}),[],!1,cn,"data-v-5b3169a4",null).exports,un={data:function(){return{comparisonJobBtnLoading:!1}},computed:{org:function(){return this.$store.get("globalContext/globalOrg")}},methods:{triggerComparisonJob:(ln=o()(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.comparisonJobBtnLoading=!0,e.prev=1,e.next=4,E.a.triggerComparisonJob({orgId:this.org.id});case 4:this.displayNotification("success",this.$t("pages.organizations.internalFunctions.comparisonSuccessMsg")),this.comparisonJobBtnLoading=!1,e.next=13;break;case 8:e.prev=8,e.t0=e.catch(1),t=this.getErrorMessage(["response","data","errors",0,"detail"],e.t0)||e.t0.message,this.displayNotification("error",t),this.comparisonJobBtnLoading=!1;case 13:case"end":return e.stop()}}),e,this,[[1,8]])}))),function(){return ln.apply(this,arguments)})},components:{"evergreen-span":ot.a,"evergreen-outlined-button":vt.a}};var pn=function(e){a("wmHx")},mn=Object(lt.a)(un,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("evergreen-span",{attrs:{type:"h3"}},[e._v(e._s(e.$t("pages.organizations.internalFunctions.title")))]),e._v(" "),a("v-card",{staticClass:"mt-2-rem pb-3-rem"},[a("v-card-text",["INTERNAL"==this.org.scope?a("v-row",{staticClass:"strip-whitespace left-margin"},[a("v-col",{staticClass:"strip-whitespace"},[a("evergreen-span",{staticClass:"section-description",attrs:{type:"h6",label:e.$t("pages.organizations.internalFunctions.dataComparisonTitle"),"data-test":"data-comparison-job-title"}}),e._v(" "),a("br"),e._v(" "),a("evergreen-span",{staticClass:"section-description-sub",attrs:{type:"body-1",label:e.$t("pages.organizations.internalFunctions.dataComparisonDescription"),"data-test":"data-comparison-job-description"}})],1),e._v(" "),a("v-col",{staticClass:"text-right strip-whitespace",attrs:{justify:"end"}},[a("evergreen-outlined-button",{staticClass:"side-button-margins",attrs:{"data-test":"trigger-comparison-job-btn",disabled:this.comparisonJobBtnLoading,loading:this.comparisonJobBtnLoading,label:e.$t("pages.organizations.internalFunctions.dataComparisonTriggerButton")},nativeOn:{click:function(t){return e.triggerComparisonJob()}}})],1)],1):e._e()],1)],1)],1)}),[],!1,pn,"data-v-453ca01b",null).exports;function gn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function fn(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?gn(Object(a),!0).forEach((function(t){gt()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):gn(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var vn={name:"organizations",components:{organization:dn,"evergreen-span":ot.a,"internal-functions":mn},mounted:function(){var e=this;this.$root.$on("unsavedChanges",(function(){e.changesNotSaved()})),this.$root.$on("changesSaved",(function(){e.changesSaved()}))},methods:{gotoOrgProfilePage:function(){this.$router.push({name:"organizations"})},changesSaved:function(){this.$store.commit("globalContext/setGlobalUnsavedChanges",!1)},changesNotSaved:function(){this.$store.commit("globalContext/setGlobalUnsavedChanges",!0)}},beforeRouteLeave:function(e,t,a){this.globalUnsavedChanges?(this.$store.commit("globalContext/setRouteTo",e.name),this.$store.commit("globalContext/setIsRouteChange",!0),this.$store.commit("globalContext/setShowDiscardChangesModal",!0),a(!1)):a()},computed:fn(fn({},Object(tn.b)({selectedOrg:"globalContext/globalOrg"})),{},{org:function(){return this.$store.get("globalContext/globalOrg")},globalUnsavedChanges:function(){return this.$store.get("globalContext/globalUnsavedChanges")},routeTo:function(){return this.$store.get("globalContext/routeTo")}}),watch:{org:function(e,t){e&&e.id!==t.id&&this.populateMfaFields()},routeTo:function(e,t){e&&e.id!==t.id&&this.gotoOrgProfilePage()}}},hn=Object(lt.a)(vn,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mx-6 pb-0 header"},["Organization"===this.$router.currentRoute.name&&e.selectedOrg?a("organization",{attrs:{org:e.selectedOrg,orgId:e.selectedOrg.id}}):e._e(),e._v(" "),"OrganizationInternalFunctions"===this.$router.currentRoute.name?a("internal-functions"):e._e()],1)}),[],!1,null,null,null).exports,bn=a("+QwO"),yn=a.n(bn),wn={props:{domains:{type:Array,required:!0,default:function(){return{}}}},data:function(){return{samlDomainEndpoint:"/organizations/saml-domain-available",localDomains:[],domainInput:"",maxDomainLength:5,domainValidationInProgress:!1,domainValidationTimer:null}},computed:{getDomains:function(){return this.localDomains.map((function(e,t){return{id:t,domain:e}}))},vvRules:function(){return"verify_max_domains|verify_domain_format|verify_domain_availability"},isAddDomainDisabled:function(){return!0===this.domainValidationInProgress||this.errors.has("domain")||""===this.domainInput}},methods:{deleteDomain:function(e,t){1===this.localDomains.length?this.localDomains=[]:this.localDomains.splice(t.id,1),this.$emit("domainsUpdated",this.localDomains)},addDomain:function(){var e=this;return o()(l.a.mark((function t(){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isAddDomainDisabled){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.$validator.validateAll();case 4:if(t.sent){t.next=7;break}return t.abrupt("return");case 7:e.errors.has("domain")||(a=e.localDomains.find((function(t){return t===e.domainInput})),e.domainInput&&!a&&(e.localDomains.push(e.domainInput),e.$emit("domainsUpdated",e.localDomains)),e.domainInput="");case 8:case"end":return t.stop()}}),t)})))()}},watch:{domains:{immediate:!0,handler:function(e){this.localDomains=pt()(e)}}},$_veeValidate:{validator:"new"},created:function(){var e=this;$.b.Validator.extend("verify_max_domains",{getMessage:function(t){return"Maximum of ".concat(e.maxDomainLength," domains allowed")},validate:function(t){return new Promise((function(a){a({valid:t&&t.length>0&&e.domains.length<e.maxDomainLength})}))}}),$.b.Validator.extend("verify_domain_format",{getMessage:function(e){return"Enter a valid domain"},validate:function(e){return new Promise((function(t){t({valid:e&&e.length>0&&yn.a.isFQDN(e)})}))}}),$.b.Validator.extend("verify_domain_availability",{getMessage:function(e,t){return"This domain is already being used."},validate:function(t){return new Promise((function(a){if(!/.+\..{2,}/.test(t||""))return clearTimeout(e.domainValidationTimer),a({valid:!1}),e.domainValidationTimer=null,void(e.domainValidationInProgress=!1);e.domainValidationInProgress=!0,clearTimeout(e.domainValidationTimer),e.domainValidationTimer=setTimeout(o()(l.a.mark((function s(){var n,r;return l.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return n=e.getRequestService({baseURL:Object(z.getFacadeConfig)("production")}),s.prev=1,s.next=4,n.post(e.samlDomainEndpoint,{domain:t});case 4:r=s.sent,a({valid:r.data.available}),e.domainValidationInProgress=!1,s.next=13;break;case 9:s.prev=9,s.t0=s.catch(1),a({valid:!0}),e.domainValidationInProgress=!1;case 13:return s.prev=13,e.domainValidationTimer=null,s.finish(13);case 16:case"end":return s.stop()}}),s,null,[[1,9,13,16]])}))),500)}))}})},components:{EvergreenContainedButton:ft.a}};var xn=function(e){a("ntkt")},Cn=Object(lt.a)(wn,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-card",{attrs:{flat:""}},[a("v-card-text",[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"7"}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:e.vvRules,expression:"vvRules"}],attrs:{dense:"","data-test":"saml-domains-input",label:this.$t("pages.organizations.security.ssoSetup.addDomainTextField"),placeholder:this.$t("pages.organizations.security.ssoSetup.addDomainTextFieldPlaceHolder"),outlined:"",name:"domain",hint:this.$t("pages.organizations.security.ssoSetup.addDomainTextFieldHint"),"error-messages":e.errors.first("domain"),success:!e.errors.has("domain")},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.addDomain(t))}},model:{value:e.domainInput,callback:function(t){e.domainInput="string"==typeof t?t.trim():t},expression:"domainInput"}})],1),e._v(" "),a("v-col",{attrs:{cols:"3"}},[a("evergreen-contained-button",{staticClass:"add-domain-button",attrs:{disabled:e.isAddDomainDisabled,"data-test":"saml-domains-button-input",label:this.$t("pages.organizations.security.ssoSetup.addDomainButton")},nativeOn:{click:function(t){return t.preventDefault(),e.addDomain(t)}}})],1)],1),e._v(" "),a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"10"}},[a("v-simple-table",{attrs:{"fixed-header":"","data-test":"saml-domains-table"},scopedSlots:e._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[e._v(e._s("Domain Name"))]),e._v(" "),a("th",{staticClass:"text-left"})])]),e._v(" "),a("tbody",e._l(e.getDomains,(function(t){return a("tr",{key:t.name},[a("td",[e._v(e._s(t.domain))]),e._v(" "),a("td",{attrs:{align:"right"}},[a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(s){var n=s.on;return[a("v-icon",e._g({attrs:{"data-test":"saml-domains-delete-button"},on:{click:function(a){return e.deleteDomain(a,t)}}},n),[e._v("mdi-delete")])]}}],null,!0)},[e._v("\n                      "+e._s(e.$t("pages.organizations.security.ssoSetup.deleteDomainButtonTooltip"))+"\n                    ")])],1)])})),0)]},proxy:!0}])})],1),e._v(" "),a("v-col",{attrs:{cols:"0"}})],1)],1)],1)],1)}),[],!1,xn,"data-v-64e56d4d",null).exports,_n={$_veeValidate:{validator:"new"},data:function(){return{isProcessing:!1,showLoading:!1,isExpanded:!1,domains:[],samlPolicy:null,jit:!1,active:!0,idpUrl:null,idpIssuer:null,idpCert:null,idpMetadata:null,errorMessage:"",errorDetail:"",showErrorDialog:!1}},methods:{selectMetadataFile:function(e){this.idpMetadata=e},loadSamlPolicy:function(){var e=this;return o()(l.a.mark((function t(){var a,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.showLoading=!0,!e.org||!e.org.id){t.next=17;break}return e.$refs.metadata.internalValue=null,e.$refs.metadata.$refs.input.value=null,a=e.getRequestService({baseURL:"".concat(Object(z.getFacadeConfig)("production"),"/organizations/").concat(e.org.id,"/saml-policy/")}),t.prev=5,t.next=8,a.get();case 8:(s=t.sent).data&&(e.samlPolicy=s.data,e.assignSamlPolicyToFields()),t.next=17;break;case 12:t.prev=12,t.t0=t.catch(5),e.$refs.metadata.internalValue=null,e.$refs.metadata.$refs.input.value=null,e.clearFields();case 17:e.showLoading=!1;case 18:case"end":return t.stop()}}),t,null,[[5,12]])})))()},onSubmit:function(e){var t=this;return o()(l.a.mark((function e(){var a,s,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$validator.validateAll();case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:if(a=t.getRequestService({baseURL:"".concat(Object(z.getFacadeConfig)("production"),"/organizations/").concat(t.org.id,"/saml-policy/")}),e.prev=6,t.isProcessing){e.next=19;break}return t.isProcessing=!0,(n=new FormData).append("jit",t.jit),n.append("active",t.active),n.append("domains",t.domains),n.append("file",t.idpMetadata),e.next=16,a.patch("/",n);case 16:(s=e.sent).data&&(t.samlPolicy=s.data,t.assignSamlPolicyToFields(),t.displayNotification("success","Updated"),t.$refs.metadata.internalValue=null,t.$refs.metadata.$refs.input.value=null,t.$root.$emit("changesSaved")),t.isProcessing=!1;case 19:e.next=30;break;case 21:e.prev=21,e.t0=e.catch(6),r=t.getErrorMessage(["response","data","errors",0],e.t0),t.errorMessage=r.title||e.t0.message,t.errorDetail=r.detail||e.t0.message,t.showErrorDialog=!0,t.$refs.metadata.internalValue=null,t.$refs.metadata.$refs.input.value=null,t.isProcessing=!1;case 30:t.showLoading=!1;case 31:case"end":return e.stop()}}),e,null,[[6,21]])})))()},downloadSamlMetadata:function(){var e=this;return o()(l.a.mark((function t(){var a,s,n,r,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=e.getRequestService({baseURL:"".concat(Object(z.getFacadeConfig)("production"),"/organizations/").concat(e.org.id,"/saml-policy/sp-meta-data")}),t.next=4,a.get();case 4:(s=t.sent)&&(n=window.URL.createObjectURL(new Blob([s.data])),(r=document.createElement("a")).href=n,r.setAttribute("download","sp-metadata.xml"),document.body.appendChild(r),r.onclick=function(e){window.Cypress&&e.preventDefault()},r.click(),e.displayNotification("success",e.$t("pages.organizations.security.ssoSetup.spMetadataDownloadSuccess"))),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),o=e.getErrorMessage(["response","data","errors",0,"detail"],t.t0),e.displayNotification("error",o);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))()},assignSamlPolicyToFields:function(){if(this.samlPolicy){var e=[];this.active=this.samlPolicy.active,this.samlPolicy.domains.forEach((function(t){return e.push(t)})),this.domains=e,this.jit=this.samlPolicy.jit,this.idpUrl=this.samlPolicy.idpSsoUrl,this.idpIssuer=this.samlPolicy.remoteId,this.idpCert=this.samlPolicy.idpVerificationCert}},assignFieldsToSamlPolicy:function(){return{active:this.active,domains:this.domains,jit:this.jit}},clearFields:function(){this.samlPolicy=null,this.idpUrl=null,this.idpIssuer=null,this.idpCert=null,this.domains=[],this.jit=!1,this.active=!1},enableSave:function(){var e=this,t=this.domains&&this.domains.length>0;if(this.samlPolicy){var a=this.domains.every((function(t){return e.samlPolicy.domains.includes(t)}))&&this.samlPolicy.domains.length===this.domains.length;t=t&&(!_.isEqual(this.samlPolicy.jit,this.jit)||!_.isEqual(this.samlPolicy.active,this.active)||!a||this.idpMetadata)}return t},isEditPresent:function(){var e;return(e=this.samlPolicy?this.enableSave():this.enableSave()||this.jit||this.active)?this.$root.$emit("unsavedChanges"):this.$root.$emit("changesSaved"),e},domainsUpdated:function(e){this.domains=pt()(e)},errorDialogHandler:function(){this.errorMessage="",this.errorDetail="",this.showErrorDialog=!1}},computed:{org:function(){return this.$store.get("globalContext/globalOrg")},spDownloadDisabled:function(){return null==this.samlPolicy}},mounted:function(){this.loadSamlPolicy()},updated:function(){this.isEditPresent()},watch:{org:function(e,t){(!t&&e||t&&e&&e.id!==t.id)&&this.loadSamlPolicy()}},components:{"evergreen-contained-button":ft.a,DomainsList:Cn,"evergreen-span":ot.a,"evergreen-text-button":Nt.a}};var Sn=function(e){a("4j4f"),a("sT+x")},kn=Object(lt.a)(_n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-dialog",{attrs:{"max-width":"31.25rem"},model:{value:e.showErrorDialog,callback:function(t){e.showErrorDialog=t},expression:"showErrorDialog"}},[a("v-card",{attrs:{"data-test":"saml-error-dialog"}},[a("v-card-title",[a("v-row",[a("v-col",{staticClass:"pa-0-rem pl-2-rem",attrs:{cols:"1"}},[a("v-icon",{staticClass:"mr-2-rem",attrs:{color:"error"}},[e._v("mdi-alert-circle")])],1),e._v(" "),a("v-col",{staticClass:"pa-0-rem",attrs:{cols:"11"}},[a("evergreen-span",{staticStyle:{"word-break":"keep-all"},attrs:{type:"h4-light",label:this.errorMessage}})],1)],1)],1),e._v(" "),a("v-card-text",[a("evergreen-span",{attrs:{type:"body-1",label:this.errorDetail}})],1),e._v(" "),a("v-spacer"),e._v(" "),a("v-card-actions",[a("v-container",[a("v-row",{attrs:{dense:"",justify:"end"}},[a("evergreen-contained-button",{attrs:{label:this.$t("common.form.close")},nativeOn:{click:function(t){return e.errorDialogHandler.apply(null,arguments)}}})],1)],1)],1)],1)],1),e._v(" "),a("v-overlay",{attrs:{value:e.showLoading,opacity:"0",absolute:!0}},[a("v-progress-circular",{staticClass:"evergreen-spinner",attrs:{indeterminate:""}})],1),e._v(" "),a("v-card",{staticClass:"panel"},[a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"3"}},[a("evergreen-span",{attrs:{type:"h4",label:this.$t("pages.organizations.security.ssoSetup.samlSetup")}})],1),e._v(" "),a("v-col",{staticClass:"samlPt-0 samlMt-0",attrs:{cols:"9"}},[a("v-switch",{staticClass:"samlMa-2",attrs:{color:"secondary","data-test":"saml-policy-active-switch"},scopedSlots:e._u([{key:"label",fn:function(){return[a("evergreen-span",{staticClass:"samlMt-2 black-text",attrs:{type:"body-1",label:e.$t("pages.organizations.security.ssoSetup.activeSwitch")}})]},proxy:!0}]),model:{value:e.active,callback:function(t){e.active=t},expression:"active"}}),e._v(" "),a("v-card",{staticClass:"samlMa-2",attrs:{flat:"",outlined:""}},[a("v-card-text",{staticClass:"samlMy-0 samlPy-0"},[a("v-row",[a("v-col",{staticClass:"samlMt-1 samlPb-0",attrs:{cols:"6"}},[a("evergreen-span",{staticClass:"black-text",attrs:{type:"h6",label:this.$t("pages.organizations.security.ssoSetup.idpFileHeader")}})],1),e._v(" "),a("v-spacer"),e._v(" "),a("v-col",{staticClass:"samlPb-0 samlMr-3",attrs:{cols:"3"}},[a("v-tooltip",{attrs:{bottom:"",activator:".evergreen-file-input .theme--light.v-icon"}},[e._v("\n                    "+e._s(this.$t("pages.organizations.security.ssoSetup.updateFileButtonTooltip"))+"\n                  ")]),e._v(" "),a("v-file-input",{ref:"metadata",staticClass:"samlMy-0 samlPy-0 black-text evergreen-file-input",attrs:{color:"secondary",flat:"","hide-details":"","single-line":"",id:"metadata-input","prepend-icon":"mdi-upload",label:this.$t("pages.organizations.security.ssoSetup.updateFileButton"),"data-test":"configure-saml-metadata-file",name:"metadata",accept:".xml","truncate-length":"40"},on:{change:function(t){return e.selectMetadataFile(t)}}})],1)],1)],1),e._v(" "),a("v-divider"),e._v(" "),a("v-card-text",{staticClass:"samlMt-0 samlPt-0"},[a("v-row",[a("v-col",{staticClass:"samlPy-1",attrs:{cols:"3"}},[a("evergreen-span",{attrs:{type:"body-2",label:this.$t("pages.organizations.security.ssoSetup.idpUrl")}})],1),e._v(" "),a("v-col",{staticClass:"samlPy-1",attrs:{cols:"9"}},[a("evergreen-span",{staticClass:"black-text",attrs:{type:"body-2","data-test":"idp-url-label",label:e.idpUrl}})],1)],1),e._v(" "),a("v-row",[a("v-col",{staticClass:"samlPy-1",attrs:{cols:"3"}},[a("evergreen-span",{attrs:{type:"body-2",label:this.$t("pages.organizations.security.ssoSetup.idpIssuer")}})],1),e._v(" "),a("v-col",{staticClass:"samlPy-1",attrs:{cols:"9"}},[a("evergreen-span",{staticClass:"black-text",attrs:{type:"body-2","data-test":"idp-issuer-label",label:e.idpIssuer}})],1)],1),e._v(" "),a("v-row",[a("v-col",{staticClass:"samlPy-1",attrs:{cols:"3"}},[a("evergreen-span",{attrs:{type:"body-2",label:this.$t("pages.organizations.security.ssoSetup.idpCertificate")}})],1),e._v(" "),a("v-col",{staticClass:"samlPy-1",attrs:{cols:"9"}},[e.idpCert?a("span",{staticClass:"black-text",attrs:{"data-test":"idp-certificate-label"}},[e._t("default",(function(){return[e._v(e._s(e.isExpanded?e.idpCert:e.idpCert.slice(0,155)+"..."))]})),e._v(" "),e.isExpanded?a("evergreen-text-button",{attrs:{label:this.$t("common.form.less"),"x-small":""},nativeOn:{click:function(t){e.isExpanded=!e.isExpanded}}}):a("evergreen-text-button",{attrs:{label:"more","x-small":""},nativeOn:{click:function(t){e.isExpanded=!e.isExpanded}}})],2):e._e()])],1)],1)],1),e._v(" "),a("v-card",{staticClass:"samlPt-2 samlPb-0",attrs:{flat:""}},[a("v-card-text",[a("v-row",[a("evergreen-span",{staticClass:"black-text samlPl-2",attrs:{type:"h6",label:this.$t("pages.organizations.security.ssoSetup.spMetadataHeader")}})],1),e._v(" "),a("v-row",{staticClass:"samlMt-1 samlMb-0"},[a("v-tooltip",{attrs:{bottom:"","nudge-top":"15"},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-icon",e._g({attrs:{color:"secondary",dark:"","data-test":"sp-metadata-download-icon"},on:{click:function(t){return e.downloadSamlMetadata()}}},s),[e._v("mdi-download")])]}}])},[e._v(" "),a("span",[e._v(e._s(this.$t("pages.organizations.security.ssoSetup.spMetadataButtonTooltip")))])]),e._v(" "),a("evergreen-text-button",{staticClass:"sp-metadata-button samlMl-2 pcc-body-1",attrs:{"data-test":"sp-metadata-download-button",label:this.$t("pages.organizations.security.ssoSetup.spMetadataButton")},nativeOn:{click:function(t){return e.downloadSamlMetadata()}}})],1)],1)],1)],1)],1)],1)],1),e._v(" "),a("v-card",{staticClass:"panel"},[a("v-card-text",[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{staticClass:"samlPt-2 samlMt-2",attrs:{cols:"3"}},[a("evergreen-span",{attrs:{type:"h4",label:this.$t("pages.organizations.security.ssoSetup.domainsHeader")}})],1),e._v(" "),a("v-col",{attrs:{cols:"6"}},[a("domains-list",{attrs:{domains:e.domains},on:{domainsUpdated:e.domainsUpdated}})],1),e._v(" "),a("v-col",{attrs:{cols:"3"}})],1)],1)],1),e._v(" "),a("v-card",{staticClass:"panel"},[a("v-card-text",[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{staticClass:"samlPt-2 samlMt-2",attrs:{cols:"3"}},[a("evergreen-span",{attrs:{type:"h4",label:e.$t("pages.organizations.security.ssoSetup.jitHeader")}})],1),e._v(" "),a("v-col",{staticClass:"samlPt-0 samlMt-0",attrs:{cols:"9"}},[a("v-switch",{staticClass:"samlMa-4",attrs:{color:"secondary","data-test":"saml-edit-jit-input"},model:{value:e.jit,callback:function(t){e.jit=t},expression:"jit"}})],1)],1),e._v(" "),a("v-row",{staticClass:"samlPr-6 samlPb-4",attrs:{justify:"end"}},[a("evergreen-contained-button",{staticClass:"samlMl-6",attrs:{disabled:!e.enableSave()||e.isProcessing,"data-test":"saml-edit-save-button",label:e.$t("common.form.save")},nativeOn:{click:function(t){return e.onSubmit.apply(null,arguments)}}})],1)],1)],1)],1)}),[],!1,Sn,"data-v-d056873a",null),An=kn.exports;function On(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function Un(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?On(Object(a),!0).forEach((function(t){gt()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):On(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ln={components:{"evergreen-span":ot.a,"evergreen-outlined-button":vt.a,"evergreen-contained-button":ft.a},data:function(){return{hasEdit:!1,inputErrors:null,orgId:null,colsSize:5,leftColSize:5,rightColSize:7,panel:[0,1,2],showLoading:!1,dialog:!1,minLength:8,minLowerCase:!1,minUpperCase:!1,minNumber:!1,minSymbol:!1,excludeUserName:!0,excludeFirstName:!0,excludeLastName:!0,ageHistoryCount:0,lockOutMaxAttempts:10,recoveryEnabled:!0,tokenLifeTime:3,pwdPolicy:null,expiry:0,history:0,disableSaveButton:!1,endPointPwdPolicy:"".concat(Object(z.getFacadeConfig)("production"),"/password-policies/"),isExpireEnable:!1,isPwdExpiryEnable:!1,expiryOptions:[{value:30,text:"30 days"},{value:60,text:"60 days"},{value:90,text:"90 days"},{value:120,text:"120 days"},{value:180,text:"180 days"},{value:365,text:"365 days"}],userMaxExpiryInDays:0,recoveryType:""}},computed:Un(Un({},Object(tn.b)({selectedOrg:"globalContext/globalOrg"})),{},{isErrorPresent:function(){return!!(this.inputErrors&&Object.keys(this.inputErrors).length>0)},org:function(){return this.$store.get("globalContext/globalOrg")},isEmailRecovery:function(){return this.recoveryEnabled&&"Email"==this.recoveryType},isPvqRecovery:function(){return this.recoveryEnabled&&"PVQ"==this.recoveryType}}),methods:{isEditPresent:function(){var e=parseInt(this.minLength,10)!==this.pwdPolicy.complexity.minLength||this.minLowerCase!==this.pwdPolicy.complexity.minLowerCase||this.minUpperCase!==this.pwdPolicy.complexity.minUpperCase||this.minNumber!==this.pwdPolicy.complexity.minNumber||this.minSymbol!==this.pwdPolicy.complexity.minSymbol||this.excludeUserName!==this.pwdPolicy.complexity.excludeUserName||this.excludeFirstName!==this.pwdPolicy.complexity.excludeFirstName||this.excludeLastName!==this.pwdPolicy.complexity.excludeLastName||parseInt(this.ageHistoryCount,10)!==this.pwdPolicy.age.historyCount||parseInt(this.lockOutMaxAttempts,10)!==this.pwdPolicy.lockout.maxAttempts||this.isEmailRecovery!==this.pwdPolicy.recovery.email.active||this.isPvqRecovery!==this.pwdPolicy.recovery.emailAndPvqs.active||parseInt(this.tokenLifeTime,10)!==this.pwdPolicy.recovery.email.tokenLifetimeMinutes||parseInt(this.expiry,10)!==this.pwdPolicy.expiry.days||this.isExpireEnable!==this.selectedOrg.expireUsers;return e?this.$root.$emit("unsavedChanges"):this.$root.$emit("changesSaved"),this.hasEdit=e,e},loadPolicy:function(){var e=this;return o()(l.a.mark((function t(){var a,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setLoading(!0),t.prev=1,t.next=4,E.a.getPasswordPolicy(e.orgId);case 4:a=t.sent,e.pwdPolicy=a.data,e.assignPolicyToFields(),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),s=e.getErrorMessage(["response","data","errors",0,"title"],t.t0)||t.t0.message,e.displayNotification("error",s);case 13:e.setLoading(!1);case 14:case"end":return t.stop()}}),t,null,[[1,9]])})))()},assignPolicyToFields:function(){this.minLength=this.pwdPolicy.complexity.minLength,this.minLowerCase=this.pwdPolicy.complexity.minLowerCase,this.minUpperCase=this.pwdPolicy.complexity.minUpperCase,this.minNumber=this.pwdPolicy.complexity.minNumber,this.minSymbol=this.pwdPolicy.complexity.minSymbol,this.excludeUserName=this.pwdPolicy.complexity.excludeUserName,this.excludeFirstName=this.pwdPolicy.complexity.excludeFirstName,this.excludeLastName=this.pwdPolicy.complexity.excludeLastName,this.ageHistoryCount=this.pwdPolicy.age.historyCount,this.lockOutMaxAttempts=this.pwdPolicy.lockout.maxAttempts,this.permanentLockout=this.pwdPolicy.lockout.permanent,this.recoveryEnabled=this.pwdPolicy.recovery.email.active||this.pwdPolicy.recovery.emailAndPvqs.active,this.tokenLifeTime=this.pwdPolicy.recovery.email.tokenLifetimeMinutes,this.expiry=this.pwdPolicy.expiry.days,this.isExpireEnable=this.selectedOrg.expireUsers,this.excludeFirstName=this.pwdPolicy.complexity.excludeFirstName,this.excludeLastName=this.pwdPolicy.complexity.excludeLastName,this.isPwdExpiryEnable=0!==this.pwdPolicy.expiry.days,this.recoveryEnabled?this.recoveryType=this.pwdPolicy.recovery.email.active?"Email":"PVQ":this.recoveryType=""},onSave:function(){var e=this;return o()(l.a.mark((function t(){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.disableSaveButton=!0,t.prev=1,t.next=4,E.a.updatePasswordPolicy(e.orgId,e.assignFieldsToPolicy());case 4:return e.displayNotification("success","Policy updated"),t.next=7,e.loadPolicy();case 7:t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),a=e.getErrorMessage(["response","data","errors",0,"title"],t.t0)||t.t0.message,e.displayNotification("error",a);case 13:e.disableSaveButton=!1;case 14:case"end":return t.stop()}}),t,null,[[1,9]])})))()},assignFieldsToPolicy:function(){return{complexity:{minLength:this.minLength,minLowerCase:this.minLowerCase,minUpperCase:this.minUpperCase,minNumber:this.minNumber,minSymbol:this.minSymbol,excludeUserName:this.excludeUserName,excludeFirstName:this.excludeFirstName,excludeLastName:this.excludeLastName},age:{historyCount:this.ageHistoryCount},lockout:{maxAttempts:this.lockOutMaxAttempts,permanent:this.pwdPolicy.lockout.permanent},expiry:{days:this.expiry},recovery:{email:{active:this.isEmailRecovery,tokenLifetimeMinutes:this.tokenLifeTime},emailAndPvqs:{active:this.isPvqRecovery,tokenLifetimeMinutes:this.tokenLifeTime}}}},onResetPolicy:function(){var e=this;return o()(l.a.mark((function t(){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.dialog=!1,e.setLoading(!0),t.prev=2,t.next=5,E.a.deleteOrgPasswordPolicy(e.orgId);case 5:e.isExpireEnable=!1,e.displayNotification("success","Policy reset to default"),e.inputErrors=null,t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),a=e.getErrorMessage(["response","data","errors",0,"title"],t.t0)||t.t0.message,e.displayNotification("error",a);case 14:e.setLoading(!1),e.loadPolicy();case 16:case"end":return t.stop()}}),t,null,[[2,10]])})))()},setLoading:function(e){this.showLoading=e},inputNumberValidate:function(e){var t=this.inputErrors,a=e.target.name,s=e.target.value,n=e.target.hasAttribute("required")?e.target.getAttribute("data-vv-as"):a,r=Number(e.target.getAttribute("min")),o=Number(e.target.getAttribute("max")),i=e.target.hasAttribute("required"),l=s.length<=0;!["expiry"].includes(a)||"0"!==s&&0!==s||""===s?(s&&Number(s)>o?t=Un(Un({},t),{},gt()({},a,"The ".concat(n," field must be ").concat(o," or less"))):s&&s<0?t=Un(Un({},t),{},gt()({},a,"The ".concat(n," field may only contain numeric characters."))):s&&Number(s)<r?t=Un(Un({},t),{},gt()({},a,"The ".concat(n," field must be ").concat(r," or more"))):l&&i?t=Un(Un({},t),{},gt()({},a,"This field is required")):delete(t=Un(Un({},t),{},gt()({},a,"")))[a],this.inputErrors=t):(delete(t=Un(Un({},t),{},gt()({},a,"")))[a],this.inputErrors=t)}},created:function(){this.orgId=this.$store.get("globalContext/globalOrg").id},mounted:function(){this.orgId&&this.loadPolicy()},updated:function(){this.isEditPresent()},watch:{idzType:function(){this.loadPolicy()},selectedOrg:function(){this.orgId=this.selectedOrg.id},isPwdExpiryEnable:function(){this.isPwdExpiryEnable||(this.expiry=0),this.isPwdExpiryEnable&&0===Number(this.expiry)&&(this.expiry=30)},expiry:function(){0===Number(this.expiry)&&""!==this.expiry?this.isPwdExpiryEnable=!1:this.isPwdExpiryEnable=!0},org:function(e,t){e&&e.id!==t.id&&this.loadPolicy()}},$_veeValidate:{validator:"new"}};var Nn=function(e){a("0Ccq"),a("ZvQn")},Pn=Object(lt.a)(Ln,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-overlay",{attrs:{value:e.showLoading,opacity:"0",absolute:!0}},[a("v-progress-circular",{staticClass:"evergreen-spinner",attrs:{indeterminate:""}})],1),e._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"31.25rem"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("evergreen-span",{attrs:{type:"h4-light",label:e.$t("pages.identityzone.passwordPolicyTab.warningResetTitle")}})],1),e._v(" "),a("v-card-text",[a("evergreen-span",{attrs:{type:"body-1",label:e.$t("pages.identityzone.passwordPolicyTab.warningResetText")}})],1),e._v(" "),a("v-card-actions",[a("v-container",[a("v-row",{staticClass:"pr-6",attrs:{dense:"",justify:"end"}},[a("evergreen-outlined-button",{attrs:{label:e.$t("pages.identityzone.form.no"),"data-test":"organization-policy-reset-cancel-button"},nativeOn:{click:function(t){e.dialog=!1}}}),e._v(" "),a("evergreen-contained-button",{staticClass:"ml-6",attrs:{label:e.$t("pages.identityzone.form.yes"),"data-test":"organization-policy-reset-confirm-button"},nativeOn:{click:function(t){return e.onResetPolicy.apply(null,arguments)}}})],1)],1)],1)],1)],1),e._v(" "),a("v-card",{staticClass:"panel panel-edit-password-policy"},[a("v-card-text",[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{staticClass:"panel-label",attrs:{cols:e.leftColSize}},[a("evergreen-span",{attrs:{type:"h4",label:e.$t("pages.organizations.security.passwordPolicy.title"),"data-test":"securityPasswordPolicy"}})],1),e._v(" "),a("v-col",{staticClass:"panel-value",attrs:{cols:e.rightColSize}},[a("div",{staticClass:"pswrdPolicyMb"},[a("div",{staticClass:"d-flex align-center"},[a("evergreen-span",{attrs:{type:"body-2",label:e.$t("pages.organizations.security.passwordPolicy.MinimumPasswordLength")}}),e._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.minLength,expression:"minLength"},{name:"validate",rawName:"v-validate",value:"required|numeric|min_value:8|max_value:64",expression:"'required|numeric|min_value:8|max_value:64'"}],staticClass:"custom-input-number",attrs:{type:"number",name:"minLength",max:"64",min:"8","data-vv-as":"password length",required:"","data-test":"organization-policy-length-input"},domProps:{value:e.minLength},on:{input:function(t){t.target.composing||(e.minLength=t.target.value)}}})])],1),e._v(" "),e.errors&&e.errors.first("minLength")?a("evergreen-span",{staticClass:"error-label",attrs:{type:"body-2"}},[e._v(e._s(e.errors.first("minLength")))]):e._e()],1),e._v(" "),a("div",{staticClass:"pswrdPolicyMb"},[a("div",{staticClass:"d-flex align-center"},[a("evergreen-span",{attrs:{type:"body-2",label:e.$t("pages.organizations.security.passwordPolicy.PasswordHistory")}}),e._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.ageHistoryCount,expression:"ageHistoryCount"},{name:"validate",rawName:"v-validate",value:"required|numeric|min_value:-1|max_value:12",expression:"'required|numeric|min_value:-1|max_value:12'"}],staticClass:"custom-input-number",attrs:{type:"number",name:"ageHistoryCount",max:"12",min:"-1",required:"","data-vv-as":"password age","data-test":"organization-policy-history-input"},domProps:{value:e.ageHistoryCount},on:{input:function(t){t.target.composing||(e.ageHistoryCount=t.target.value)}}})])],1),e._v(" "),e.errors&&e.errors.first("ageHistoryCount")?a("evergreen-span",{staticClass:"error-label",attrs:{type:"body-2"}},[e._v(e._s(e.errors.first("ageHistoryCount")))]):e._e()],1),e._v(" "),a("div",{staticClass:"pswrdPolicyMb"},[a("div",{staticClass:"d-flex align-center "},[a("evergreen-span",{attrs:{type:"body-2",label:e.$t("pages.organizations.security.passwordPolicy.LockAfterUnsuccessfulPasswordAttempts")}}),e._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.lockOutMaxAttempts,expression:"lockOutMaxAttempts"},{name:"validate",rawName:"v-validate",value:"required|numeric|min_value:-1|max_value:20",expression:"'required|numeric|min_value:-1|max_value:20'"}],staticClass:"custom-input-number",attrs:{type:"number",name:"lockOutMaxAttempts",max:"20",min:"-1",required:"","data-vv-as":"attempts","data-test":"organization-policy-attempts-input"},domProps:{value:e.lockOutMaxAttempts},on:{input:function(t){t.target.composing||(e.lockOutMaxAttempts=t.target.value)}}})])],1),e._v(" "),e.errors&&e.errors.first("lockOutMaxAttempts")?a("evergreen-span",{staticClass:"error-label",attrs:{type:"body-2"}},[e._v(e._s(e.errors.first("lockOutMaxAttempts")))]):e._e()],1),e._v(" "),a("div",{staticClass:"panel-value__block"},[a("div",{staticClass:"pwdRulesMargin"},[a("evergreen-span",{staticClass:"text-black",attrs:{type:"body-1",label:e.$t("pages.organizations.security.passwordPolicy.PasswordRules")}})],1),e._v(" "),a("v-switch",{attrs:{color:"secondary","data-test":"organization-policy-lower-case-switch"},scopedSlots:e._u([{key:"label",fn:function(){return[a("evergreen-span",{attrs:{type:"body-2",label:e.$t("pages.organizations.security.passwordPolicy.lowerCaseField")}})]},proxy:!0}]),model:{value:e.minLowerCase,callback:function(t){e.minLowerCase=t},expression:"minLowerCase"}}),e._v(" "),a("v-switch",{attrs:{color:"secondary","data-test":"organization-policy-upper-case-switch"},scopedSlots:e._u([{key:"label",fn:function(){return[a("evergreen-span",{attrs:{type:"body-2",label:e.$t("pages.organizations.security.passwordPolicy.upperCaseField")}})]},proxy:!0}]),model:{value:e.minUpperCase,callback:function(t){e.minUpperCase=t},expression:"minUpperCase"}}),e._v(" "),a("v-switch",{attrs:{color:"secondary","data-test":"organization-policy-number-switch"},scopedSlots:e._u([{key:"label",fn:function(){return[a("evergreen-span",{attrs:{type:"body-2",label:e.$t("pages.organizations.security.passwordPolicy.numberField")}})]},proxy:!0}]),model:{value:e.minNumber,callback:function(t){e.minNumber=t},expression:"minNumber"}}),e._v(" "),a("v-switch",{attrs:{color:"secondary","data-test":"organization-policy-symbol-switch"},scopedSlots:e._u([{key:"label",fn:function(){return[a("evergreen-span",{attrs:{type:"body-2",label:e.$t("pages.organizations.security.passwordPolicy.symbolField")}})]},proxy:!0}]),model:{value:e.minSymbol,callback:function(t){e.minSymbol=t},expression:"minSymbol"}}),e._v(" "),a("v-switch",{attrs:{color:"secondary","data-test":"organization-policy-username-switch"},scopedSlots:e._u([{key:"label",fn:function(){return[a("evergreen-span",{attrs:{type:"body-2",label:e.$t("pages.organizations.security.passwordPolicy.usernameField")}})]},proxy:!0}]),model:{value:e.excludeUserName,callback:function(t){e.excludeUserName=t},expression:"excludeUserName"}}),e._v(" "),a("v-switch",{attrs:{color:"secondary","data-test":"organization-policy-first-name-switch"},scopedSlots:e._u([{key:"label",fn:function(){return[a("evergreen-span",{attrs:{type:"body-2",label:e.$t("pages.organizations.security.passwordPolicy.firstNameField")}})]},proxy:!0}]),model:{value:e.excludeFirstName,callback:function(t){e.excludeFirstName=t},expression:"excludeFirstName"}}),e._v(" "),a("v-switch",{attrs:{color:"secondary","data-test":"organization-policy-last-name-switch"},scopedSlots:e._u([{key:"label",fn:function(){return[a("evergreen-span",{attrs:{type:"body-2",label:e.$t("pages.organizations.security.passwordPolicy.lastNameField")}})]},proxy:!0}]),model:{value:e.excludeLastName,callback:function(t){e.excludeLastName=t},expression:"excludeLastName"}})],1)])],1)],1)],1),e._v(" "),a("v-card",{staticClass:"panel  panel-edit-password-policy"},[a("v-card-text",[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{staticClass:"panel-label",attrs:{cols:e.leftColSize}},[a("evergreen-span",{attrs:{type:"h4",label:e.$t("pages.organizations.security.passwordPolicy.passwordExpiration")}})],1),e._v(" "),a("v-col",{staticClass:"panel-value",attrs:{cols:e.rightColSize}},[a("div",{staticClass:"pswrdPolicyMb2"},[a("v-switch",{attrs:{color:"secondary","data-test":"organization-policy-pswrdExpiration-switch",disabled:e.inputErrors&&e.inputErrors.expiry},model:{value:e.isPwdExpiryEnable,callback:function(t){e.isPwdExpiryEnable=t},expression:"isPwdExpiryEnable"}}),e._v(" "),e.isPwdExpiryEnable?a("div",{staticClass:"d-flex align-center"},[a("evergreen-span",{attrs:{type:"body-2",label:e.$t("pages.identityzone.passwordPolicyTab.pswrdExpiryField")}}),e._v(" "),a("div",{staticClass:"relative token-input token-input--days"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.expiry,expression:"expiry"}],staticClass:"custom-input-number",class:e.inputErrors&&e.inputErrors.expiry?"error":"",attrs:{type:"number",name:"expiry",max:"180",min:"30",required:"","data-vv-as":"password expiry","data-test":"organization-policy-days-until-password-expires"},domProps:{value:e.expiry},on:{change:e.inputNumberValidate,keyup:e.inputNumberValidate,invalid:e.inputNumberValidate,blur:e.inputNumberValidate,input:function(t){t.target.composing||(e.expiry=t.target.value)}}}),e._v(" "),a("evergreen-span",{staticClass:"absolute token-label",attrs:{type:"body-2",label:e.$t("pages.organizations.security.passwordPolicy.days")}})],1)],1):e._e(),e._v(" "),e.inputErrors&&e.inputErrors.expiry?a("evergreen-span",{staticClass:"error-label",attrs:{type:"body-2"}},[e._v(e._s(e.inputErrors.expiry))]):e._e()],1)])],1)],1)],1),e._v(" "),a("v-card",{staticClass:"panel d-none"},[a("v-card-text",[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{staticClass:"panel-label",attrs:{cols:e.leftColSize}},[a("evergreen-span",{attrs:{type:"h4",label:e.$t("pages.organizations.security.passwordPolicy.inactiveAccountPolicy")}})],1),e._v(" "),a("v-col",{staticClass:"panel-value",attrs:{cols:e.rightColSize}},[a("v-switch",{attrs:{color:"secondary","data-test":"organization-lower-case-switch"},model:{value:e.isExpireEnable,callback:function(t){e.isExpireEnable=t},expression:"isExpireEnable"}}),e._v(" "),e.isExpireEnable?a("div",[a("v-row",{attrs:{dense:""}},[a("evergreen-span",{staticClass:"lockInactive",attrs:{align:"baseline",type:"body-2",label:e.$t("pages.organizations.profile.lockInactiveAccounts")}}),e._v(" "),a("v-col",{staticClass:"orgPT-0",attrs:{cols:3}},[a("v-select",{staticClass:"expiryDropdown expiryDropdown-1",attrs:{id:"expire-users-dropdown-1",items:e.expiryOptions,"data-test":"org-expiryOptions-input",solo:"",height:"24px",width:"90px"},model:{value:e.userMaxExpiryInDays,callback:function(t){e.userMaxExpiryInDays=t},expression:"userMaxExpiryInDays"}})],1)],1)],1):e._e()],1)],1)],1)],1),e._v(" "),a("v-card",{staticClass:"panel  panel-edit-password-policy panel--no-border",attrs:{flat:""}},[a("v-card-text",[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{staticClass:"panel-label",attrs:{cols:e.leftColSize}},[a("evergreen-span",{attrs:{type:"h4",label:e.$t("pages.organizations.security.passwordPolicy.accountRecovery")}})],1),e._v(" "),a("v-col",{staticClass:"panel-value",attrs:{cols:e.rightColSize}},[a("div",{staticClass:"pswrdPolicyMb2"},[a("v-switch",{attrs:{color:"secondary","data-test":"organization-policy-email-switch",disabled:e.errors&&e.errors.first("tokenLifeTime")},model:{value:e.recoveryEnabled,callback:function(t){e.recoveryEnabled=t},expression:"recoveryEnabled"}}),e._v(" "),e.recoveryEnabled?a("v-row",[a("v-radio-group",{model:{value:e.recoveryType,callback:function(t){e.recoveryType=t},expression:"recoveryType"}},[a("v-radio",{attrs:{label:e.$t("pages.organizations.security.passwordPolicy.EmailRadio"),value:"Email","data-test":"organization-policy-email-radio"}}),e._v(" "),a("v-radio",{attrs:{label:e.$t("pages.organizations.security.passwordPolicy.EmailAndPvqRadio"),value:"PVQ","data-test":"organization-policy-pvq-radio"}})],1)],1):e._e(),e._v(" "),e.recoveryEnabled?a("v-row",[a("evergreen-span",{attrs:{type:"body-2",label:e.$t("pages.identityzone.passwordPolicyTab.resetTimeField")}}),e._v(" "),a("div",{staticClass:"relative token-input "},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.tokenLifeTime,expression:"tokenLifeTime"},{name:"validate",rawName:"v-validate",value:"required|numeric|min_value:15|max_value:240",expression:"'required|numeric|min_value:15|max_value:240'"}],staticClass:"custom-input-number",attrs:{type:"number",name:"tokenLifeTime",max:"240",min:"15","data-vv-as":"periods","data-test":"organization-policy-recovery-valid-input",required:""},domProps:{value:e.tokenLifeTime},on:{input:function(t){t.target.composing||(e.tokenLifeTime=t.target.value)}}}),e._v(" "),a("evergreen-span",{staticClass:"absolute token-label",attrs:{type:"body-2",label:e.$t("pages.organizations.security.passwordPolicy.minutes")}})],1)],1):e._e(),e._v(" "),e.errors&&e.errors.first("tokenLifeTime")?a("evergreen-span",{staticClass:"error-label",attrs:{type:"body-2"}},[e._v(e._s(e.errors.first("tokenLifeTime")))]):e._e()],1)])],1)],1)],1),e._v(" "),a("div",{staticClass:"panel  panel-edit-password-policy panel--no-border"},[a("v-row",{attrs:{justify:"end"}},[a("evergreen-outlined-button",{attrs:{label:e.$t("pages.identityzone.passwordPolicyTab.resetButtonLabel"),"data-test":"organization-policy-reset-button"},nativeOn:{click:function(t){e.dialog=!0}}}),e._v(" "),a("evergreen-contained-button",{staticClass:"saveButtonMargin",attrs:{disabled:!e.hasEdit||e.isErrorPresent||0!==e.errors.items.length,label:e.$t("pages.identityzone.passwordPolicyTab.saveButtonLabel"),"data-test":"organization-policy-save-button"},nativeOn:{click:function(t){return e.onSave.apply(null,arguments)}}})],1)],1)],1)}),[],!1,Nn,"data-v-2c73cd92",null),Mn=Pn.exports,In=a("EWJj");var Tn=function(e){a("sJct"),a("Kw7P")},$n=Object(lt.a)(In.a,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-overlay",{attrs:{value:e.showLoading,opacity:"0",absolute:!0}},[a("v-progress-circular",{staticClass:"evergreen-spinner",attrs:{indeterminate:""}})],1),e._v(" "),a("v-card",{staticClass:"panel"},[a("v-card-text",[a("v-row",{class:e.mfaMinHeight},[a("v-col",{attrs:{cols:"4"}},[a("evergreen-span",{attrs:{type:"h6",label:e.$t("pages.mfa.mfaAuthentication"),"data-test":"mfaOrgTitle"}})],1),e._v(" "),a("v-col",{attrs:{cols:"7"}},[a("v-form",{on:{submit:function(e){e.preventDefault()}}},[a("v-switch",{staticClass:"mfa-enable-switch",attrs:{"true-value":"ENABLED","false-value":"DISABLED",color:"secondary","hide-details":"","data-test":"mfa-enabled-switch"},on:{change:e.mfaSwitchChangeHandler},model:{value:e.mfaEnabled,callback:function(t){e.mfaEnabled=t},expression:"mfaEnabled"}}),e._v(" "),a("v-row",{staticClass:"ma-0-rem mfa-radio-button"},["DISABLED"!=e.mfaEnabled?a("v-radio-group",{staticClass:"mfa-radio-group",attrs:{"data-test":"mfa-authentication-options"},on:{change:e.mfaRadioChangeHandler},model:{value:e.mfaFields.mfaStatus,callback:function(t){e.$set(e.mfaFields,"mfaStatus",t)},expression:"mfaFields.mfaStatus"}},e._l(e.availableMfaRadiobuttonOptions,(function(e){return a("v-radio",{key:e.enum,attrs:{label:e.displayName,value:e.enum,"data-test":"mfa-authentication-option-"+e.enum}})})),1):e._e()],1),e._v(" "),e.shouldDisplayRoles?a("v-row",[a("v-col",{staticClass:"pt-0 pb-0 mfa-roles-dropdown",staticStyle:{width:"60rem"}},[a("v-autocomplete",{ref:"editRolesAutocomplete",attrs:{"menu-props":{maxHeight:500},items:e.listOfEditOrgRoles,label:e.$t("pages.mfa.mfaRoles")+" *",name:"roles","item-color":"secondary","data-test":"mfa-roles-dropdown",chips:"","deletable-chips":"","small-chips":"",multiple:"",outlined:""},on:{change:function(t){return e.updateRoles(t)}},scopedSlots:e._u([{key:"prepend-item",fn:function(){return[a("v-card",{staticClass:"card-list"},[a("v-list-item",{staticClass:"roleSelectAll",on:{click:e.addEditRolesToggle}},[a("v-list-item-action",[a("v-icon",[e._v("\n                      "+e._s(e.getEditRolesToggleIcon)+"\n                    ")])],1),e._v(" "),a("v-list-item-content",[a("v-list-item-title",{staticClass:"selectAllTitle"},[a("evergreen-span",{attrs:{label:e.$t("pages.mfa.selectAll"),type:"body-2"}})],1)],1)],1)],1)]},proxy:!0}],null,!1,3892989418),model:{value:e.selectedEditOrgRoles,callback:function(t){e.selectedEditOrgRoles=t},expression:"selectedEditOrgRoles"}})],1)],1):e._e()],1)],1)],1)],1)],1),e._v(" "),this.isFeatureOn("iam_mfa_frequency_enabled")&&"ENABLED"===e.mfaEnabled?a("v-card",{staticClass:"panel--no-border panel-mfa-frequency",attrs:{flat:""}},[a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("evergreen-span",{attrs:{type:"h6",label:e.$t("pages.mfa.mfaFrequency"),"data-test":"mfaFrequencyTitle"}})],1),e._v(" "),a("v-col",{attrs:{cols:"7"}},[a("v-row",{staticClass:"ma-0-rem mfa-radio-button"},[a("v-radio-group",{staticClass:"mfa-radio-group",attrs:{"data-test":"mfa-frequency-selection"},on:{change:e.mfaFrequencyChangeHandler},model:{value:e.mfaFrequencySelected,callback:function(t){e.mfaFrequencySelected=t},expression:"mfaFrequencySelected"}},[a("v-radio",{attrs:{label:e.$t("pages.mfa.mfaFrequencyOptions.everyLogin"),value:"0","data-test":"mfa-frequency-every-login-radio"}}),e._v(" "),a("v-radio",{attrs:{value:"1","data-test":"mfa-frequency-set-frequency-radio"},scopedSlots:e._u([{key:"label",fn:function(){return[e._v("\n                        "+e._s(e.$t("pages.mfa.mfaFrequencyOptions.customFrequency"))+"\n                        "),a("v-tooltip",{attrs:{right:"","nudge-bottom":"90","nudge-left":"15","content-class":"tooltip"},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on,n=t.attrs;return[a("v-icon",e._g(e._b({staticClass:"mdi mdi-information",staticStyle:{"margin-left":"0.5rem"}},"v-icon",n,!1),s))]}}],null,!1,3936268140)},[e._v(" "),a("pre",[a("evergreen-span",{staticClass:"mfa-frequency-tooltip-text",attrs:{type:"body-2",label:e.$t("pages.mfa.mfaCustomFrequencyToolTip.title")}})],1),e._v(" "),a("ul",[a("li",[a("evergreen-span",{staticClass:"mfa-frequency-tooltip-text",attrs:{type:"body-2",label:e.$t("pages.mfa.mfaCustomFrequencyToolTip.info_1")}})],1),e._v(" "),a("li",[a("evergreen-span",{staticClass:"mfa-frequency-tooltip-text",attrs:{type:"body-2",label:e.$t("pages.mfa.mfaCustomFrequencyToolTip.info_2")}})],1)])])]},proxy:!0}],null,!1,3509393086)})],1)],1),e._v(" "),"1"==e.mfaFrequencySelected?a("v-row",{staticClass:"mfa-frequency-input-panel"},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min_value:1|max_value:24",expression:"'required|min_value:1|max_value:24'"}],ref:"frequencyField",staticClass:"shrink mfa-frequency-input",attrs:{dense:"",type:"number","data-test":"mfa-frequency-input",label:this.$t("pages.mfa.mfaFrequencyLabel"),outlined:"",max:"24",min:"1",name:"mfaFrequency",hint:this.$t("pages.mfa.mfaFrequencyHint"),"persistent-hint":"","error-messages":e.errors.first("mfaFrequency"),success:!e.errors.has("mfaFrequency")},on:{change:e.changesNotSaved},model:{value:e.mfaFields.mfaFrequency,callback:function(t){e.$set(e.mfaFields,"mfaFrequency",t)},expression:"mfaFields.mfaFrequency"}})],1):e._e()],1)],1)],1)],1):e._e(),e._v(" "),"ENABLED_FOR_ALL_USERS"!==this.mfaFields.mfaStatus&&e.isFeatureOn("iam_mfa_ip_check")&&"ENABLED"===this.mfaEnabled?a("v-card",{staticClass:"panel-mfa-frequency"},[a("v-card-text",[a("v-row",{class:e.mfaMinHeight},[a("v-col",{staticClass:"mt-2-rem",attrs:{cols:"4"}},[a("evergreen-span",{attrs:{type:"h6",label:e.$t("pages.mfa.mfaIpCheck"),"data-test":"mfaIpTitle"}})],1),e._v(" "),a("v-col",{staticClass:"pt-0 mt-0",attrs:{cols:"7"}},[a("v-form",{on:{submit:function(e){e.preventDefault()}}},[a("v-switch",{staticClass:"mfa-enable-switch",attrs:{color:"secondary","hide-details":"","data-test":"mfa-ip-mask-switch"},on:{change:e.mfaIpCheckSwitchChangeHandler},model:{value:e.mfaFields.mfaIgnoreIpMaskCheck,callback:function(t){e.$set(e.mfaFields,"mfaIgnoreIpMaskCheck",t)},expression:"mfaFields.mfaIgnoreIpMaskCheck"}})],1)],1)],1)],1)],1):e._e(),e._v(" "),a("v-card",{staticClass:"panel",attrs:{flat:""}},[a("v-card-text",[a("v-row",["ENABLED"===e.mfaEnabled?a("v-col",{staticClass:"terms-accepted"},[a("v-col",{staticClass:"mfa-terms-accepted"},[a("evergreen-span",{staticClass:"terms-accepted-by",attrs:{type:"body-2",label:e.$t("pages.mfa.termsAcceptedBy"),"data-test":"terms-accepted-by"}}),e._v(" "),a("evergreen-span",{attrs:{type:"body-2",label:e.mfaConfiguration.termsAcceptedBy?e.mfaConfiguration.termsAcceptedBy:"","data-test":"terms-accepted-by-username"}})],1),e._v(" "),a("v-col",{staticClass:"mfa-terms-accepted"},[a("evergreen-span",{staticClass:"terms-accepted-at",attrs:{type:"body-2",label:e.$t("pages.mfa.termsAcceptedAt"),"data-test":"terms-accepted-at"}}),e._v(" "),a("evergreen-span",{attrs:{type:"body-2",label:e.getTermsAcceptedAt,"data-test":"terms-accepted-at-time"}})],1),e._v(" "),a("v-col",{staticClass:"mfa-terms-accepted"},[a("evergreen-span",{staticClass:"terms-accepted-by",attrs:{type:"body-2",label:e.$t("pages.mfa.lastModifiedBy"),"data-test":"last-modified-by"}}),e._v(" "),a("evergreen-span",{attrs:{type:"body-2",label:e.mfaConfiguration.lastModifiedBy?e.mfaConfiguration.lastModifiedBy:"","data-test":"last-modified-by-username"}})],1),e._v(" "),a("v-col",{staticClass:"mfa-terms-accepted"},[a("evergreen-span",{staticClass:"terms-accepted-by",attrs:{type:"body-2",label:e.$t("pages.mfa.lastModifiedAt"),"data-test":"last-modified-at"}}),e._v(" "),a("evergreen-span",{attrs:{type:"body-2",label:e.getLastModifiedAt,"data-test":"last-modified-at-time"}})],1)],1):e._e(),e._v(" "),a("v-col",{staticClass:"text-right"},["EditMFAConfig"===e.$route.meta.title?a("evergreen-outlined-button",{staticClass:"close-window-button",attrs:{label:e.$t("pages.mfa.closeWindow"),"data-test":"close-window-button"},nativeOn:{click:function(t){return e.closeWindow.apply(null,arguments)}}}):e._e(),e._v(" "),a("evergreen-contained-button",{staticClass:"button-row",attrs:{disabled:!e.isEditPresent||e.disableSaveButton||0!==e.errors.items.length,label:e.$t("pages.mfa.saveButtonLabel"),"data-test":"mfa-save-button"},nativeOn:{click:function(t){return e.onSave.apply(null,arguments)}}})],1),e._v(" "),a("v-overlay",{attrs:{value:e.termsDialog}}),e._v(" "),a("v-dialog",{attrs:{"max-width":"34.375rem",height:"31.25rem",scrollable:"","data-test":"terms-dialog"},on:{"click:outside":e.termsDeclinedClickHandler},model:{value:e.termsDialog,callback:function(t){e.termsDialog=t},expression:"termsDialog"}},[a("v-card",{staticClass:"terms-dialog"},[a("v-card-title",[a("evergreen-span",{staticClass:"terms-and-conditions-dialog-title",attrs:{label:"PointClickCare Multi-Factor Authentication Terms and Conditions",type:"body-2"}})],1),e._v(" "),a("v-card-text",{staticStyle:{"white-space":"pre-wrap",height:"18.75rem"}},[a("mfa-declaration-content")],1),e._v(" "),a("v-card-actions",{staticClass:"pa-0-rem"},[a("v-row",{staticClass:"pa-0-rem ma-0-rem"},[a("v-spacer"),e._v(" "),a("v-col",{staticClass:"pa-0-rem ma-0-rem",staticStyle:{"text-align":"right"},attrs:{cols:"6"}},[a("evergreen-text-button",{attrs:{label:e.$t("pages.mfa.decline"),"data-test":"terms-decline-button"},nativeOn:{click:function(t){return e.termsDeclinedClickHandler.apply(null,arguments)}}}),e._v(" "),a("evergreen-contained-button",{staticClass:"terms-accept-button",attrs:{label:e.$t("pages.mfa.accept"),"data-test":"terms-accept-button"},nativeOn:{click:function(t){return e.termsAcceptedClickHandler.apply(null,arguments)}}})],1)],1)],1)],1)],1)],1)],1)],1)],1)}),[],!1,Tn,"data-v-f1306ee8",null),En=$n.exports;function Dn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function Fn(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Dn(Object(a),!0).forEach((function(t){gt()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Dn(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Rn={name:"SecurityTab",components:{"evergreen-span":ot.a,"sso-setup":An,"edit-password-policy":Mn,"edit-mfa":En},data:function(){return{tab:null,header:"".concat(this.$t("pages.organizations.security.passwordPolicy.header")),organizationSsoSetup:"".concat(this.$t("pages.organizations.security.ssoSetup.title")),items:[{tab:"".concat(this.$t("pages.organizations.security.passwordPolicy.title")),content:"edit-password-policy",tabVisible:!0},{tab:"".concat(this.$t("pages.organizations.security.ssoSetup.title")),content:"sso-setup",tabVisible:!1},{tab:"".concat(this.$t("pages.mfa.title")),content:"edit-mfa",tabVisible:!0}]}},methods:{onTabChange:function(e){e==="".concat(this.$t("pages.organizations.security.passwordPolicy.title"))&&(this.header="".concat(this.$t("pages.organizations.security.passwordPolicy.header"))),e==="".concat(this.$t("pages.organizations.security.ssoSetup.title"))&&(this.header="".concat(this.$t("pages.organizations.security.ssoSetup.header"))),e==="".concat(this.$t("pages.mfa.title"))&&(this.header=this.$t("pages.mfa.title"))},gotoSecurityPage:function(){this.$router.push({name:"Security"})},changesSaved:function(){this.$store.commit("globalContext/setGlobalUnsavedChanges",!1)},changesNotSaved:function(){this.$store.commit("globalContext/setGlobalUnsavedChanges",!0)},updateSSOSetupTab:function(){var e=this.items.filter((function(e){return"sso-setup"===e.content}));e.length&&(e[0].tabVisible=this.isSAMLImplementation&&this.isAdmin)}},mounted:function(){var e=this;this.$root.$on("unsavedChanges",(function(){e.changesNotSaved()})),this.$root.$on("changesSaved",(function(){e.changesSaved()})),this.updateSSOSetupTab()},computed:Fn(Fn({},Object(tn.b)({selectedOrg:"globalContext/globalOrg"})),{},{visibleTabs:function(){return this.items.filter((function(e){return e.tabVisible}))},globalUnsavedChanges:function(){return this.$store.get("globalContext/globalUnsavedChanges")},routeTo:function(){return this.$store.get("globalContext/routeTo")},isSAMLImplementation:function(){return this.isFeatureOn("iam_new_saml_implementation")},isAdmin:function(){return this.$root.userStore.state.pccAdmin||this.$root.userStore.state.pccImplementer}}),watch:{isSAMLImplementation:function(e,t){e!==t&&this.updateSSOSetupTab()},isAdmin:function(e,t){e!==t&&this.updateSSOSetupTab()}},beforeRouteLeave:function(e,t,a){this.globalUnsavedChanges?(this.$store.commit("globalContext/setRouteTo",e.name),this.$store.commit("globalContext/setIsRouteChange",!0),this.$store.commit("globalContext/setShowDiscardChangesModal",!0),a(!1)):a()}};var zn=function(e){a("xf8Y")},jn=Object(lt.a)(Rn,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"samlMx-6 samlPb-0 header"},[a("v-card",{staticClass:"header-breadcrumb",attrs:{flat:""}},[a("evergreen-span",{attrs:{type:"h3",label:e.header}})],1),e._v(" "),a("v-card",{staticClass:"samlMt-4"},[a("v-tabs",{attrs:{color:"primary","data-test":"OrganizationSecurityTabs"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},e._l(e.visibleTabs,(function(t){return a("v-tab",{key:t.tab.id,attrs:{"data-test":t.content+"-orgSecurityTab"},on:{click:function(a){return e.onTabChange(t.tab)}}},[e._v("\n        "+e._s(t.tab)+"\n\n      ")])})),1),e._v(" "),a("v-tabs-items",{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},e._l(e.visibleTabs,(function(t){return a("v-tab-item",{key:t.tab.id,ref:t.id,refInFor:!0},[a("v-card",{attrs:{flat:"",outlined:""}},[e.selectedOrg?a(t.content,{tag:"component"}):e._e()],1)],1)})),1)],1)],1)}),[],!1,zn,"data-v-73c897f2",null).exports,qn=(a("2LKJ"),Object(z.getFacadeConfig)("production")),Bn={data:function(){return{identityZones:[],currentItems:[],showLoading:!0,perPage:10,sortBy:"name",sortDesc:!1,search:"",pageCount:0,isIE:!1,page:1,length:1,windowWidth:0,headers:[{text:"Name",sortable:!0,align:"left",value:"name",width:"20%"},{text:"Description",sortable:!0,align:"left",value:"description",width:"40%"},{text:"Type",sortable:!0,align:"left",value:"type",filterable:!1,width:"15%"},{text:"Active",sortable:!0,align:"left",width:"15%",value:"active",filterable:!1},{text:"",sortable:!1,align:"left",value:"action",filterable:!1,width:"5%"}]}},created:function(){this.isIE=!!document.documentMode},watch:{search:function(){if(""!==this.search){var e=this.search.trim().toLowerCase(),t=this.headers.filter((function(e){return!1!==e.filterable}));this.currentItems=this.identityZones.filter((function(a){for(var s=0;s<t.length;s+=1)if(a[t[s].text.toLowerCase()].toLowerCase().includes(e))return!0;return!1}))}else this.currentItems=this.identityZones}},mixins:[_t],methods:{getIdentityZones:function(){var e=this;return o()(l.a.mark((function t(){var a,s,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.getRequestService({baseURL:qn}),t.prev=1,t.next=4,a.get("/identity-zones/");case 4:(s=t.sent).data&&s.data.data&&s.data.data.length>0&&s.data.data.forEach((function(t){e.identityZones.push(t),e.currentItems.push(t)})),e.showLoading=!1,e.length=Math.ceil(s.data.data.length/e.perPage),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),n=e.getErrorMessage(["response","data","errors",0,"title"],t.t0)||t.t0.message,e.displayNotification("error",n);case 14:case"end":return t.stop()}}),t,null,[[1,10]])})))()},itemClicked:function(e){this.$emit("idzSelected",e.id)},newIdentityZoneClicked:function(){this.$router.push({name:"IdentityZoneCreate"})},nextPage:function(){this.page+=1},previousPage:function(){this.page-=1}},mounted:function(){this.windowWidth=window.screen.width,this.getIdentityZones()},components:{"evergreen-contained-button":ft.a,"evergreen-span":ot.a}};var Vn=function(e){a("66Zn")},Gn=Object(lt.a)(Bn,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-data-table",{ref:"idzTable",class:[{table:this.isIE&&1280==this.windowWidth},"ml-0-rem"],attrs:{search:e.search,headers:e.headers,items:e.currentItems,"items-per-page":e.perPage,loading:e.showLoading,"fixed-header":"","sort-by":e.sortBy,"sort-desc":e.sortDesc,"hide-default-footer":this.isIE},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-card",{staticClass:"pl-2-rem ml-0-rem",attrs:{flat:""}},[a("v-card-title",{staticClass:"ml-0-rem pl-6-rem pb-6-rem"},[a("v-row",{staticClass:"ml-0-rem"},[a("evergreen-contained-button",{attrs:{"data-test":"identity-zone-list-new-button",label:e.$t("pages.identityzone.form.new")},nativeOn:{click:function(t){return e.newIdentityZoneClicked.apply(null,arguments)}}})],1)],1),e._v(" "),a("v-row",{staticClass:"ml-6-rem"},[a("v-col",{staticClass:"px-0-rem pt-2-rem pb-8-rem",attrs:{cols:"6"}},[a("v-text-field",{staticClass:"mr-6-rem",attrs:{dense:"",label:e.$t("pages.identityzone.form.searchByNameDesc"),outlined:"","hide-details":"","data-test":"identity-zone-list-search-input","append-icon":"search"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1),e._v(" "),e.search?a("v-row",{staticClass:"pt-2-rem ml-6-rem"},[a("evergreen-span",{attrs:{type:"body-1",label:e.currentItems.length+" result(s) found"}})],1):e._e()],1)]},proxy:!0},{key:"header.name",fn:function(t){var s=t.header;return[a("evergreen-span",{staticClass:"ml-2-rem",attrs:{label:e._f("truncate")(s.text,25,"..."),type:"caption-medium"}})]}},{key:"header.description",fn:function(t){var s=t.header;return[a("evergreen-span",{attrs:{label:e._f("truncate")(s.text,25,"..."),type:"caption-medium"}})]}},{key:"header.active",fn:function(t){var s=t.header;return[a("evergreen-span",{attrs:{label:e._f("truncate")(s.text,25,"..."),type:"caption-medium"}})]}},{key:"header.type",fn:function(t){var s=t.header;return[a("evergreen-span",{attrs:{label:e._f("truncate")(s.text,25,"..."),type:"caption-medium"}})]}},{key:"body",fn:function(t){var s=t.items;return[0!==e.currentItems.length?a("tbody",e._l(s,(function(t,s){return a("tr",{key:s},[a("td",{class:[{"word-align":e.isIE&&e.windowWidth<=1280}]},[a("evergreen-span",{staticClass:"ml-2-rem",attrs:{label:e._f("truncate")(t.name,25,"..."),type:"body-2"}})],1),e._v(" "),a("td",{class:[{"word-align":e.isIE&&e.windowWidth<=1280}]},[a("evergreen-span",{attrs:{label:e._f("truncate")(t.description,50,"..."),type:"body-2"}})],1),e._v(" "),a("td",{class:[{"word-align":e.isIE&&e.windowWidth<=1280}]},[a("evergreen-span",{attrs:{label:t.type,type:"body-2"}})],1),e._v(" "),a("td",{class:[{"word-align":e.isIE&&e.windowWidth<=1280}]},[a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(s){var n=s.on;return[a("evergreen-span",{attrs:{label:String(t.active),type:"body-2"}}),e._v(" "),a("v-icon",e._g({directives:[{name:"show",rawName:"v-show",value:!t.configured,expression:"!item.configured"}],attrs:{small:""}},n),[e._v("mdi-alert")])]}}],null,!0)},[e._v(" "),a("span",[e._v(e._s("SAML"==t.type?e.$t("pages.identityzone.form.typeSamlNotConfigured"):e.$t("pages.identityzone.form.typeLocalNotConfigured")))])])],1),e._v(" "),a("td",{class:[{"word-align":e.isIE&&e.windowWidth<=1280}]},[a("v-icon",{staticClass:"pr-2-rem",attrs:{"data-test":"identity-zone-list-edit-button"},on:{click:function(a){return e.itemClicked(t)}}},[e._v("mdi-pencil")])],1)])})),0):a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"},attrs:{colspan:e.headers.length}},[e._v("No data found")])])])]}},this.isIE?{key:"footer",fn:function(){return[a("v-card",{attrs:{flat:""}},[a("v-pagination",{staticClass:"pb-4-rem",attrs:{length:e.length,circle:""},on:{next:e.nextPage,previous:e.previousPage},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],1)]},proxy:!0}:null],null,!0)})],1)}),[],!1,Vn,"data-v-c5fac0d6",null),Hn=Gn.exports,Yn={props:{domains:{type:Array,required:!0,default:function(){return{}}}},data:function(){return{samlDomainEndpoint:"/organizations/saml-domain-available",localDomains:[],domainInput:"",domainValidationInProgress:!1,domainValidationTimer:null}},computed:{getDomains:function(){return this.localDomains.map((function(e,t){return{id:t,domain:e}}))},vvRules:function(){return 0===this.localDomains.length&&0===this.domains.length?"required|verify_domain|verify_domain_availability":"verify_domain|verify_domain_availability"},isAddDomainDisabled:function(){return!0===this.domainValidationInProgress||this.errors.has("domain")||""===this.domainInput}},methods:{deleteDomain:function(e,t){1===this.localDomains.length?this.localDomains=[]:this.localDomains.splice(t.id,1),this.$emit("domainsUpdated",this.localDomains)},addDomain:function(){var e=this;return o()(l.a.mark((function t(){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isAddDomainDisabled){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.$validator.validateAll();case 4:if(t.sent){t.next=7;break}return t.abrupt("return");case 7:e.errors.has("domain")||(a=e.localDomains.find((function(t){return t===e.domainInput})),e.domainInput&&!a&&(e.localDomains.push(e.domainInput),e.$emit("domainsUpdated",e.localDomains)),e.domainInput="");case 8:case"end":return t.stop()}}),t)})))()}},watch:{domains:{immediate:!0,handler:function(e){this.localDomains=pt()(e)}}},$_veeValidate:{validator:"new"},created:function(){var e=this;$.b.Validator.extend("verify_domain",{getMessage:function(e){return"The ".concat(e," is not valid.")},validate:function(e){return new Promise((function(t){t({valid:e&&e.length>0&&/^(?:[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?\.)[a-z0-9][a-z0-9-]{0,61}[a-z0-9]$/i.test(e)})}))}}),$.b.Validator.extend("verify_domain_availability",{getMessage:function(e){return"This domain is already being used."},validate:function(t){return new Promise((function(a){if(!/.+\..{2,}/.test(t||""))return clearTimeout(e.domainValidationTimer),a({valid:!1}),e.domainValidationTimer=null,void(e.domainValidationInProgress=!1);e.domainValidationInProgress=!0,clearTimeout(e.domainValidationTimer),e.domainValidationTimer=setTimeout(o()(l.a.mark((function s(){var n,r;return l.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return n=e.getRequestService({baseURL:Object(z.getFacadeConfig)("production")}),s.prev=1,s.next=4,n.post(e.samlDomainEndpoint,{domain:t});case 4:r=s.sent,a({valid:r.data.available}),e.domainValidationInProgress=!1,s.next=13;break;case 9:s.prev=9,s.t0=s.catch(1),a({valid:!0}),e.domainValidationInProgress=!1;case 13:return s.prev=13,e.domainValidationTimer=null,s.finish(13);case 16:case"end":return s.stop()}}),s,null,[[1,9,13,16]])}))),500)}))}})},components:{"evergreen-contained-button":ft.a}},Qn=Object(lt.a)(Yn,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-card",{attrs:{flat:""}},[a("v-card-text",[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"8"}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:e.vvRules,expression:"vvRules"}],attrs:{dense:"","data-test":"identity-zone-domains-input",label:e.$t("pages.identityzone.form.domain"),outlined:"",name:"domain","error-messages":e.errors.first("domain"),success:!e.errors.has("domain")},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.addDomain(t))}},model:{value:e.domainInput,callback:function(t){e.domainInput="string"==typeof t?t.trim():t},expression:"domainInput"}})],1),e._v(" "),a("v-col",{attrs:{cols:"3",align:"center"}},[a("evergreen-contained-button",{staticClass:"ml-3",attrs:{disabled:e.isAddDomainDisabled,"data-test":"identity-zone-domains-button-input",label:e.$t("common.form.add")},nativeOn:{click:function(t){return t.preventDefault(),e.addDomain(t)}}})],1)],1),e._v(" "),a("v-row",{attrs:{"no-gutters":""}},[a("v-col",[a("v-simple-table",{attrs:{"fixed-header":"",height:"260px","data-test":"identity-zone-domains-table"},scopedSlots:e._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[e._v(e._s(e.$t("pages.identityzone.form.domain")))]),e._v(" "),a("th",{staticClass:"text-left"})])]),e._v(" "),a("tbody",e._l(e.getDomains,(function(t){return a("tr",{key:t.name},[a("td",[e._v(e._s(t.domain))]),e._v(" "),a("td",[a("v-icon",{attrs:{"data-test":"identity-zone-domains-delete-button"},on:{click:function(a){return e.deleteDomain(a,t)}}},[e._v("mdi-delete")])],1)])})),0)]},proxy:!0}])})],1)],1)],1)],1)],1)}),[],!1,null,null,null).exports,Wn=a("sQfG"),Zn=a.n(Wn),Xn={props:{idzId:{type:String,required:!1},endpoint:{type:String,required:!0}},$_veeValidate:{validator:"new"},data:function(){return{colsSize:5,dialog:!1,panel:0,identityZone:null,name:"",description:"",active:"true",typeOptions:[{value:"LOCAL",text:"LOCAL"},{value:"SAML",text:"SAML"}],type:"LOCAL",configured:!1,showLoading:!0,loadingColor:Zn.a.baseColor,domains:[],jit:!1,newDomains:[],isProcessing:!1}},methods:{loadIdentityZone:function(){var e=this;return o()(l.a.mark((function t(){var a,s,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.showLoading=!0,!e.idzId){t.next=16;break}return a=e.getRequestService({baseURL:e.endpoint}),t.prev=3,t.next=6,a.get(e.idzId);case 6:(s=t.sent).data&&(e.identityZone=s.data),e.assignIdzToFields(),e.$emit("idzUpdated",[e.configured,e.type]),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(3),n=e.getErrorMessage(["response","data","errors",0,"title"],t.t0)||t.t0.message,e.displayNotification("error",n);case 16:e.showLoading=!1;case 17:case"end":return t.stop()}}),t,null,[[3,12]])})))()},onSubmit:function(e){var t=this;return o()(l.a.mark((function a(){var s,n,r;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return e.preventDefault(),a.next=3,t.$validator.validateAll();case 3:if(a.sent){a.next=6;break}return a.abrupt("return");case 6:if(s=t.getRequestService({baseURL:t.endpoint}),a.prev=7,!t.idzId){a.next=16;break}return a.next=11,s.put(t.identityZone.id,t.assignFieldsToIdz());case 11:n=a.sent,t.$emit("idzUpdated",[t.configured,t.type]),t.displayNotification("success","Saved"),a.next=23;break;case 16:if(t.isProcessing){a.next=23;break}return t.isProcessing=!0,a.next=20,s.post("/",t.assignFieldsToIdz());case 20:n=a.sent,t.displayNotification("success","Created"),t.$router.replace({name:"IdentityZoneModify",params:{id:n.data.id}});case 23:a.next=30;break;case 25:a.prev=25,a.t0=a.catch(7),r=t.getErrorMessage(["response","data","errors",0,"title"],a.t0)||a.t0.message,t.displayNotification("error",r),t.isProcessing=!1;case 30:t.showLoading=!1;case 31:case"end":return a.stop()}}),a,null,[[7,25]])})))()},deleteIdz:function(){var e=this;return o()(l.a.mark((function t(){var a,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.showLoading=!0,a=e.getRequestService({baseURL:e.endpoint}),t.prev=2,t.next=5,a.delete(e.idzId);case 5:e.$router.replace({name:"IdentityZone"}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(2),s=e.getErrorMessage(["response","data","errors",0,"title"],t.t0)||t.t0.message,e.displayNotification("error",s);case 12:e.showLoading=!1;case 13:case"end":return t.stop()}}),t,null,[[2,8]])})))()},assignIdzToFields:function(){var e=this;this.identityZone&&(this.name=this.identityZone.name,this.$root.userStore.state.currentIdzEditPageName=this.name,this.description=this.identityZone.description,this.type=this.identityZone.type,this.configured=this.identityZone.configured,this.active=this.identityZone.active,this.jit=!1,this.isSamlType&&(this.identityZone.domains.forEach((function(t){return e.domains.push(t)})),this.newDomains=pt()(this.domains),this.jit=this.identityZone.jit))},assignFieldsToIdz:function(){return{name:this.name,description:this.description,type:this.type,active:this.active,domains:this.isSamlType?this.newDomains:[],jit:!!this.isSamlType&&this.jit}},domainsUpdated:function(e){this.newDomains=pt()(e)},onDeleteConfirm:function(){this.deleteIdz()}},computed:{state:function(){return!(this.errors.has("name")||this.isSamlType&&!(this.newDomains.length>0))},isSamlType:function(){return"SAML"===this.type}},mounted:function(){this.loadIdentityZone()},components:{"evergreen-outlined-button":vt.a,"evergreen-contained-button":ft.a,DomainsList:Qn,"evergreen-span":ot.a}};var Jn=function(e){a("8uf0")},Kn=Object(lt.a)(Xn,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-overlay",{attrs:{value:e.showLoading,opacity:"0",absolute:!0}},[a("v-progress-circular",{staticClass:"evergreen-spinner",attrs:{indeterminate:""}})],1),e._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"500px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("evergreen-span",{attrs:{type:"h4-light",label:e.$t("pages.identityzone.form.deleteConfirmTitle")}})],1),e._v(" "),a("v-card-text",[a("evergreen-span",{attrs:{type:"body-1",label:e.$t("pages.identityzone.form.deleteConfirmMessage")}})],1),e._v(" "),a("v-card-actions",[a("v-container",[a("v-row",{staticClass:"pr-6",attrs:{dense:"",justify:"end"}},[a("evergreen-outlined-button",{attrs:{label:e.$t("pages.identityzone.form.no")},nativeOn:{click:function(t){e.dialog=!1}}}),e._v(" "),a("evergreen-contained-button",{staticClass:"ml-6",attrs:{label:e.$t("pages.identityzone.form.yes"),"data-test":"identity-zone-edit-delete-confirmation-button"},nativeOn:{click:function(t){return e.onDeleteConfirm.apply(null,arguments)}}})],1)],1)],1)],1)],1),e._v(" "),a("v-card",[a("v-card-text",[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:e.colsSize}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:e.$t("pages.identityzone.form.name"),outlined:"",maxlength:"40",name:"name","error-messages":e.errors.first("name"),success:!e.errors.has("name"),"data-vv-as":"name","data-test":"identity-zone-edit-name-input"},model:{value:e.name,callback:function(t){e.name="string"==typeof t?t.trim():t},expression:"name"}})],1)],1),e._v(" "),a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:e.colsSize}},[a("v-textarea",{attrs:{label:e.$t("pages.identityzone.form.description"),maxlength:"255",trim:"",rows:"5",clearable:"","no-resize":"",outlined:"","data-test":"identity-zone-edit-desc-input"},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}})],1)],1),e._v(" "),a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:e.colsSize}},[a("v-select",{attrs:{items:e.typeOptions,label:e.$t("pages.identityzone.form.type"),"data-test":"identity-zone-edit-type-input",outlined:""},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}})],1)],1),e._v(" "),a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:e.colsSize}},[a("v-expansion-panels",{attrs:{disabled:!e.isSamlType,accordion:""},model:{value:e.panel,callback:function(t){e.panel=t},expression:"panel"}},[a("v-expansion-panel",[a("v-expansion-panel-header",{attrs:{"data-test":"identity-zone-edit-domain-button"}},[a("evergreen-span",{attrs:{type:"h6-light",label:e.$t("pages.identityzone.form.editDomains")}})],1),e._v(" "),a("v-expansion-panel-content",{directives:[{name:"show",rawName:"v-show",value:e.isSamlType,expression:"isSamlType"}]},[a("domains-list",{attrs:{"idz-type":e.type,domains:e.domains},on:{domainsUpdated:e.domainsUpdated}})],1)],1)],1)],1)],1),e._v(" "),a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:e.colsSize}},[a("v-switch",{attrs:{color:"primary","data-test":"identity-zone-edit-active-input"},scopedSlots:e._u([{key:"label",fn:function(){return[a("evergreen-span",{attrs:{type:"body-1",label:e.$t("pages.identityzone.form.active")}})]},proxy:!0}]),model:{value:e.active,callback:function(t){e.active=t},expression:"active"}})],1)],1),e._v(" "),a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:e.colsSize}},[a("v-switch",{directives:[{name:"show",rawName:"v-show",value:e.isSamlType,expression:"isSamlType"}],attrs:{color:"primary","data-test":"identity-zone-edit-jit-input"},scopedSlots:e._u([{key:"label",fn:function(){return[a("evergreen-span",{attrs:{type:"body-1",label:e.$t("pages.identityzone.form.jit")}})]},proxy:!0}]),model:{value:e.jit,callback:function(t){e.jit=t},expression:"jit"}})],1)],1),e._v(" "),a("v-row",{staticClass:"pr-6 pb-4",attrs:{justify:"end"}},[a("evergreen-outlined-button",{attrs:{label:e.$t("common.form.delete"),disabled:null==e.idzId,"data-test":"identity-zone-edit-delete-button"},nativeOn:{click:function(t){e.dialog=!0}}}),e._v(" "),a("evergreen-outlined-button",{staticClass:"ml-6",attrs:{label:e.$t("common.form.cancel"),"data-test":"identity-zone-edit-cancel-button"},nativeOn:{click:function(t){return e.$router.push({name:"IdentityZone"})}}}),e._v(" "),a("evergreen-contained-button",{staticClass:"ml-6",attrs:{disabled:!e.state||e.isProcessing,"data-test":"identity-zone-edit-save-button",label:e.$t("common.form.save")},nativeOn:{click:function(t){return e.onSubmit.apply(null,arguments)}}})],1)],1)],1)],1)}),[],!1,Jn,"data-v-3e240d57",null),er=Kn.exports,tr={data:function(){return{endpoint:"".concat(Object(z.getFacadeConfig)("production"),"/identity-zones"),metadataLink:"".concat(Object(z.getFacadeConfig)("production"),"/saml2/service-provider-metadata/").concat(this.idzId),metadataFile:null,uploaded:null,dialog:!1,showLoading:!1}},props:{idzId:{type:String,required:!1},configured:{type:Boolean,required:!1}},methods:{updateSamlMetadata:function(){var e=this;this.setLoading(!0);var t=new FormData;t.append("file",this.metadataFile),this.getRequestService({baseURL:this.endpoint}).post("/".concat(this.idzId,"/config"),t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(){e.uploaded=!0,e.metadataFile=null,e.$refs.metadata.reset(),e.displayNotification("success",e.$t("pages.identityzone.configureSaml.uploadSuccess"))})).catch((function(t){var a=e.getErrorMessage(["response","data","errors",0,"detail"],t);e.displayNotification("error",a)})),this.setLoading(!1)},selectMetadataFile:function(e){this.metadataFile=e},deleteSamlMetadata:function(){var e=this;this.dialog=!1,this.getRequestService({baseURL:this.endpoint}).delete("/".concat(this.idzId,"/config")).then((function(){e.uploaded=!1,e.displayNotification("success",e.$t("pages.identityzone.configureSaml.deleteSuccess"))})).catch((function(t){var a=e.getErrorMessage(["response","data","errors",0,"detail"],t);e.displayNotification("error",a)}))},downloadSamlMetadata:function(){var e=this;this.getRequestService({baseURL:this.endpoint}).get("/".concat(this.idzId,"/config")).then((function(t){var a=window.URL.createObjectURL(new Blob([t.data])),s=document.createElement("a");s.href=a,s.setAttribute("download","metadata.xml"),document.body.appendChild(s),s.onclick=function(e){window.Cypress&&e.preventDefault()},s.click(),e.displayNotification("success",e.$t("pages.identityzone.configureSaml.downloadSuccess"))})).catch((function(t){var a=e.getErrorMessage(["response","data","errors",0,"detail"],t);e.displayNotification("error",a)}))},setLoading:function(e){this.showLoading=e}},computed:{isConfigured:function(){return null==this.uploaded?this.configured:this.uploaded}},components:{"evergreen-span":ot.a,"evergreen-outlined-button":vt.a,"evergreen-contained-button":ft.a}};var ar=function(e){a("J+EE")},sr=Object(lt.a)(tr,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-overlay",{attrs:{value:e.showLoading,opacity:"0",absolute:!0}},[a("v-progress-circular",{staticClass:"evergreen-spinner",attrs:{indeterminate:""}})],1),e._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"500px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("evergreen-span",{attrs:{type:"h4-light",label:e.$t("pages.identityzone.form.deleteConfirmTitle")}})],1),e._v(" "),a("v-card-text",[a("evergreen-span",{attrs:{type:"body-1",label:e.$t("pages.identityzone.configureSaml.deleteConfirmMessage")}})],1),e._v(" "),a("v-card-actions",[a("v-container",[a("v-row",{staticClass:"pr-6",attrs:{dense:"",justify:"end"}},[a("evergreen-outlined-button",{attrs:{label:e.$t("pages.identityzone.form.no")},nativeOn:{click:function(t){e.dialog=!1}}}),e._v(" "),a("evergreen-contained-button",{staticClass:"ml-6",attrs:{label:e.$t("pages.identityzone.form.yes"),"data-test":"idz-configure-saml-metadata-delete-confirm-btn"},nativeOn:{click:function(t){return e.deleteSamlMetadata.apply(null,arguments)}}})],1)],1)],1)],1)],1),e._v(" "),a("v-card",{attrs:{flat:""}},[a("v-card-text",[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"5"}},[a("v-file-input",{ref:"metadata",attrs:{id:"metadata-input","data-test":"idz-configure-saml-metadata-file",placeholder:e.$t("pages.identityzone.configureSaml.metadataFile"),name:"metadata",accept:".xml","truncate-length":"40"},on:{change:function(t){return e.selectMetadataFile(t)}}}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.isConfigured,expression:"isConfigured"}],attrs:{"data-test":"idz-configure-saml-metadata-configured"}},[e._v("\n            "+e._s(e.$t("pages.identityzone.configureSaml.samlConfigured"))+"\n            "),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-icon",e._g({attrs:{color:"primary",dark:"","data-test":"idz-configure-saml-metadata-download-btn"},on:{click:e.downloadSamlMetadata}},s),[e._v("mdi-download")])]}}])},[e._v(" "),a("span",[e._v(e._s(e.$t("common.form.download")))])])],1)],1)],1),e._v(" "),a("v-row",{staticClass:"pr-6",attrs:{justify:"end"}},[a("evergreen-outlined-button",{attrs:{disabled:!e.isConfigured,label:e.$t("common.form.delete"),"data-test":"idz-configure-saml-metadata-delete-btn"},nativeOn:{click:function(t){e.dialog=!0}}}),e._v(" "),a("evergreen-contained-button",{staticClass:"ml-6",attrs:{disabled:null==this.metadataFile,label:e.$t("common.form.upload"),"data-test":"idz-configure-saml-metadata-upload-btn"},nativeOn:{click:function(t){return e.updateSamlMetadata.apply(null,arguments)}}})],1),e._v(" "),a("v-row",{staticClass:"mb-1 mt-2"},[a("v-col",{attrs:{cols:"4"}},[a("evergreen-span",{attrs:{type:"h4-light",label:e.$t("pages.identityzone.configureSaml.spDetails")}})],1)],1),e._v(" "),a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"4"}},[e._v("\n          "+e._s(e.$t("pages.identityzone.configureSaml.spMetadata"))+"\n          "),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-btn",{attrs:{icon:"",href:e.metadataLink}},[a("v-icon",e._g({attrs:{color:"primary",dark:"","data-test":"idz-configure-sp-saml-metadata-download-btn"}},s),[e._v("mdi-download")])],1)]}}])},[e._v(" "),a("span",[e._v(e._s(e.$t("common.form.download")))])])],1)],1)],1)],1)],1)}),[],!1,ar,"data-v-cd4387fa",null),nr=sr.exports,rr={props:{idzId:{type:String,required:!1}},components:{"edit-idz":er,"configure-saml":nr,"evergreen-span":ot.a},data:function(){return{tab:null,idzType:"",endpoint:"".concat(Object(z.getFacadeConfig)("production"),"/identity-zones/"),configured:""}},methods:{idzUpdated:function(e){var t=T()(e,2);this.configured=t[0],this.idzType=t[1]}},computed:{breadcrumbs:function(){return null!=this.idzId?[{dataTest:"idz-list-breadcrumb",text:this.$t("pages.identityzone.identityZonesList"),href:"#/identity-zone"},{text:this.$root.userStore.state.currentIdzEditPageName,dataTest:"current-idz-breadcrumb"}]:[{dataTest:"idz-list-breadcrumb",text:this.$t("pages.identityzone.identityZonesList"),href:"#/identity-zone"},{text:this.$t("pages.identityzone.new"),dataTest:"current-idz-breadcrumb"}]}}},or={data:function(){return{idzId:this.$route.params.id}},components:{"list-idz":Hn,"modify-idz":Object(lt.a)(rr,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-breadcrumbs",{staticClass:"pl-1",attrs:{items:e.breadcrumbs,divider:">"},scopedSlots:e._u([{key:"item",fn:function(e){return[a("a",{staticStyle:{"text-decoration":"none",color:"black"},attrs:{href:e.item.href,"data-test":e.item.dataTest}},[a("evergreen-span",{attrs:{type:"h6-light",label:e.item.text}})],1)]}}]),model:{value:e.breadcrumbs,callback:function(t){e.breadcrumbs=t},expression:"breadcrumbs"}}),e._v(" "),a("v-card",[a("v-tabs",{attrs:{"data-test":"identity-zone-modify-tab"}},[a("v-tab",[e._v(e._s(e.$t("pages.identityzone.modify")))]),e._v(" "),a("v-tab",{attrs:{disabled:!e.idzId||"SAML"!==e.idzType,"data-test":"idz-configure-saml-metadata-tab"}},[e._v(e._s(e.$t("pages.identityzone.configureSaml.configureSamlTitle")))]),e._v(" "),a("v-tab-item",[a("edit-idz",{attrs:{"idz-id":e.idzId,endpoint:e.endpoint},on:{idzUpdated:e.idzUpdated}})],1),e._v(" "),a("v-tab-item",[a("v-card",[a("configure-saml",{attrs:{"idz-id":e.idzId,configured:e.configured}})],1)],1)],1)],1)],1)}),[],!1,null,null,null).exports,"evergreen-span":ot.a},methods:{idzSelected:function(e){e?this.$router.push({name:"IdentityZoneModify",params:{id:e}}):this.idzId=null}},computed:{getIdzId:function(){return this.idzId}}};var ir=function(e){a("bvKr")},lr=Object(lt.a)(or,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header ml-6"},[a("div",{staticClass:"mb-4"},[a("evergreen-span",{attrs:{type:"h3","data-test":"idz-group-name",label:e.$t("pages.identityzone.title")}})],1),e._v(" "),"IdentityZone"===e.$router.currentRoute.name?a("list-idz",{on:{idzSelected:e.idzSelected}}):a("modify-idz",{attrs:{"idz-id":e.getIdzId}})],1)}),[],!1,ir,"data-v-5375ccd7",null).exports;function cr(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function dr(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?cr(Object(a),!0).forEach((function(t){gt()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):cr(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ur=Object(z.getFacadeConfig)("production"),pr={name:"ExpirePassword",mixins:[at.a,$a],components:{"evergreen-contained-button":ft.a,"policy-password-input":xa,"evergreen-span":ot.a},data:function(){return{oldPassword:"",newPassword:"",showPassword:!1,disableChangePasswordButton:!1}},methods:{changePassword:function(){var e=this;return o()(l.a.mark((function t(){var a,s,n,r,o,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.getRequestService({baseURL:ur}),t.prev=1,s={currentPassword:e.oldPassword,newPassword:e.newPassword,userId:e.$root.userStore.getUserId()},e.disableChangePasswordButton=!0,t.next=6,a.post("/selfservice/forcedChangePassword",s);case 6:e.displayNotification("success",e.$t("pages.selfservice.passwordReset.successMessage")),n=Ma.a.getGotoUrl(e.$route),r=dr({},{name:"Login",query:n?{goto:n}:{}}),e.$router.push(r),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(1),!u.a.isUndefined(t.t0.response.data.failedPolicyRequirements)?(i=t.t0.response.data.failedPolicyRequirements.map((function(t){return e.$t("common.policyValidationMessages.".concat(t.policyRequirement),{param:e.$refs.newPassword.policies[t.policyRequirement]})})),e.displayNotification("error",i.join(","))):(o=e.getErrorMessage(["response","data","errors",0,"title"],t.t0)||t.t0.message,e.displayNotification("error",o));case 17:return e.disableChangePasswordButton=!1,t.abrupt("return",!0);case 19:case"end":return t.stop()}}),t,null,[[1,13]])})))()},policyRetrievalFailure:function(){this.$router.replace({name:"Login"})}},created:function(){this.$root.userStore.getUserName()&&this.$root.userStore.getPwdToken()&&this.$root.userStore.getUserId()||this.$router.replace({name:"Login"})},$_veeValidate:{validator:"new"}};var mr=function(e){a("6Dfm")},gr=Object(lt.a)(pr,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-app",[s("v-content",[s("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[s("v-row",{attrs:{align:"center",justify:"center"}},[s("v-col",{attrs:{cols:"12",md:"4",sm:"8"}},[s("v-card",{staticClass:"elevation-12 mx-auto outer-card",attrs:{"max-width":"28.125rem"}},[s("v-card-title",[s("img",{staticClass:"logo",attrs:{src:a("1Sg+")}})]),e._v(" "),s("v-card-text",{staticClass:"expired-text text--primary"},[s("evergreen-span",{attrs:{label:e.$t("pages.login.resetPassword"),type:"body-1"}})],1),e._v(" "),s("v-card-text",[s("v-form",{staticClass:"old-password",on:{submit:function(e){e.preventDefault()}}},[s("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"append-icon":e.showPassword?"mdi-eye":"mdi-eye-off",label:e.$t("pages.login.oldPassword"),type:e.showPassword?"text":"password",autofocus:"","data-test":"expire-password-old-password-input",name:"oldPassword",outlined:""},on:{"click:append":function(t){e.showPassword=!e.showPassword}},model:{value:e.oldPassword,callback:function(t){e.oldPassword=t},expression:"oldPassword"}}),e._v(" "),s("policy-password-input",{ref:"newPassword",attrs:{label:e.$t("pages.login.newPassword"),confirmPasswordLabel:e.$t("pages.login.confirmNewPassword"),policyApi:"tokenPolicy",showConfirmPassword:!0,token:e.$root.userStore.getPwdToken(),"data-test":"expire-password-new-password-input",name:"newPassword"},on:{policyRetrievalFailure:e.policyRetrievalFailure},model:{value:e.newPassword,callback:function(t){e.newPassword=t},expression:"newPassword"}}),e._v(" "),s("evergreen-contained-button",{staticClass:"change-button",attrs:{disabled:e.disableChangePasswordButton||e.errors&&e.errors.all().length>0,label:e.$t("pages.login.changePassword"),block:"","data-test":"expire-password-change-pwd-button"},nativeOn:{click:function(t){return e.changePassword.apply(null,arguments)}}})],1)],1)],1)],1)],1)],1)],1)],1)}),[],!1,mr,"data-v-203d5a03",null),fr=gr.exports,vr={components:{"evergreen-span":ot.a,"evergreen-contained-button":ft.a,"debounced-text-field":Lt},props:{org:{type:Object,required:!0}},data:function(){return{tableFooterProps:{"items-per-page-options":[5,10,15,30,50]},showLoading:!0,usersActions:$o,headers:[{text:"".concat(this.$t("pages.locations.locationNameHeader")),sortable:!0,align:"left",value:"locationName",width:"35%"},{text:"".concat(this.$t("pages.locations.locationTypeHeader")),sortable:!1,align:"left",value:"locationType",width:"20%"},{text:"".concat(this.$t("pages.locations.addressHeader")),sortable:!1,align:"left",value:"address",filterable:!1,width:"35%"},{text:"",sortable:!1,align:"left",value:"action",filterable:!1,width:"10%"}],locations:[],locationsPerPage:10,totalLocationsCount:0,locationsTableOptions:{},searchTerm:"",tableCurrentPage:1}},methods:{getLocations:function(){var e=this;return o()(l.a.mark((function t(){var a,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.showLoading=!0,e.locations=[],e.totalLocationsCount=0,t.prev=3,t.next=6,E.a.getLocationsByOrgId(e.globalOrg.id,e.getFilterCriteria());case 6:(a=t.sent).data&&(a.data.paging&&(e.totalLocationsCount=a.data.paging.resultCount),a.data.locations&&a.data.locations.length>0&&(e.locations=a.data.locations.slice())),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(3),s=e.getErrorMessage(["response","data","errors",0,"title"],t.t0)||t.t0.message,e.displayNotification("error",s);case 14:e.showLoading=!1;case 15:case"end":return t.stop()}}),t,null,[[3,10]])})))()},clearSearchTerm:function(){this.searchTerm=""},doSearch:function(e){this.searchTerm=e},getFilterCriteria:function(){var e=this.locationsTableOptions,t=e.sortBy,a=e.sortDesc,s=e.page,n=e.itemsPerPage;return{query:this.searchTerm,pageSize:n,page:s,sort:t.length>0?a[0]?"-".concat(t):"+".concat(t):""}},resetTableStateAndFetchLocations:function(){1!==this.locationsTableOptions.page?this.tableCurrentPage=1:this.getLocations()},locationItemClicked:function(e){this.$emit("locationSelected",e.id)},onNewLocationBtnClicked:function(){this.$router.push({name:"LocationsNew"}),this.$root.$emit("changesSaved")}},watch:{org:function(e,t){e&&e.id!==t.id&&this.resetTableStateAndFetchLocations()},locationsTableOptions:{handler:function(){this.getLocations()},deep:!0},searchTerm:function(){this.resetTableStateAndFetchLocations()}},computed:{globalOrg:function(){return this.$store.get("globalContext/globalOrg")},isExternalOrg:function(){var e;return"EXTERNAL"===(null===(e=this.org)||void 0===e?void 0:e.scope)},isOrganizationAdmin:function(){return this.isActionAllowed(this.usersActions.OrganizationsAdmin)},isCustomerAdmin:function(){return!!this.isActionAllowed(this.usersActions.OrganizationsAdmin)||this.isActionAllowed(this.usersActions.LocationSearchBarGetRead)&&this.isActionAllowed(this.usersActions.LocationSearchBarGetWrite)}},mixins:[_t,st.a]};var hr=function(e){a("Qc4v")},br=Object(lt.a)(vr,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-card",{staticClass:"header",attrs:{flat:""}},[a("evergreen-span",{attrs:{type:"h3",label:e.$t("pages.locations.title"),"data-test":"data-test-list-locations-header"}})],1),e._v(" "),a("v-data-table",{staticClass:"elevation-1 dataTable",attrs:{"fixed-header":"",items:e.locations,loading:e.showLoading,"items-per-page":e.locationsPerPage,headers:e.headers,options:e.locationsTableOptions,"server-items-length":e.totalLocationsCount,"footer-props":e.tableFooterProps,"item-key":"id",page:e.tableCurrentPage},on:{"update:options":function(t){e.locationsTableOptions=t},"update:page":function(t){e.tableCurrentPage=t}},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-card",{staticClass:"dataTableContent",attrs:{flat:""}},[a("v-card-title",{staticClass:"mb-0 pb-0"},[e.isExternalOrg?a("evergreen-contained-button",{attrs:{hidden:!e.isOrganizationAdmin,label:e.$t("pages.locations.addNewLocation"),"data-test":"data-test-list-locations-new-location"},nativeOn:{click:function(t){return e.onNewLocationBtnClicked.apply(null,arguments)}}}):a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on,n=t.attrs;return[a("div",e._g(e._b({},"div",n,!1),s),[a("evergreen-contained-button",{attrs:{disabled:!e.isExternalOrg,label:e.$t("pages.locations.addNewLocation"),"data-test":"data-test-list-locations-new-location"}})],1)]}}],null,!1,4196167035)},[e._v(" "),a("span",[e._v(e._s(e.$t("pages.locations.notAllowed")))])])],1),e._v(" "),a("v-card-text",{staticClass:"dataTableCardText"},[a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("debounced-text-field",{attrs:{"data-test":"data-test-list-locations-search",hidden:!e.isCustomerAdmin,"append-icon":""===e.searchTerm?"search":"",label:e.$t("pages.locations.searchByKeywords"),dense:"",outlined:"","hide-details":"",clearable:!!e.searchTerm,autoFocus:"","min-chars":1,debounce:700},on:{"keyup:enter:nocheck":e.doSearch,"click:append:nocheck":e.doSearch,"click:clear":e.clearSearchTerm},model:{value:e.searchTerm,callback:function(t){e.searchTerm=t},expression:"searchTerm"}})],1)],1),e._v(" "),a("v-row",[a("v-col",{staticClass:"pt-0 pb-0",attrs:{cols:"6"}},[e.searchTerm?a("evergreen-span",{attrs:{type:"subtitle-1-green",label:e.totalLocationsCount+" results found","data-test":"data-test-list-locations-result-count"}}):e._e()],1)],1)],1)],1)]},proxy:!0},{key:"header.locationName",fn:function(e){var t=e.header;return[a("evergreen-span",{staticClass:"dataTableContent",attrs:{label:t.text,type:"caption-medium"}})]}},{key:"header.locationType",fn:function(e){var t=e.header;return[a("evergreen-span",{attrs:{label:t.text,type:"caption-medium"}})]}},{key:"header.address",fn:function(e){var t=e.header;return[a("evergreen-span",{attrs:{label:t.text,type:"caption-medium"}})]}},{key:"body",fn:function(t){var s=t.items;return[0!==e.locations.length?a("tbody",e._l(s,(function(t,s){return a("tr",{key:s},[t.name.length>50?a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(s){var n=s.on,r=s.attrs;return[a("td",e._g(e._b({},"td",r,!1),n),[a("evergreen-span",{staticClass:"dataTableContent",attrs:{"data-test":"location-name",label:e._f("truncate")(t.name,50,"..."),type:"body-2"}})],1)]}}],null,!0)},[e._v(" "),a("span",[e._v(e._s(t.name))])]):a("td",[a("evergreen-span",{staticClass:"dataTableContent",attrs:{"data-test":"location-name",label:t.name,type:"body-2"}})],1),e._v(" "),a("td",[a("evergreen-span",{attrs:{label:t.type,type:"body-2"}})],1),e._v(" "),a("td",[t.addressLine1&&t.addressLine2&&"undefined"!=t.addressLine2?a("evergreen-span",{attrs:{label:e._f("truncate")(t.addressLine1+", "+t.addressLine2+", "+t.city+", "+t.postalCode+", "+t.province+(t.country?", "+t.country:""),50,"..."),type:"body-2"}}):a("evergreen-span",{attrs:{label:e._f("truncate")(t.addressLine1+", "+t.city+", "+t.postalCode+", "+t.province+(t.country?", "+t.country:""),50,"..."),type:"body-2"}})],1),e._v(" "),a("td",{attrs:{align:"right"}},[a("v-icon",{attrs:{"data-test":t.name+"-edit"},on:{click:function(a){return e.locationItemClicked(t)}}},[e._v("mdi-pencil")])],1)],1)})),0):a("tbody",[e.showLoading?a("tr",[a("td",{staticStyle:{"text-align":"center"},attrs:{colspan:e.headers.length}},[e._v("\n            "+e._s(e.$t("pages.locations.loadingText"))+"\n          ")])]):a("tr",[a("td",{staticStyle:{"text-align":"center"},attrs:{colspan:e.headers.length,"data-test":"data-test-list-locations-no-data-found"}},[e._v("\n            No locations available\n          ")])])])]}}])})],1)}),[],!1,hr,"data-v-2c1ab840",null),yr=br.exports,wr=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/,xr={name:"UuidUtil",methods:{testUuid:function(e){return!!e&&wr.test(e)}}},Cr=Object(lt.a)(xr,undefined,undefined,!1,null,null,null).exports,_r={props:{npis:{type:Array,required:!1,default:function(){return{}}}},data:function(){return{localNpis:[],npiInput:"",maxNpiLength:5,npiValidationInProgress:!1,npiValidationTimer:null,npiMask:"##########"}},computed:{getNpis:function(){return this.localNpis.map((function(e,t){return{id:t,npi:e}}))},vvRules:function(){return"verify_max_npis|verify_npi_format"},isAddNpiDisabled:function(){return!0===this.NpiValidationInProgress||this.errors.has("npi")||""===this.npiInput}},methods:{deleteNpi:function(e,t){1===this.localNpis.length?this.localNpis=[]:this.localNpis.splice(t.id,1),this.$emit("npisUpdated",this.localNpis)},addnpi:function(){var e=this;return o()(l.a.mark((function t(){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isAddNpiDisabled){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.$validator.validateAll();case 4:if(t.sent){t.next=7;break}return t.abrupt("return");case 7:e.errors.has("npi")||(a=e.localNpis.find((function(t){return t===e.npiInput})),e.npiInput&&!a&&(e.localNpis.push(e.npiInput),e.$emit("npisUpdated",e.localNpis)),e.npiInput="");case 8:case"end":return t.stop()}}),t)})))()}},watch:{npis:{immediate:!0,handler:function(e){this.localNpis=pt()(e)}}},$_veeValidate:{validator:"new"},created:function(){var e=this;$.b.Validator.extend("verify_max_npis",{getMessage:function(){return"Maximum of ".concat(e.maxNpiLength," npis allowed")},validate:function(t){return new Promise((function(a){a({valid:t&&e.localNpis.length<e.maxNpiLength})}))}}),$.b.Validator.extend("verify_npi_format",{getMessage:function(){return"Enter a valid npi having 10 digits"},validate:function(e){return new Promise((function(t){t({valid:10===(e&&e.trim()).length})}))}})},components:{EvergreenContainedButton:ft.a}};var Sr=function(e){a("IaQy")},kr=Object(lt.a)(_r,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{staticClass:"first-col",attrs:{cols:"8"}},[a("v-text-field",{directives:[{name:"mask",rawName:"v-mask",value:e.npiMask,expression:"npiMask"},{name:"validate",rawName:"v-validate",value:e.vvRules,expression:"vvRules"}],attrs:{"data-test":"data-test-edit-locations-npis",label:this.$t("pages.locations.addNpiTextField"),placeholder:this.$t("pages.locations.addNpiTextFieldPlaceHolder"),outlined:"",name:"npi",hint:this.$t("pages.locations.onlyNumbersHint"),"error-messages":e.errors.first("npi"),success:!!e.errors.has("npi")},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.addnpi(t))}},model:{value:e.npiInput,callback:function(t){e.npiInput="string"==typeof t?t.trim():t},expression:"npiInput"}})],1),e._v(" "),a("v-col",{staticClass:"second-col"},[a("evergreen-contained-button",{staticClass:"add-npi-button",attrs:{disabled:e.isAddNpiDisabled,"data-test":"data-test-edit-locations-npis-button-input",label:this.$t("pages.locations.addNpiButton")},nativeOn:{click:function(t){return t.preventDefault(),e.addnpi(t)}}})],1)],1),e._v(" "),a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{staticClass:"first-col",attrs:{cols:"8"}},[a("v-simple-table",{attrs:{"fixed-header":"","data-test":"loc-npis-table"},scopedSlots:e._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[e._v(e._s("NPIs"))]),e._v(" "),a("th",{staticClass:"text-left"})])]),e._v(" "),a("tbody",e._l(e.getNpis,(function(t){return a("tr",{key:t.name},[a("td",[e._v(e._s(t.npi))]),e._v(" "),a("td",{attrs:{align:"right"}},[a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(s){var n=s.on;return[a("v-icon",e._g({attrs:{"data-test":"loc-npis-delete-button"},on:{click:function(a){return e.deleteNpi(a,t)}}},n),[e._v("mdi-delete\n                  ")])]}}],null,!0)},[e._v("\n                "+e._s(e.$t("pages.locations.deleteNpiButtonTooltip"))+"\n              ")])],1)])})),0)]},proxy:!0}])})],1),e._v(" "),a("v-col",{attrs:{cols:"0"}})],1)],1)}),[],!1,Sr,"data-v-25cde8a8",null).exports;function Ar(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}var Or={components:{"evergreen-span":ot.a,NpisList:kr,"evergreen-contained-button":ft.a,"evergreen-outlined-button":vt.a},props:{locationId:{type:String,required:!1},org:{type:Object,required:!0}},$_veeValidate:{validator:"new"},created:function(){this.defaultLocation=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ar(Object(a),!0).forEach((function(t){gt()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ar(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},this.localLocation)},data:function(){var e=[{value:"",text:"None"},{value:"US",text:"US"},{value:"CA",text:"CA"}],t=[{value:"HOSPITAL",text:"Hospital"},{value:"PAYER",text:"Payer"},{value:"CLINIC",text:"Clinic"},{value:"PHARMACY",text:"Pharmacy"},{value:"PRACTITIONER_PRACTICE",text:"Practitioner Practice"},{value:"ASSISTED_LIVING",text:"Assisted Living"},{value:"HOME_HEALTH",text:"Home Health"},{value:"INDEPENDENT_LIVING",text:"Independent Living"},{value:"INPATIENT_REHAB",text:"Inpatient Rehab"},{value:"SKILLED_NURSING",text:"Skilled Nursing"},{value:"ACO",text:"ACO"}];return{colsSize:5,usersActions:$o,npis:[],showLoading:!0,breadcrumbsItems:[{text:"".concat(this.$t("pages.locations.title")),href:"#/locations"}],locationTypeOptions:t,showDeleteConfirmationDialog:!1,hideDeleteButton:!1,serverLocation:{},localLocation:{name:"",type:t[0].value,status:"ACTIVE",locationId:"",organizationId:"",addressLine1:"",addressLine2:"",city:"",province:"",postalCode:"",ccn:"",country:e[0].value||"",npis:[]},countries:e,defaultLocation:{}}},methods:{emitChanges:function(){this.isDefault()?this.$root.$emit("changesSaved"):this.$root.$emit("unsavedChanges")},npisUpdated:function(e){this.localLocation.npis=pt()(e)},isAddNpiDisabled:function(){return!0===this.NpiValidationInProgress||this.errors.has("npi")||""===this.npiInput},isDefault:function(){return u.a.isEmpty(this.serverLocation)&&u.a.isEqual(u.a.toArray(u.a.toPlainObject(this.defaultLocation)),u.a.toArray(u.a.toPlainObject(this.localLocation)))},getLocation:function(){var e=this;return o()(l.a.mark((function t(){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.showLoading=!0,t.prev=1,t.next=4,E.a.getLocationById(e.locationId);case 4:a=t.sent,e.$emit("locationNameSel",a.data.name),e.serverLocation=u.a.cloneDeep(a.data),e.localLocation=u.a.cloneDeep(a.data),e.localLocation.country=e.localLocation.country||"",e.serverLocation.country=e.serverLocation.country||"",e.npis=a.data.npis||[],t.next=17;break;case 13:t.prev=13,t.t0=t.catch(1),e.handleError(t.t0),404===t.t0.response.status&&e.gotoLocationsListPage();case 17:e.showLoading=!1;case 18:case"end":return t.stop()}}),t,null,[[1,13]])})))()},gotoLocationsListPage:function(){this.$router.push({name:"Locations"})},onSaveButtonPressed:function(){var e=this;return o()(l.a.mark((function t(){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.showLoading=!0,t.next=3,e.$validator.validateAll();case 3:if(!t.sent){t.next=27;break}if(e.prepareLocationBeforeSendingToServer(),t.prev=6,e.locationId){t.next=15;break}return t.next=10,E.a.postLocation(e.localLocation);case 10:return a=t.sent,e.displayNotification("success",e.$t("pages.locations.locationCreated")),e.$emit("locationCreated",a.data.locationId),e.$root.$emit("changesSaved"),t.abrupt("return");case 15:return t.next=17,E.a.updateLocationById(e.locationId,e.localLocation);case 17:return e.displayNotification("success",e.$t("pages.locations.locationUpdated")),e.$root.$emit("changesSaved"),t.next=21,e.getLocation();case 21:return t.abrupt("return");case 24:t.prev=24,t.t0=t.catch(6),e.handleError(t.t0);case 27:e.showLoading=!1;case 28:case"end":return t.stop()}}),t,null,[[6,24]])})))()},prepareLocationBeforeSendingToServer:function(){this.localLocation.organizationId=this.org.id},deleteLocationConfirmed:function(){var e=this;return o()(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.showLoading=!0,e.showDeleteConfirmationDialog=!1,t.prev=2,t.next=5,E.a.deleteLocationById(e.locationId);case 5:e.$root.$emit("changesSaved"),e.gotoLocationsListPage(),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),e.handleError(t.t0);case 12:e.showLoading=!1;case 13:case"end":return t.stop()}}),t,null,[[2,9]])})))()},handleError:function(e){var t=this.getErrorMessage(["response","data","errors",0,"detail"],e)||e.message;this.displayNotification("error",t)}},mounted:function(){this.locationId?this.testUuid(this.locationId)?(this.breadcrumbsItems.push({text:"".concat(this.$t("pages.locations.editLocation"))}),this.getLocation()):(this.displayNotification("error","Not a valid location"),this.gotoLocationsListPage()):(this.breadcrumbsItems.push({text:"".concat(this.$t("pages.locations.newLocation"))}),"EXTERNAL"!==this.org.scope&&(this.displayNotification("error",this.$t("pages.locations.notAllowed")),this.gotoLocationsListPage()),this.showLoading=!1)},computed:{isUpdateEnable:function(){return this.isActionAllowed(this.usersActions.OrganizationsAdmin)},isFormValid:function(){return this.errors.all().length<1},localLocationChanged:function(){return u.a.isEqual(this.localLocation,this.serverLocation)?this.$root.$emit("changesSaved"):this.emitChanges(),!u.a.isEqual(this.localLocation,this.serverLocation)},isSaveButtonDisabled:function(){return!this.showLoading&&this.isFormValid&&this.localLocationChanged?this.emitChanges():this.isFormValid&&this.$root.$emit("changesSaved"),this.showLoading||!this.isFormValid||!this.localLocationChanged}},watch:{org:function(e,t){e&&e.id!==t.id&&this.gotoLocationsListPage()}},mixins:[Cr,st.a]};var Ur=function(e){a("mkY0")},Lr=Object(lt.a)(Or,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-overlay",{attrs:{value:e.showLoading,opacity:"0"}},[a("v-progress-circular",{staticClass:"evergreen-spinner",attrs:{indeterminate:""}})],1),e._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"500px"},model:{value:e.showDeleteConfirmationDialog,callback:function(t){e.showDeleteConfirmationDialog=t},expression:"showDeleteConfirmationDialog"}},[a("v-card",[a("v-card-title",[a("evergreen-span",{attrs:{type:"h4-light",label:e.$t("pages.locations.deleteConfirmTitle")}})],1),e._v(" "),a("v-card-text",[a("evergreen-span",{attrs:{type:"body-1",label:e.$t("pages.locations.deleteConfirmMessage")}})],1),e._v(" "),a("v-card-actions",[a("v-container",[a("v-row",{staticClass:"pr-6",attrs:{dense:"",justify:"end"}},[a("evergreen-outlined-button",{staticClass:"btn btn-margin",attrs:{label:e.$t("pages.locations.no")},nativeOn:{click:function(t){e.showDeleteConfirmationDialog=!1}}}),e._v(" "),a("evergreen-contained-button",{staticClass:"btn",attrs:{label:e.$t("pages.locations.yes"),"data-test":"data-test-edit-locations-delete-confirmation"},nativeOn:{click:function(t){return e.deleteLocationConfirmed.apply(null,arguments)}}})],1)],1)],1)],1)],1),e._v(" "),this.locationId?e._e():a("v-breadcrumbs",{staticClass:"pl-0",attrs:{items:e.breadcrumbsItems,divider:">","data-test":"data-test-edit-locations-breadcrumb"},scopedSlots:e._u([{key:"item",fn:function(e){return[e.item.href?a("a",{staticClass:"breadcrumb-clickable",attrs:{href:e.item.href}},[a("evergreen-span",{attrs:{type:"body-1",label:e.item.text}})],1):a("evergreen-span",{attrs:{type:"body-1",label:e.item.text}})]}}],null,!1,1326813258)}),e._v(" "),a("v-card",{attrs:{flat:""}},[a("v-card-text",[e.locationId?a("evergreen-span",{attrs:{type:"body-1",label:e.$t("pages.locations.editLocationDetails")}}):a("evergreen-span",{attrs:{type:"body-1",label:e.$t("pages.locations.newLocationDetails")}}),e._v(" "),a("v-form",{staticClass:"field",on:{submit:function(e){e.preventDefault()}}},[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:10}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:e.$t("pages.locations.name"),disabled:!e.isUpdateEnable,outlined:"",maxlength:"255",name:"name","error-messages":e.errors.first("name"),"data-vv-as":"name","data-test":"data-test-edit-locations-name"},model:{value:e.localLocation.name,callback:function(t){e.$set(e.localLocation,"name","string"==typeof t?t.trim():t)},expression:"localLocation.name"}})],1)],1),e._v(" "),a("v-row",{staticClass:"eg-mt-2"},[a("v-col",{staticClass:"first-col",attrs:{cols:5}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:e.$t("pages.locations.addressLine1"),outlined:"",disabled:!e.isUpdateEnable,maxlength:"50","error-messages":e.errors.first("addressLine1"),name:"addressLine1","data-vv-as":"address","data-test":"data-test-edit-locations-address-line-1"},model:{value:e.localLocation.addressLine1,callback:function(t){e.$set(e.localLocation,"addressLine1","string"==typeof t?t.trim():t)},expression:"localLocation.addressLine1"}})],1),e._v(" "),a("v-col",{staticClass:"second-col",attrs:{cols:5}},[a("v-text-field",{attrs:{label:e.$t("pages.locations.addressLine2"),disabled:!e.isUpdateEnable,outlined:"",maxlength:"50",name:"addressLine2","data-vv-as":"address","data-test":"data-test-edit-locations-address-line-2"},model:{value:e.localLocation.addressLine2,callback:function(t){e.$set(e.localLocation,"addressLine2","string"==typeof t?t.trim():t)},expression:"localLocation.addressLine2"}})],1)],1),e._v(" "),a("v-row",{staticClass:"eg-mt-2"},[a("v-col",{staticClass:"first-col",attrs:{cols:"5"}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:e.$t("pages.locations.city"),disabled:!e.isUpdateEnable,outlined:"",maxlength:"50","error-messages":e.errors.first("city"),name:"city","data-vv-as":"city","data-test":"data-test-edit-locations-city"},model:{value:e.localLocation.city,callback:function(t){e.$set(e.localLocation,"city","string"==typeof t?t.trim():t)},expression:"localLocation.city"}})],1),e._v(" "),a("v-col",{staticClass:"second-col",attrs:{cols:"5"}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:e.$t("pages.locations.postalCode"),disabled:!e.isUpdateEnable,outlined:"",maxlength:"15","error-messages":e.errors.first("postalCode"),name:"postalCode","data-vv-as":"postal code","data-test":"data-test-edit-locations-postal-code"},model:{value:e.localLocation.postalCode,callback:function(t){e.$set(e.localLocation,"postalCode","string"==typeof t?t.trim():t)},expression:"localLocation.postalCode"}})],1)],1),e._v(" "),a("v-row",{staticClass:"eg-mt-2"},[a("v-col",{staticClass:"first-col",attrs:{cols:"5"}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:e.$t("pages.locations.state"),disabled:!e.isUpdateEnable,outlined:"",maxlength:"6","error-messages":e.errors.first("state"),name:"state","data-vv-as":"state","data-test":"data-test-edit-locations-state"},model:{value:e.localLocation.province,callback:function(t){e.$set(e.localLocation,"province","string"==typeof t?t.trim():t)},expression:"localLocation.province"}})],1),e._v(" "),a("v-col",{staticClass:"second-col",attrs:{cols:"5"}},[a("v-select",{attrs:{"data-test":"data-test-edit-locations-country",disabled:!e.isUpdateEnable,outlined:"",items:e.countries,"item-text":"text","item-value":"value",label:e.$t("pages.locations.country")},model:{value:e.localLocation.country,callback:function(t){e.$set(e.localLocation,"country",t)},expression:"localLocation.country"}})],1)],1),e._v(" "),a("v-row",{staticClass:"eg-mt-2"},[a("v-col",{staticClass:"first-col",attrs:{cols:5}},[a("v-autocomplete",{attrs:{"data-test":"data-test-edit-locations-type",disabled:!e.isUpdateEnable,outlined:"",items:e.locationTypeOptions,label:e.$t("pages.locations.type")},model:{value:e.localLocation.type,callback:function(t){e.$set(e.localLocation,"type",t)},expression:"localLocation.type"}})],1),e._v(" "),a("v-col",{staticClass:"second-col",attrs:{cols:5}},[a("npis-list",{attrs:{npis:e.npis},on:{npisUpdated:e.npisUpdated}})],1)],1),e._v(" "),a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:e.colsSize}},[a("v-switch",{attrs:{disabled:!e.isUpdateEnable,color:"primary","data-test":"data-test-edit-locations-active","true-value":"ACTIVE","false-value":"INACTIVE"},scopedSlots:e._u([{key:"label",fn:function(){return[a("evergreen-span",{attrs:{type:"body-1",label:e.$t("pages.locations.active")}})]},proxy:!0}]),model:{value:e.localLocation.status,callback:function(t){e.$set(e.localLocation,"status",t)},expression:"localLocation.status"}})],1)],1),e._v(" "),a("v-row",{attrs:{"no-gutters":""}},[a("v-spacer"),e._v(" "),a("v-col",{staticClass:"text-right",attrs:{right:!0,absolute:!0}},[a("evergreen-contained-button",{staticClass:"btn btn-margin",attrs:{disabled:e.isSaveButtonDisabled,hidden:!e.isUpdateEnable,"data-test":"data-test-edit-locations-save-button",label:e.$t("pages.locations.save")},nativeOn:{click:function(t){return e.onSaveButtonPressed.apply(null,arguments)}}}),e._v(" "),a("evergreen-outlined-button",{staticClass:"btn btn-margin",attrs:{hidden:!e.isUpdateEnable,label:e.$t("pages.locations.cancel"),"data-test":"data-test-edit-locations-cancel-button"},nativeOn:{click:function(t){return e.gotoLocationsListPage.apply(null,arguments)}}}),e._v(" "),a("evergreen-outlined-button",{staticClass:"btn btn-margin",attrs:{hidden:e.hideDeleteButton||!e.isUpdateEnable,disabled:!e.locationId,label:e.$t("pages.locations.delete"),"data-test":"data-test-edit-locations-delete-button"},nativeOn:{click:function(t){e.showDeleteConfirmationDialog=!0}}})],1)],1)],1)],1)],1)],1)}),[],!1,Ur,"data-v-5664e393",null),Nr=Lr.exports;function Pr(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}var Mr={components:{"evergreen-span":ot.a,"debounced-text-field":Lt,"evergreen-contained-button":ft.a,"evergreen-outlined-button":vt.a},props:{addUserLocationModal:{type:Boolean,required:!0},locationId:{type:String,required:!0},locationName:{type:String,required:!0}},data:function(){return{tableFooterProps:{"items-per-page-options":[5,10,15,30,50]},showLoading:!0,showConfirmAddDialog:!1,removeSelectedUsersInProgress:!1,users:[],unselectedUsersInModal:[],selectedUserDataClone:[],tableCurrentPage:1,usersPerPage:10,totalUsers:0,queryTerm:"",userTableOptions:{},headers:[{text:"",value:"selected",sortable:!1,filterable:!1,width:"5%"},{text:"Username",sortable:!1,align:"start",value:"username",width:"20%"},{text:"First Name",sortable:!1,align:"start",value:"firstName",width:"20%"},{text:"Surname",sortable:!1,align:"start",value:"lastName",width:"20%"},{text:"Email",sortable:!1,align:"start",value:"email",width:"25%"},{text:"Status",sortable:!0,align:"start",value:"status",filterable:!1,width:"15%"}],columns:[{text:"",value:"selected",sortable:!1,width:"2%"},{text:"Username",sortable:!1,align:"start",value:"username",width:"25%"},{text:"First Name",sortable:!1,align:"start",value:"FirstName",width:"25%"},{text:"Last Name",sortable:!1,align:"start",value:"LastName",width:"25%"},{text:"Status",sortable:!1,align:"start",value:"Status",filterable:!1,width:"23%"}]}},mixins:[at.a],computed:{org:function(){return this.$store.get("globalContext/globalOrg")},numberOfSelectedUsers:function(){return this.$store.getters["userLocation/numberOfSelectedUsers"]||0},numberOfUnselectedUsersInModal:function(){return(this.unselectedUsersInModal||[]).length},disableConfirmAddUserModalOkButton:function(){var e=0===this.selectedUserDataClone.filter((function(e){return!0===e.selected})).length;return this.removeSelectedUsersInProgress||e},disableAddUserModalOkButton:function(){var e=0===this.$store.getters["userLocation/numberOfSelectedUsers"];return this.removeSelectedUsersInProgress||e},disableRemoveUserModalOkButton:function(){var e=0===this.selectedUserDataClone.filter((function(e){return!0===e.selected})).length;return this.removeSelectedUsersInProgress||e},allSelected:function(){if(0===this.users.length)return!1;for(var e=0;e<this.users.length;e+=1)if(!1===this.users[e].selected)return!1;return!0}},methods:{getUsers:function(){var e=this;return o()(l.a.mark((function t(){var a,s,n,r,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.$store.get("userLocation/selectedUsers")||[],e.showLoading=!0,e.users=[],t.prev=3,t.next=6,E.a.getUsers(e.getUsersFilterCriteria());case 6:if((s=t.sent).data&&(s.data.paging&&(e.totalUsers=s.data.paging.resultCount),s.data.data&&s.data.data.length>0))for(n=s.data.data,r=0;r<n.length;r+=1)o=n[r],e.users.push({userId:o.userId,username:o.username,firstName:o.firstName,lastName:o.lastName,email:o.email,status:o.status,selected:a.map((function(e){return e.userId})).includes(o.userId)});t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),e.org&&e.displayNotification("error",e.$i18n.t("pages.locations.usersInLocationNotFoundError"));case 13:e.showLoading=!1;case 14:case"end":return t.stop()}}),t,null,[[3,10]])})))()},clearSearchTerm:function(){this.queryTerm=null},doSearch:function(e){this.queryTerm=e},getUsersFilterCriteria:function(){var e=this.userTableOptions,t=e.sortBy,a=e.sortDesc,s=e.page,n=e.itemsPerPage;return{organizationId:this.org.id,query:this.queryTerm||"",includeRoleName:null,exludeRoleName:null,includeLocation:null,excludeLocation:this.locationId,page:s-1,perPage:n,sort:t.length>0?a[0]?"-".concat(t):"+".concat(t):""}},selectUserForBulkOperation:function(e){!0===e.selected?this.$store.commit("userLocation/appendSelectedUsers",[e]):this.$store.commit("userLocation/removeUserId",e.userId)},confirmAddSelectedUsers:function(){this.selectedUserDataClone=this.$store.getters["userLocation/selectedUsers"].map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Pr(Object(a),!0).forEach((function(t){gt()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Pr(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e)})),this.addUserLocationModal=!1,this.showConfirmAddDialog=!0},hideAddUsersToLocationModal:function(){this.unselectAll(),this.$emit("cancleAssignUserLocationModal",!1)},hideConfirmAddSelectedUsers:function(){this.selectedUserDataClone=[],this.showConfirmAddDialog=!1,this.addUserLocationModal=!0},unselectUserForBulkOperation:function(e){!0===e.selected?this.unselectedUsersInModal=this.unselectedUsersInModal.filter((function(t){return t!==e.userId})):this.unselectedUsersInModal=[].concat(pt()(this.unselectedUsersInModal),[e.userId])},commitUnSelectedUsers:function(){var e=this;this.unselectedUsersInModal.forEach((function(t){e.$store.commit("userLocation/removeUserId",t),e.users.forEach((function(e){e.userId===t&&(e.selected=!1)}))})),this.unselectedUsersInModal=[]},addSelectedUsersToLocation:function(){var e=this;return o()(l.a.mark((function t(){var a,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=setTimeout((function(){e.removeSelectedUsersInProgress=!0}),600),e.commitUnSelectedUsers(),s=[],(e.$store.get("userLocation/selectedUsers")||[]).forEach((function(t){var a={};a.locationId=e.locationId,a.userId=t.userId,s.push(a)})),!(s&&s.length>0)){t.next=25;break}return t.prev=5,t.next=8,E.a.addUserToLocation({userLocations:s});case 8:t.sent,e.showConfirmAddDialog=!1,e.unselectAll(),e.$emit("closeAssignUserLocationModal",!1),clearTimeout(a),e.updateProductsListInDashboard(s),e.displayNotification("success",e.$i18n.t("pages.locations.addUserSuccess")),t.next=23;break;case 17:t.prev=17,t.t0=t.catch(5),e.$emit("closeAssignUserLocationModal",!1),clearTimeout(a),"Authn-1037"===e.getErrorMessage(["response","data","errors",0,"code"],t.t0)?e.displayNotification("error",e.getErrorMessage(["response","data","errors",0,"title"],t.t0)):e.displayNotification("error",e.$i18n.t("pages.locations.addUserError"));case 23:t.next=27;break;case 25:clearTimeout(a),e.$emit("closeAssignUserLocationModal",!1);case 27:e.removeSelectedUsersInProgress=!1;case 28:case"end":return t.stop()}}),t,null,[[5,17]])})))()},unselectAll:function(){this.$store.commit("userLocation/clearSelectedUsers"),this.users.forEach((function(e){e.selected&&(e.selected=!1)})),this.unselectedUsersInModal=[],this.selectedUserDataClone=[]},selectAllUsers:function(){var e=this,t=this.allSelected;this.users.forEach((function(a){a.selected=!t,!0===a.selected?e.$store.get("userLocation/selectedUsers").some((function(e){return e.userId===a.userId}))||e.$store.commit("userLocation/appendSelectedUsers",[a]):e.$store.commit("userLocation/removeUserId",a.userId)}))}},watch:{org:function(e,t){e&&e.id!==t.id&&this.$store.commit("userLocation/clearSelectedUsers")},userTableOptions:{handler:function(){this.getUsers()},deep:!0},queryTerm:function(){1!==this.userTableOptions.page?this.userTableOptions.page=0:this.getUsers()}}};var Ir=function(e){a("wewv")},Tr=Object(lt.a)(Mr,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-dialog",{attrs:{"max-width":"1200",persistent:""},model:{value:e.addUserLocationModal,callback:function(t){e.addUserLocationModal=t},expression:"addUserLocationModal"}},[a("v-card",[a("v-row",[a("evergreen-span",{staticClass:"topTitle",attrs:{type:"h4",label:this.locationName}})],1),e._v(" "),a("v-row",[a("evergreen-span",{staticClass:"desc",attrs:{type:"body-1",label:e.$t("pages.locations.addUserLocationDescription",{locationName:e.locationName})}})],1),e._v(" "),a("v-row",[a("v-col",{staticClass:"search",attrs:{cols:"4"}},[a("debounced-text-field",{attrs:{"append-icon":""===e.queryTerm?"search":"",label:e.$t("pages.locations.searchByKeywords"),dense:"",outlined:"","hide-details":"",clearable:!!e.queryTerm,autoFocus:"","min-chars":1,debounce:700,"data-test":"data-test-add-users-in-location-search"},on:{"keyup:enter:nocheck":e.doSearch,"click:append:nocheck":e.doSearch,"click:clear":e.clearSearchTerm},model:{value:e.queryTerm,callback:function(t){e.queryTerm=t},expression:"queryTerm"}})],1)],1),e._v(" "),e.queryTerm?a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("evergreen-span",{staticClass:"numUsers",attrs:{type:"subtitle-1-green",label:e.totalUsers+" users found","data-test":"data-test-add-users-in-location-result-count"}})],1)],1):e._e(),e._v(" "),e.numberOfSelectedUsers>0?a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("evergreen-span",{staticClass:"numUsers",attrs:{type:"subtitle-1-green","data-test":"selectedAddUserLocationCountSpan"}},[a("a",[e._v(" "+e._s(e.numberOfSelectedUsers)+" selected ")]),e._v(" "),e.numberOfSelectedUsers>0?a("v-icon",{attrs:{"data-test":"unselectAddUsersAll"},on:{click:e.unselectAll}},[e._v("mdi-close")]):e._e()],1)],1)],1):e._e(),e._v(" "),a("v-data-table",{attrs:{headers:e.headers,height:"400",items:e.users,"items-per-page":e.usersPerPage,loading:e.showLoading,"server-items-length":e.totalUsers,options:e.userTableOptions,"footer-props":e.tableFooterProps,"sort-by":"status","item-key":"id",page:e.tableCurrentPage},on:{"update:options":function(t){e.userTableOptions=t},"update:page":function(t){e.tableCurrentPage=t}},scopedSlots:e._u([{key:"top",fn:function(){},proxy:!0},{key:"header.selected",fn:function(t){return[a("div",[a("v-simple-checkbox",{attrs:{color:"secondary","data-test":"selectAllAddUsers",value:e.allSelected},on:{input:e.selectAllUsers}})],1)]}},{key:"header.userName",fn:function(e){var t=e.header;return[a("evergreen-span",{staticClass:"dataTableContent",attrs:{label:t.text,type:"caption-medium"}})]}},{key:"header.firstName",fn:function(e){var t=e.header;return[a("evergreen-span",{attrs:{label:t.text,type:"caption-medium"}})]}},{key:"header.lastName",fn:function(e){var t=e.header;return[a("evergreen-span",{attrs:{label:t.text,type:"caption-medium"}})]}},{key:"header.email",fn:function(e){var t=e.header;return[a("evergreen-span",{attrs:{label:t.text,type:"caption-medium"}})]}},{key:"header.status",fn:function(e){var t=e.header;return[a("evergreen-span",{attrs:{label:t.text,type:"caption-medium","data-test":"data-test-status-change"}})]}},{key:"body",fn:function(t){var s=t.items;return[0!==e.users.length?a("tbody",e._l(s,(function(t,s){return a("tr",{key:s},[a("td",[a("div",[a("v-simple-checkbox",{attrs:{"data-test":"select-add-user-row-checkbox-"+t.username,color:"secondary"},on:{input:function(a){return e.selectUserForBulkOperation(t)}},model:{value:t.selected,callback:function(a){e.$set(t,"selected",a)},expression:"item.selected"}})],1)]),e._v(" "),a("td",[a("evergreen-span",{attrs:{label:t.username,type:"body-2"}})],1),e._v(" "),a("td",[a("evergreen-span",{attrs:{label:t.firstName,type:"body-2"}})],1),e._v(" "),a("td",[a("evergreen-span",{attrs:{label:t.lastName,type:"body-2"}})],1),e._v(" "),a("td",[a("evergreen-span",{attrs:{label:t.email,type:"body-2"}})],1),e._v(" "),a("td",[a("evergreen-span",{attrs:{label:t.status,type:"body-2"}})],1)])})),0):a("tbody",[e.showLoading?a("tr",[a("td",{staticStyle:{"text-align":"center"},attrs:{colspan:e.headers.length}},[e._v("\n                  "+e._s(e.$t("pages.locations.loadingText"))+"\n                ")])]):a("tr",[a("td",{staticStyle:{"text-align":"center"},attrs:{colspan:e.headers.length}},[e._v("\n                  No users available\n                ")])])])]}}])}),e._v(" "),a("v-row",[a("v-spacer"),e._v(" "),a("v-col",{staticClass:"d-flex justify-end"},[a("evergreen-contained-button",{staticClass:"dialogButton",attrs:{label:e.$t("common.form.add"),"data-test":"addUserToLocationBtn",disabled:e.disableAddUserModalOkButton},nativeOn:{click:function(t){return e.confirmAddSelectedUsers.apply(null,arguments)}}}),e._v(" "),a("evergreen-outlined-button",{staticClass:"dialogButton",attrs:{label:e.$t("common.form.cancel"),"data-test":"cancleAddUserToLocationBtn"},nativeOn:{click:function(t){return e.hideAddUsersToLocationModal.apply(null,arguments)}}})],1)],1)],1)],1),e._v(" "),a("v-dialog",{ref:"confirmRemoveDialog",attrs:{"max-width":"1200"},model:{value:e.showConfirmAddDialog,callback:function(t){e.showConfirmAddDialog=t},expression:"showConfirmAddDialog"}},[a("v-card",{attrs:{"data-test":"confirmRemoveDialog"}},[a("v-row",[a("evergreen-span",{staticClass:"topTitle",attrs:{type:"body-1"}},[e._v(" Selected user\n            ")])],1),e._v(" "),a("v-data-table",{ref:"selectedUsersTable",attrs:{"fixed-header":"",height:"590",headers:e.columns,items:e.selectedUserDataClone,"hide-default-footer":!0,"disable-sort":"","data-test":"SelectedUsersTable","disable-pagination":""},scopedSlots:e._u([{key:"body",fn:function(t){var s=t.items;return[s.length>0?a("tbody",e._l(s,(function(t){return a("tr",{key:t.username},[a("td",[a("v-simple-checkbox",{attrs:{"data-test":"unselect-users-location-row-checkbox-"+t.username,color:"secondary"},on:{input:function(a){return e.unselectUserForBulkOperation(t)}},model:{value:t.selected,callback:function(a){e.$set(t,"selected",a)},expression:"item.selected"}})],1),e._v(" "),a("td",[a("evergreen-span",{staticClass:"dataTableContent",attrs:{label:t.username,type:"body-2","data-test":"username-"+t.username}})],1),e._v(" "),a("td",[a("evergreen-span",{attrs:{label:t.firstName,type:"body-2"}})],1),e._v(" "),a("td",[a("evergreen-span",{attrs:{label:t.lastName,type:"body-2"}})],1),e._v(" "),a("td",[a("evergreen-span",{attrs:{label:t.status,type:"body-2"}})],1)])})),0):a("tbody",[a("tr",[a("td",{attrs:{colspan:e.columns.length,id:"no-data"}},[e._v("No data available")])])])]}}])}),e._v(" "),a("v-row",[a("v-spacer"),e._v(" "),a("v-col",{staticClass:"d-flex justify-end"},[a("evergreen-contained-button",{staticClass:"dialogButton",attrs:{label:e.$t("common.form.ok"),"data-test":"addUsersLocationModalOkBtn",disabled:e.disableConfirmAddUserModalOkButton},nativeOn:{click:function(t){return e.addSelectedUsersToLocation.apply(null,arguments)}}}),e._v(" "),a("evergreen-outlined-button",{staticClass:"dialogButton",attrs:{label:e.$t("common.form.cancel"),"data-test":"addUsersModalCancelBtn"},nativeOn:{click:function(t){return e.hideConfirmAddSelectedUsers.apply(null,arguments)}}})],1)],1)],1)],1)],1)}),[],!1,Ir,"data-v-82899398",null),$r=Tr.exports;function Er(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}var Dr={components:{"evergreen-span":ot.a,"debounced-text-field":Lt,"evergreen-contained-button":ft.a,"evergreen-text-button":Nt.a,"evergreen-outlined-button":vt.a,"modal-add-user":$r},props:{locationId:{type:String,required:!0},locationName:{type:String,required:!0}},data:function(){return{tableFooterProps:{"items-per-page-options":[5,10,15,30,50]},showLoading:!0,showConfirmRemoveDialog:!1,removeSelectedUsersInProgress:!1,users:[],unselectedUsersInModal:[],selectedUserDataClone:[],tableCurrentPage:1,usersPerPage:10,totalUsers:0,queryTerm:"",userTableOptions:{},addUserLocationModal:!1,addUserCall:!1,headers:[{text:"",value:"selected",sortable:!1,filterable:!1,width:"3%"},{text:"Username",sortable:!1,align:"start",value:"username",width:"20%"},{text:"First Name",sortable:!1,align:"start",value:"firstName",width:"20%"},{text:"Surname",sortable:!1,align:"start",value:"lastName",width:"20%"},{text:"Email",sortable:!1,align:"start",value:"email",width:"30%"},{text:"Status",sortable:!0,align:"start",value:"status",filterable:!1,width:"7%"}],columns:[{text:"",value:"selected",sortable:!1,width:"2%"},{text:"Username",sortable:!1,align:"start",value:"username",width:"25%"},{text:"First Name",sortable:!1,align:"start",value:"FirstName",width:"25%"},{text:"Last Name",sortable:!1,align:"start",value:"LastName",width:"25%"},{text:"Status",sortable:!1,align:"start",value:"Status",filterable:!1,width:"23%"}]}},mixins:[at.a],computed:{org:function(){return this.$store.get("globalContext/globalOrg")},numberOfSelectedUsers:function(){return this.$store.getters["userLocation/numberOfSelectedUsers"]||0},numberOfUnselectedUsersInModal:function(){return(this.unselectedUsersInModal||[]).length},disableRemoveUserModalOkButton:function(){var e=0===this.selectedUserDataClone.filter((function(e){return!0===e.selected})).length;return this.removeSelectedUsersInProgress||e},allSelected:function(){if(0===this.users.length)return!1;for(var e=0;e<this.users.length;e+=1)if(!1===this.users[e].selected)return!1;return!0}},methods:{getUsers:function(){var e=this;return o()(l.a.mark((function t(){var a,s,n,r,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.$store.get("userLocation/selectedUsers")||[],e.showLoading=!0,e.users=[],t.prev=3,t.next=6,E.a.getUsers(e.getUsersFilterCriteria());case 6:if((s=t.sent).data&&(s.data.paging&&(e.totalUsers=s.data.paging.resultCount),s.data.data&&s.data.data.length>0))for(n=s.data.data,r=0;r<n.length;r+=1)o=n[r],e.users.push({userId:o.userId,username:o.username,firstName:o.firstName,lastName:o.lastName,email:o.email,status:o.status,selected:a.map((function(e){return e.userId})).includes(o.userId)});t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),e.org&&e.displayNotification("error",e.$i18n.t("pages.locations.usersInLocationNotFoundError"));case 13:e.showLoading=!1;case 14:case"end":return t.stop()}}),t,null,[[3,10]])})))()},clearSearchTerm:function(){this.queryTerm=null},doSearch:function(e){this.queryTerm=e},getUsersFilterCriteria:function(){var e=this.userTableOptions,t=e.sortBy,a=e.sortDesc,s=e.page,n=e.itemsPerPage;return{organizationId:this.org.id,query:this.queryTerm||"",includeRoleName:null,exludeRoleName:null,includeLocation:this.locationId,excludeLocation:null,page:s-1,perPage:n,sort:t.length>0?a[0]?"-".concat(t):"+".concat(t):""}},selectUserForBulkOperation:function(e){!0===e.selected?this.$store.commit("userLocation/appendSelectedUsers",[e]):this.$store.commit("userLocation/removeUserId",e.userId)},confirmRemoveSelectedUsers:function(){this.selectedUserDataClone=this.$store.getters["userLocation/selectedUsers"].map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Er(Object(a),!0).forEach((function(t){gt()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Er(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e)})),this.showConfirmRemoveDialog=!0},openAddUserLocationModal:function(){this.addUserCall&&this.$refs.childAddUserModal.getUsers(),this.addUserLocationModal=!0,this.addUserCall=!0,this.unselectAll()},hideConfirmRemoveSelectedUsers:function(){this.selectedUserDataClone=[],this.showConfirmRemoveDialog=!1},unselectUserForBulkOperation:function(e){!0===e.selected?this.unselectedUsersInModal=this.unselectedUsersInModal.filter((function(t){return t!==e.userId})):this.unselectedUsersInModal=[].concat(pt()(this.unselectedUsersInModal),[e.userId])},commitUnSelectedUsers:function(){var e=this;this.unselectedUsersInModal.forEach((function(t){e.$store.commit("userLocation/removeUserId",t),e.users.forEach((function(e){e.userId===t&&(e.selected=!1)}))})),this.unselectedUsersInModal=[]},removeSelectedUsersFromLocation:function(){var e=this;return o()(l.a.mark((function t(){var a,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=setTimeout((function(){e.removeSelectedUsersInProgress=!0}),600),e.commitUnSelectedUsers(),s=[],(e.$store.get("userLocation/selectedUsers")||[]).forEach((function(t){var a={};a.locationId=e.locationId,a.userId=t.userId,s.push(a)})),!(s&&s.length>0)){t.next=25;break}return t.prev=5,t.next=8,E.a.removeUserFromLocation({userLocations:s});case 8:t.sent,e.showConfirmRemoveDialog=!1,clearTimeout(a),e.unselectAll(),1===e.tableCurrentPage?e.getUsers():e.tableCurrentPage=1,e.updateProductsListInDashboard(s),e.displayNotification("success",e.$i18n.t("pages.locations.removeUserSuccess")),t.next=23;break;case 17:t.prev=17,t.t0=t.catch(5),e.showConfirmRemoveDialog=!1,clearTimeout(a),"Authn-1037"===e.getErrorMessage(["response","data","errors",0,"code"],t.t0)?e.displayNotification("error",e.getErrorMessage(["response","data","errors",0,"title"],t.t0)):e.displayNotification("error",e.$i18n.t("pages.locations.removeUserError"));case 23:t.next=27;break;case 25:clearTimeout(a),e.showConfirmRemoveDialog=!1;case 27:e.removeSelectedUsersInProgress=!1;case 28:case"end":return t.stop()}}),t,null,[[5,17]])})))()},closeAssignUserLocationModal:function(e){this.addUserLocationModal=e,1===this.tableCurrentPage?this.getUsers():this.tableCurrentPage=1},cancelAssignUserLocationModal:function(e){this.addUserLocationModal=e},unselectAll:function(){this.$store.commit("userLocation/clearSelectedUsers"),this.users.forEach((function(e){e.selected&&(e.selected=!1)})),this.unselectedUsersInModal=[],this.selectedUserDataClone=[]},selectAllUsers:function(){var e=this,t=this.allSelected;this.users.forEach((function(a){a.selected=!t,!0===a.selected?e.$store.get("userLocation/selectedUsers").some((function(e){return e.userId===a.userId}))||e.$store.commit("userLocation/appendSelectedUsers",[a]):e.$store.commit("userLocation/removeUserId",a.userId)}))}},watch:{org:function(e,t){e&&e.id!==t.id&&this.$store.commit("userLocation/clearSelectedUsers")},userTableOptions:{handler:function(){this.getUsers()},deep:!0},queryTerm:function(){1!==this.userTableOptions.page?this.userTableOptions.page=0:this.getUsers()}}};var Fr=function(e){a("sXia")},Rr=Object(lt.a)(Dr,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-overlay",{attrs:{value:e.showLoading,opacity:"0"}},[a("v-progress-circular",{staticClass:"evergreen-spinner",attrs:{indeterminate:""}})],1),e._v(" "),a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("evergreen-contained-button",{staticClass:"button",attrs:{label:e.$t("pages.locations.addUser"),"data-test":"AddUsersToLocationButton"},nativeOn:{click:function(t){return e.openAddUserLocationModal.apply(null,arguments)}}})],1)],1),e._v(" "),a("v-card-title",[a("v-row",[a("evergreen-span",{staticClass:"description",attrs:{type:"body-1",label:e.$t("pages.locations.addRemoveUserLocationDescription",{locationName:e.locationName})}})],1)],1),e._v(" "),a("v-card-text",{staticClass:"dataTableCardText"},[a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("debounced-text-field",{attrs:{"append-icon":""===e.queryTerm?"search":"",label:e.$t("pages.locations.searchByKeywords"),dense:"",outlined:"","hide-details":"",clearable:!!e.queryTerm,autoFocus:"","min-chars":1,debounce:700,"data-test":"data-test-users-in-location-search"},on:{"keyup:enter:nocheck":e.doSearch,"click:append:nocheck":e.doSearch,"click:clear":e.clearSearchTerm},model:{value:e.queryTerm,callback:function(t){e.queryTerm=t},expression:"queryTerm"}})],1)],1),e._v(" "),e.queryTerm?a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("evergreen-span",{attrs:{type:"subtitle-1-green",label:e.totalUsers+" users found","data-test":"data-test-users-in-location-result-count"}})],1)],1):e._e(),e._v(" "),e.numberOfSelectedUsers>0?a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("evergreen-span",{staticClass:"num-of-users-selected",attrs:{type:"subtitle-1-green","data-test":"selectedUserCountSpanForRemoving"}},[a("a",[e._v(" "+e._s(e.numberOfSelectedUsers)+" selected ")]),e._v(" "),e.numberOfSelectedUsers>0?a("v-icon",{attrs:{"data-test":"unselectAll"},on:{click:e.unselectAll}},[e._v("mdi-close")]):e._e()],1)],1),e._v(" "),a("v-col",{staticStyle:{"text-align":"right"},attrs:{cols:"6"}},[a("evergreen-text-button",{attrs:{label:"Remove Users","data-test":"remove-users-btn"},nativeOn:{click:function(t){return e.confirmRemoveSelectedUsers.apply(null,arguments)}}})],1)],1):e._e()],1),e._v(" "),a("v-data-table",{staticClass:"elevation-0 dataTable",attrs:{"fixed-header":"",headers:e.headers,items:e.users,"items-per-page":e.usersPerPage,loading:e.showLoading,"server-items-length":e.totalUsers,options:e.userTableOptions,"footer-props":e.tableFooterProps,"sort-by":"status","item-key":"id",page:e.tableCurrentPage},on:{"update:options":function(t){e.userTableOptions=t},"update:page":function(t){e.tableCurrentPage=t}},scopedSlots:e._u([{key:"top",fn:function(){},proxy:!0},{key:"header.selected",fn:function(t){return[a("div",[a("v-simple-checkbox",{attrs:{color:"secondary","data-test":"selectAllUsers",value:e.allSelected},on:{input:e.selectAllUsers}})],1)]}},{key:"header.userName",fn:function(e){var t=e.header;return[a("evergreen-span",{staticClass:"dataTableContent",attrs:{label:t.text,type:"caption-medium"}})]}},{key:"header.firstName",fn:function(e){var t=e.header;return[a("evergreen-span",{attrs:{label:t.text,type:"caption-medium"}})]}},{key:"header.lastName",fn:function(e){var t=e.header;return[a("evergreen-span",{attrs:{label:t.text,type:"caption-medium"}})]}},{key:"header.email",fn:function(e){var t=e.header;return[a("evergreen-span",{attrs:{label:t.text,type:"caption-medium"}})]}},{key:"header.status",fn:function(e){var t=e.header;return[a("evergreen-span",{attrs:{label:t.text,type:"caption-medium","data-test":"data-test-status-change"}})]}},{key:"body",fn:function(t){var s=t.items;return[0!==e.users.length?a("tbody",e._l(s,(function(t,s){return a("tr",{key:s},[a("td",[a("div",[a("v-simple-checkbox",{attrs:{"data-test":"select-user-row-checkbox-"+t.username,color:"secondary"},on:{input:function(a){return e.selectUserForBulkOperation(t)}},model:{value:t.selected,callback:function(a){e.$set(t,"selected",a)},expression:"item.selected"}})],1)]),e._v(" "),a("td",[a("evergreen-span",{attrs:{label:t.username,type:"body-2"}})],1),e._v(" "),a("td",[a("evergreen-span",{attrs:{label:t.firstName,type:"body-2"}})],1),e._v(" "),a("td",[a("evergreen-span",{attrs:{label:t.lastName,type:"body-2"}})],1),e._v(" "),a("td",[a("evergreen-span",{attrs:{label:t.email,type:"body-2"}})],1),e._v(" "),a("td",[a("evergreen-span",{attrs:{label:t.status,type:"body-2"}})],1)])})),0):a("tbody",[e.showLoading?a("tr",[a("td",{staticStyle:{"text-align":"center"},attrs:{colspan:e.headers.length}},[e._v("\n          "+e._s(e.$t("pages.locations.loadingText"))+"\n        ")])]):a("tr",[a("td",{staticStyle:{"text-align":"center"},attrs:{colspan:e.headers.length}},[e._v("\n          No users available\n        ")])])])]}}])}),e._v(" "),a("v-dialog",{ref:"confirmRemoveDialog",attrs:{"max-width":"700"},model:{value:e.showConfirmRemoveDialog,callback:function(t){e.showConfirmRemoveDialog=t},expression:"showConfirmRemoveDialog"}},[a("v-card",{attrs:{"data-test":"confirmRemoveDialog"}},[a("v-row",[a("evergreen-span",{staticClass:"numUsersSelect",staticStyle:{"padding-bottom":"0.5rem"},attrs:{type:"h4",label:e.$t("pages.locations.removeUsersFromLocation")}})],1),e._v(" "),a("v-row",[a("evergreen-span",{staticClass:"numUsersSelect",attrs:{type:"body-1",label:e.$t("pages.locations.removeUsersFromLocationConfirmText",{numberOfSelectedUsers:e.numberOfSelectedUsers})}})],1),e._v(" "),a("v-data-table",{ref:"selectedUsersTable",attrs:{"fixed-header":"",height:"300",headers:e.columns,items:e.selectedUserDataClone,"hide-default-footer":!0,"disable-sort":"","data-test":"SelectedUsersTable","disable-pagination":""},scopedSlots:e._u([{key:"body",fn:function(t){var s=t.items;return[s.length>0?a("tbody",e._l(s,(function(t){return a("tr",{key:t.username},[a("td",[a("v-simple-checkbox",{attrs:{"data-test":"unselect-users-row-checkbox-"+t.username,color:"secondary"},on:{input:function(a){return e.unselectUserForBulkOperation(t)}},model:{value:t.selected,callback:function(a){e.$set(t,"selected",a)},expression:"item.selected"}})],1),e._v(" "),a("td",[a("evergreen-span",{staticClass:"dataTableContent",attrs:{label:t.username,type:"body-2","data-test":"username-"+t.username}})],1),e._v(" "),a("td",[a("evergreen-span",{attrs:{label:t.firstName,type:"body-2"}})],1),e._v(" "),a("td",[a("evergreen-span",{attrs:{label:t.lastName,type:"body-2"}})],1),e._v(" "),a("td",[a("evergreen-span",{attrs:{label:t.status,type:"body-2"}})],1)])})),0):a("tbody",[a("tr",[a("td",{attrs:{colspan:e.columns.length,id:"no-data"}},[e._v("No data available")])])])]}}])}),e._v(" "),a("v-row",[a("v-spacer"),e._v(" "),a("v-col",{staticClass:"d-flex justify-end"},[a("evergreen-contained-button",{staticClass:"dialogButton",attrs:{label:e.$t("common.form.ok"),"data-test":"removeUsersModalOkBtn",disabled:e.disableRemoveUserModalOkButton},nativeOn:{click:function(t){return e.removeSelectedUsersFromLocation.apply(null,arguments)}}}),e._v(" "),a("evergreen-outlined-button",{staticClass:"dialogButton",attrs:{label:e.$t("common.form.cancel"),"data-test":"removeUsersModalCancelBtn"},nativeOn:{click:function(t){return e.hideConfirmRemoveSelectedUsers.apply(null,arguments)}}})],1)],1)],1)],1),e._v(" "),a("modal-add-user",{ref:"childAddUserModal",attrs:{addUserLocationModal:e.addUserLocationModal,"location-id":e.locationId,"location-name":e.locationName},on:{closeAssignUserLocationModal:e.closeAssignUserLocationModal,cancelAssignUserLocationModal:e.cancelAssignUserLocationModal}})],1)}),[],!1,Fr,"data-v-4fe9ee3c",null),zr=Rr.exports,jr={name:"User-Location",components:{"evergreen-span":ot.a,"edit-location":Nr,"show-user-location":zr},props:{locationId:{type:String,required:!0},org:{type:Object,required:!0}},data:function(){return{tab:null,locationDetails:"".concat(this.$t("pages.locations.locationDetailsTabName")),locationName:"",items:[{tab:"".concat(this.$t("pages.locations.locationDetailsTabName")),content:"edit-location"},{tab:"".concat(this.$t("pages.locations.usersTabName")),content:"show-user-location"}],breadcrumbsItems:[{text:"".concat(this.$t("pages.locations.title")),href:"#/locations"},{text:"".concat(this.$t("pages.locations.locationDetails")),disabled:!0}]}},methods:{onTabChange:function(e){var t=this;this.breadcrumbsItems.forEach((function(a,s){a.text==="".concat(t.$t("pages.locations.locationDetails"))&&e==="".concat(t.$t("pages.locations.usersTabName"))&&(a.text="".concat(t.$t("pages.app.users"))),a.text==="".concat(t.$t("pages.app.users"))&&e==="".concat(t.$t("pages.locations.locationDetailsTabName"))&&(a.text="".concat(t.$t("pages.locations.locationDetails")))}))},locationNameSel:function(e){this.locationName=e}}};var qr=function(e){a("CFYQ")},Br=Object(lt.a)(jr,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-card",{staticClass:"header-breadcrumb",attrs:{flat:""}},[a("evergreen-span",{attrs:{type:"h3",label:this.locationName}})],1),e._v(" "),a("v-breadcrumbs",{staticClass:"pl-0 pt-0",attrs:{items:e.breadcrumbsItems,divider:"/"},scopedSlots:e._u([{key:"item",fn:function(e){return[e.item.href?a("a",{staticClass:"breadcrumb-clickable",attrs:{href:e.item.href}},[a("evergreen-span",{attrs:{type:"body-1",label:e.item.text}})],1):a("evergreen-span",{attrs:{type:"body-1",label:e.item.text}})]}}])}),e._v(" "),a("v-card",[a("v-tabs",{attrs:{color:"primary","data-test":"UserLocationsTabs"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},e._l(e.items,(function(t){return a("v-tab",{key:t.tab,attrs:{"data-test":t.content+"-usersTab"},on:{click:function(a){return e.onTabChange(t.tab)}}},[e._v("\n        "+e._s(t.tab)+"\n      ")])})),1),e._v(" "),a("v-tabs-items",{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},e._l(e.items,(function(t){return a("v-tab-item",{key:t.tab},[a("v-card",{attrs:{flat:"",outlined:""}},[t.tab===e.locationDetails?a(t.content,{tag:"component",attrs:{"location-id":e.locationId,org:e.org},on:{locationNameSel:e.locationNameSel}}):a(t.content,{tag:"component",attrs:{"location-id":e.locationId,locationName:e.locationName}})],1)],1)})),1)],1)],1)}),[],!1,qr,"data-v-fa83d7d0",null).exports;function Vr(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}var Gr={beforeRouteLeave:function(e,t,a){this.globalUnsavedChanges?(this.$store.commit("globalContext/setRouteTo",e.name),this.$store.commit("globalContext/setIsRouteChange",!0),this.$store.commit("globalContext/setShowDiscardChangesModal",!0),a(!1)):a()},components:{"evergreen-span":ot.a,"list-locations":yr,"edit-locations":Nr,"user-locations":Br},data:function(){return{locationId:this.$route.params.id}},computed:function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Vr(Object(a),!0).forEach((function(t){gt()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Vr(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({org:function(){return this.$store.get("globalContext/globalOrg")},globalUnsavedChanges:function(){return this.$store.get("globalContext/globalUnsavedChanges")},routeTo:function(){return this.$store.get("globalContext/routeTo")}},Object(tn.b)({selectedOrg:"globalContext/globalOrg"})),mounted:function(){var e=this;this.$root.$on("unsavedChanges",(function(){e.changesNotSaved()})),this.$root.$on("changesSaved",(function(){e.changesSaved()}))},methods:{gotoLocationsPage:function(){this.$router.push({name:"Locations"})},changesSaved:function(){this.$store.commit("globalContext/setGlobalUnsavedChanges",!1)},changesNotSaved:function(){this.$store.commit("globalContext/setGlobalUnsavedChanges",!0)},locationSelected:function(e){e&&this.$router.push({name:"LocationsUser",params:{id:e}})}}};var Hr=function(e){a("OwqI")},Yr=Object(lt.a)(Gr,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main"},[e.selectedOrg?a("div",["Locations"===e.$router.currentRoute.name?a("list-locations",{attrs:{org:e.selectedOrg},on:{locationSelected:e.locationSelected}}):e._e(),e._v(" "),"LocationsUser"===e.$router.currentRoute.name?a("user-locations",{attrs:{"location-id":e.locationId,org:e.selectedOrg}}):e._e(),e._v(" "),"LocationsNew"===e.$router.currentRoute.name?a("edit-locations",{attrs:{org:e.selectedOrg},on:{locationCreated:e.locationSelected}}):e._e()],1):e._e()])}),[],!1,Hr,"data-v-ccc74580",null).exports,Qr={name:"ProductEnablement",components:{EvergreenSpan:ot.a,EvergreenContainedButton:ft.a,EvergreenOutlinedButton:vt.a},props:{products:{type:Array}},data:function(){return{isOrgWide:!0,selectedProduct:null}},computed:{breadcrumbs:function(){return[{dataTest:"org-products-breadcrumb",text:this.$t("pages.products.products"),href:"#/organization/products"},{text:this.$t("pages.products.addProduct"),dataTest:"org-products-breadcrumb-add-product"}]},globalOrg:function(){return this.$store.getters["globalContext/globalOrg"]}},methods:{handleEnableClick:function(){var e=this;return o()(l.a.mark((function t(){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.globalOrg||!e.selectedProduct){t.next=15;break}return t.prev=1,t.next=4,E.a.enableProduct(e.globalOrg.id,e.selectedProduct.appName,e.isOrgWide);case 4:return e.$router.push({name:"Organization Products"}),e.isOrgWide?e.displayNotification("success",e.$t("pages.products.productEnabledNotificationAll",{productName:e.selectedProduct.displayName})):e.displayNotification("success",e.$t("pages.products.productEnabledNotificationSelected",{productName:e.selectedProduct.displayName})),t.next=8,E.a.getUsersMe();case 8:(a=t.sent).data&&(e.updateAppsListInUserStore(a),Ke.a.displayApplications()),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),e.displayNotification("error",t.t0.response.data.errors[0].title);case 15:case"end":return t.stop()}}),t,null,[[1,12]])})))()},handleNextClick:function(){this.$router.push({name:"Organization Product Select Location",params:{productName:this.selectedProduct.appName}})},handleCancelClick:function(){this.$router.push({name:"Organization Products"})}},watch:{products:function(){if(this.products&&this.products.length>0){var e=T()(this.products,1);this.selectedProduct=e[0]}}}};var Wr=function(e){a("0Rx3")},Zr=Object(lt.a)(Qr,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("evergreen-span",{attrs:{type:"h3"}},[e._v(e._s(e.$t("pages.products.mainTitle")))]),e._v(" "),a("v-breadcrumbs",{staticClass:"pl-1-rem",attrs:{items:e.breadcrumbs,divider:">"},scopedSlots:e._u([{key:"item",fn:function(e){return[a("a",{staticStyle:{"text-decoration":"none",color:"black"},attrs:{href:e.item.href,"data-test":e.item.dataTest}},[a("evergreen-span",{attrs:{type:"h6-light",label:e.item.text}})],1)]}}]),model:{value:e.breadcrumbs,callback:function(t){e.breadcrumbs=t},expression:"breadcrumbs"}}),e._v(" "),a("v-card",{staticClass:"mt-2-rem p-4-rem pt-3-rem pb-3-rem"},[a("evergreen-span",{attrs:{type:"body-1"}},[e._v("\n      "+e._s(e.$t("pages.products.selectProductToEnableLocation"))+"\n    ")]),e._v(" "),a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("v-autocomplete",{staticClass:"mt-6",staticStyle:{width:"22.25rem"},attrs:{"data-test":"enable-product-for-org-dropdown",outlined:"","item-text":"appName","return-object":!0,items:e.products},model:{value:e.selectedProduct,callback:function(t){e.selectedProduct=t},expression:"selectedProduct"}})],1)],1),e._v(" "),a("evergreen-span",{attrs:{type:"h6"}},[e._v("\n      "+e._s(e.$t("pages.products.locationAccess"))+"\n    ")]),e._v(" "),a("v-radio-group",{attrs:{row:""},model:{value:e.isOrgWide,callback:function(t){e.isOrgWide=t},expression:"isOrgWide"}},[a("v-radio",{staticClass:"chk-all-location",attrs:{value:!0,"data-test":"select-isOrgWide"},scopedSlots:e._u([{key:"label",fn:function(){return[e._v("\n          "+e._s(e.$t("pages.products.allLocations"))+"\n          "),a("v-tooltip",{attrs:{right:"","nudge-bottom":"30","nudge-left":"15","content-class":"tooltip"},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on,n=t.attrs;return[a("v-icon",e._g(e._b({staticClass:"mdi mdi-information",staticStyle:{"font-size":"1rem","margin-left":"0.5rem"}},"v-icon",n,!1),s))]}}])},[e._v(" "),a("span",[e._v("\n              "+e._s(e.$t("pages.products.newLocationsAutomaticallyHaveAccess"))+"\n            ")])])]},proxy:!0}])}),e._v(" "),a("v-radio",{attrs:{value:!1,"data-test":"select-isSpecificLocation",label:e.$t("pages.products.selectLocations")}})],1),e._v(" "),a("v-row",[a("v-col",{attrs:{cols:"6"}}),e._v(" "),a("v-col",{attrs:{cols:"6"}},[a("div",{staticStyle:{"text-align":"right"}},[a("evergreen-contained-button",{staticClass:"action-button",attrs:{"data-test":"enable-btn",label:e.$t("pages.products.enable"),disabled:!e.isOrgWide||0===this.products.length},nativeOn:{click:function(t){return e.handleEnableClick()}}}),e._v(" "),a("evergreen-outlined-button",{staticClass:"action-button",attrs:{"data-test":"location-list-next-btn",label:e.$t("pages.products.next"),disabled:e.isOrgWide||0===this.products.length},nativeOn:{click:function(t){return e.handleNextClick()}}}),e._v(" "),a("evergreen-outlined-button",{staticClass:"action-button",attrs:{"data-test":"cancel-btn",label:e.$t("pages.products.cancel")},nativeOn:{click:function(t){return e.handleCancelClick()}}})],1)])],1)],1)],1)}),[],!1,Wr,"data-v-459d004c",null).exports,Xr={name:"ProductList",components:{EvergreenContainedButton:ft.a,EvergreenSpan:ot.a,EvergreenTextButton:Nt.a},mixins:[st.a],props:{products:{type:Array}},computed:{productChangesAllowed:function(){return this.isActionAllowed($o.OrganizationsAdmin,this.$root.userStore)}},methods:{handleAddProductClick:function(){this.$router.push({name:"Organization AddProduct"})},handleManageLocationsClick:function(e){this.$router.push({name:"Organization Product Select Location",params:{productName:e.productName}})},handleSettingsClick:function(e){this.$router.push({name:"Organization Product Settings",params:{productName:e.productName}})}}};var Jr=function(e){a("S85Z")},Kr=Object(lt.a)(Xr,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("evergreen-span",{attrs:{type:"h3"}},[e._v(e._s(e.$t("pages.products.mainTitle")))]),e._v(" "),a("v-card",{staticClass:"mt-2-rem p-4-rem pt-3-rem pb-3-rem"},[e.productChangesAllowed?a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("evergreen-contained-button",{attrs:{"data-test":"button-addProduct",label:e.$t("pages.products.addProduct")},nativeOn:{click:function(t){return e.handleAddProductClick()}}})],1),e._v(" "),a("v-col",{attrs:{cols:"12"}},[a("evergreen-span",{attrs:{type:"body-1"}},[e._v("\n          "+e._s(e.$t("pages.products.addProductsOrManageExisting"))+"\n        ")])],1)],1):e._e(),e._v(" "),a("v-row",{staticStyle:{"margin-left":"-1.5rem","margin-right":"-1.5rem"}},e._l(e.products,(function(t){return a("v-col",{key:t.productName,staticClass:"p-4-rem",attrs:{sm:"12",md:"4"}},[a("v-card",{staticClass:"product-card",attrs:{"data-test":"product-card","data-product":t.productName}},[a("v-img",{staticClass:"image",attrs:{src:null==t.logo?"static/images/fallback_logo.jpg":t.logo,"data-src":null==t.logo?"static/images/fallback_logo.jpg":t.logo,"data-test":"product-logo"}}),e._v(" "),a("div",{staticClass:"p-2-rem card-body"},[a("v-card-title",[a("evergreen-span",{attrs:{type:"h5","data-test":"product-display-name"}},[e._v(e._s(t.displayName))])],1),e._v(" "),a("v-card-actions",{staticClass:"card-actions"},[a("div",{staticClass:"action-buttons"},[a("span",[t.isOrganizationWide?e._e():a("evergreen-text-button",{attrs:{"data-product":t.productName,"data-test":"button-manage-location",label:e.$t("pages.products.manageLocations")},nativeOn:{click:function(a){return e.handleManageLocationsClick(t)}}})],1),e._v(" "),a("evergreen-text-button",{staticClass:"settings-btn",attrs:{"data-product":t.productName,"data-test":"button-settings",label:e.$t("pages.products.settings")},nativeOn:{click:function(a){return e.handleSettingsClick(t)}}})],1)])],1)],1)],1)})),1)],1)],1)}),[],!1,Jr,"data-v-72630212",null).exports,eo={name:"ProductLocations",components:{EvergreenSpan:ot.a,EvergreenContainedButton:ft.a,EvergreenOutlinedButton:vt.a,DebouncedTextField:Lt},mixins:[_t,st.a],data:function(){return{cancelDialog:!1,saveDialog:!1,searchTerm:"",products:[],enabledProductsList:[],locationsPerPage:5,showLoading:!1,totalLocationsCount:7,locationsTableOptions:{},tableFooterProps:{"items-per-page-options":[5,10,15,30,50]},tableCurrentPage:1,locationsToEnable:[],locationsToDisable:[],locations:[],headers:[{text:"",value:"selected",sortable:!1,width:"5%"},{text:this.$t("pages.products.locationName"),sortable:!1,align:"start",value:"name",width:"25%"},{text:this.$t("pages.products.address"),sortable:!1,align:"start",value:"address",width:"20%"},{text:this.$t("pages.products.status"),sortable:!1,align:"start",value:"status",filterable:!1,width:"20%"}],saveDialogHeaders:[{text:"",value:"selected",sortable:!1,width:"5%"},{text:this.$t("pages.products.locationName"),sortable:!1,align:"start",value:"name",width:"25%"},{text:this.$t("pages.products.address"),sortable:!1,align:"start",value:"address",width:"35%"}]}},computed:{org:function(){return this.$store.get("globalContext/globalOrg")},productName:function(){return this.$route.params.productName},product:function(){var e=this;return this.productChangesAllowed?this.products.find((function(t){return t.appName===e.productName})):this.enabledProductsList.find((function(t){return t.productName===e.productName}))},productChangesAllowed:function(){return this.isActionAllowed($o.OrganizationsAdmin,this.$root.userStore)},enableLocationCount:function(){return this.confirmedLocationsToEnable.length},disableLocationCount:function(){return this.confirmedLocationsToDisable.length},saveDisabled:function(){return 0===this.locationsToEnable.length&&0===this.locationsToDisable.length},confirmedLocationsToEnable:function(){return this.$store.get("productLocations/confirmedLocationsToEnable")},confirmedLocationsToDisable:function(){return this.$store.get("productLocations/confirmedLocationsToDisable")},allSelected:function(){return this.locations.every((function(e){return!0===e.selected}))},indeterminate:function(){for(var e=this.locations[0].selected,t=1;t<this.locations.length;t++)if(this.locations[t].selected!==e)return!0;return!1},breadcrumbs:function(){var e=this;return this.enabledProductsList.find((function(t){return t.productName===e.productName}))?[{dataTest:"org-products-breadcrumb",text:this.$t("pages.products.products"),href:"#/organization/products"},{text:this.$t("pages.products.settings"),dataTest:"org-products-breadcrumb-add-product",href:"#/organization/products/settings/".concat(this.productName)},{text:this.$t("pages.products.selectLocations"),dataTest:"org-products-breadcrumb-location-list"}]:[{dataTest:"org-products-breadcrumb",text:this.$t("pages.products.products"),href:"#/organization/products"},{text:this.$t("pages.products.settings"),dataTest:"org-products-breadcrumb-add-product",href:"#/organization/products/add"},{text:this.$t("pages.products.selectLocations"),dataTest:"org-products-breadcrumb-location-list"}]}},watch:{locationsTableOptions:{handler:function(){this.getLocations()},deep:!0},searchTerm:function(){this.getLocations()},org:function(){this.getLocations()}},mounted:function(){var e=this;return o()(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getAllProducts();case 2:case"end":return t.stop()}}),t)})))()},methods:{getAllProducts:function(){var e=this;return o()(l.a.mark((function t(){var a,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!e.productChangesAllowed){t.next=6;break}return t.next=4,E.a.getAllProducts();case 4:a=t.sent,e.products=a.data.apps;case 6:return t.next=8,E.a.getOrganizationProducts(e.org.id);case 8:s=t.sent,e.enabledProductsList=s.data.products,t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),e.displayNotification("error",t.t0.response.data.errors[0].title);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))()},getLocations:function(){var e=this;return o()(l.a.mark((function t(){var a,s,n,r,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.showLoading=!0,e.locations=[],e.totalLocationsCount=0,t.prev=3,t.next=6,E.a.getLocationsByOrgId(e.org.id,e.getFilterCriteria());case 6:(a=t.sent).data&&a.data.paging&&(e.totalLocationsCount=a.data.paging.resultCount,a.data.locations.length>0&&(s=a.data.locations.slice(),n=new Map(e.locationsToEnable.map((function(e){return[e.locationId,e]}))),r=new Map(e.locationsToDisable.map((function(e){return[e.locationId,e]}))),s.forEach((function(e){e.selected=e.isProductEnabled,e.unSelected=!e.selected,n.has(e.locationId)&&(e.selected=!0),r.has(e.locationId)&&(e.selected=!1)})),e.locations=s)),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(3),o=e.getErrorMessage(["response","data","errors",0,"title"],t.t0)||t.t0.message,e.displayNotification("error",o);case 14:e.showLoading=!1;case 15:case"end":return t.stop()}}),t,null,[[3,10]])})))()},clearSearchTerm:function(){this.searchTerm=""},doSearch:function(e){this.searchTerm=e},getFilterCriteria:function(){var e=this.locationsTableOptions,t=e.page,a=e.itemsPerPage;return{productName:this.productName,query:this.searchTerm,pageSize:a||5,page:t||1,status:"ACTIVE"}},toggleLocationForBulkOperation:function(e,t){e.isProductEnabled&&!t&&(-1===this.locationsToDisable.indexOf(e)&&(e.unSelected=!0,this.locationsToDisable.push(e)));!e.isProductEnabled&&t&&(-1===this.locationsToEnable.indexOf(e)&&this.locationsToEnable.push(e));if(e.isProductEnabled&&t){var a=this.locationsToDisable.indexOf(e);a>-1&&(e.unSelected=!1,this.locationsToDisable.splice(a,1))}if(!e.isProductEnabled&&!t){var s=this.locationsToEnable.indexOf(e);s>-1&&this.locationsToEnable.splice(s,1)}},toggleAllSelected:function(){var e=this,t=!this.allSelected&&!this.indeterminate;this.locations.forEach((function(a){a.selected=t;var s=a.selected;if(s&&a.isProductEnabled){var n=e.locationsToDisable.indexOf(a);n>-1&&e.locationsToDisable.splice(n,1)}s&&!a.isProductEnabled&&(-1===e.locationsToEnable.indexOf(a)&&e.locationsToEnable.push(a));if(!s&&!a.isProductEnabled){var r=e.locationsToEnable.indexOf(a);r>-1&&(a.unSelected=!1,e.locationsToEnable.splice(r,1))}!s&&a.isProductEnabled&&(-1===e.locationsToDisable.indexOf(a)&&(a.unSelected=!0,e.locationsToDisable.push(a)))}))},startSaveProcess:function(){this.$store.commit("productLocations/initializeConfirmedLocationsToEnable",this.locationsToEnable),this.$store.commit("productLocations/initializeConfirmedLocationsToDisable",this.locationsToDisable),this.saveDialog=!0},toggleLocationFromEnableList:function(e,t){t?t&&this.$store.commit("productLocations/pushConfirmedLocationsToEnable",e):this.$store.commit("productLocations/popConfirmedLocationsToEnable",e)},toggleLocationFromDisableList:function(e){e.unSelected?e.unSelected&&this.$store.commit("productLocations/pushConfirmedLocationsToDisable",e):this.$store.commit("productLocations/popConfirmedLocationsToDisable",e)},saveLocationChanges:function(){var e=this;return o()(l.a.mark((function t(){var a,s,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=[],e.confirmedLocationsToEnable.forEach((function(e){e.enable=!0})),e.confirmedLocationsToDisable.forEach((function(e){e.enable=!1})),a.push.apply(a,pt()(e.confirmedLocationsToEnable)),a.push.apply(a,pt()(e.confirmedLocationsToDisable)),s={productName:e.productName,locations:a},t.prev=6,t.next=9,E.a.patchProductLocations(s);case 9:t.sent,e.$router.replace("/organization/products"),e.displayNotification("success",e.$t("pages.products.saveSuccessMessage",{productName:e.product.displayName})),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(6),n=e.getErrorMessage(["response","data","errors",0,"title"],t.t0)||t.t0.message,e.displayNotification("error",n);case 18:case"end":return t.stop()}}),t,null,[[6,14]])})))()},getAddressLine:function(e){return void 0===e.addressLine2?"".concat(e.addressLine1,", ").concat(e.city,", ").concat(e.province," ").concat(e.postalCode):"".concat(e.addressLine1," ").concat(e.addressLine2,", ").concat(e.city,", ").concat(e.province," ").concat(e.postalCode)},cancelSave:function(){this.saveDialog=!1},cancelLocationSelection:function(){this.$store.commit("productLocations/clearConfirmedLocationsToEnable"),this.$store.commit("productLocations/clearConfirmedLocationsToDisable"),this.$router.replace("/organization/products")}}};var to=function(e){a("ScZy")},ao=Object(lt.a)(eo,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return null!==this.product?a("div",[a("evergreen-span",{attrs:{type:"h3"}},[e._v(e._s(e.product.displayName))]),e._v(" "),a("v-breadcrumbs",{staticClass:"breadcrumbs",attrs:{items:e.breadcrumbs,divider:">"},scopedSlots:e._u([{key:"item",fn:function(e){return[a("a",{staticStyle:{"text-decoration":"none",color:"black"},attrs:{href:e.item.href,"data-test":e.item.dataTest}},[a("evergreen-span",{attrs:{type:"h6-light",label:e.item.text}})],1)]}}],null,!1,3852485859),model:{value:e.breadcrumbs,callback:function(t){e.breadcrumbs=t},expression:"breadcrumbs"}}),e._v(" "),a("v-card",{attrs:{"min-height":"21.875rem"}},[a("div",{staticClass:"main-card"},[a("evergreen-span",{attrs:{type:"body-1",hidden:!e.productChangesAllowed,"data-test":"product-location-text"}},[e._v("\n        "+e._s(e.$t("pages.products.enableOrDisableLocation"))+"\n      ")]),e._v(" "),a("v-row",[a("v-col",{staticClass:"search",attrs:{cols:"4"}},[a("debounced-text-field",{attrs:{"data-test":"product-location-list-search","append-icon":""===e.searchTerm?"search":"",label:e.$t("common.form.search"),outlined:"","hide-details":"",clearable:!!e.searchTerm,autoFocus:"","min-chars":1,debounce:700},on:{"keyup:enter:nocheck":e.doSearch,"click:append:nocheck":e.doSearch,"click:clear":e.clearSearchTerm},model:{value:e.searchTerm,callback:function(t){e.searchTerm=t},expression:"searchTerm"}})],1)],1)],1),e._v(" "),a("v-data-table",{staticClass:"elevation-0 dataTable",attrs:{"fixed-header":"",headers:e.headers,items:e.locations,"items-per-page":e.locationsPerPage,loading:e.showLoading,"server-items-length":e.totalLocationsCount,options:e.locationsTableOptions,"footer-props":e.tableFooterProps,"item-key":"id",page:e.tableCurrentPage},on:{"update:itemsPerPage":function(t){e.locationsPerPage=t},"update:items-per-page":function(t){e.locationsPerPage=t},"update:options":function(t){e.locationsTableOptions=t},"update:page":function(t){e.tableCurrentPage=t}},scopedSlots:e._u([{key:"header.selected",fn:function(t){return[a("v-simple-checkbox",{staticClass:"check-box-padding",attrs:{"data-test":"toggle-all-locations-checkbox-selected:"+e.allSelected+"-indeterminate:"+e.indeterminate,disabled:!e.productChangesAllowed,color:"secondary",value:e.allSelected||e.indeterminate,indeterminate:e.indeterminate},on:{input:function(t){return e.toggleAllSelected()}}})]}},{key:"header.name",fn:function(e){var t=e.header;return[a("evergreen-span",{attrs:{label:t.text,type:"caption-medium"}})]}},{key:"header.address",fn:function(e){var t=e.header;return[a("evergreen-span",{attrs:{label:t.text,type:"caption-medium"}})]}},{key:"body",fn:function(t){var s=t.items;return[s.length>0?a("tbody",e._l(s,(function(t){return a("tr",{key:t.id},[a("td",[a("v-simple-checkbox",{staticClass:"check-box-padding",attrs:{"data-test":"location-row-checkbox-"+t.id,disabled:!e.productChangesAllowed,color:"secondary"},on:{input:function(a){return e.toggleLocationForBulkOperation(t,t.selected)}},model:{value:t.selected,callback:function(a){e.$set(t,"selected",a)},expression:"item.selected"}})],1),e._v(" "),t.name.length>50?a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(s){var n=s.on,r=s.attrs;return[a("td",e._g(e._b({},"td",r,!1),n),[a("evergreen-span",{attrs:{label:e._f("truncate")(t.name,50,"..."),type:"body-2","data-test":"location-name-"+t.id}})],1)]}}],null,!0)},[e._v(" "),a("span",[e._v(e._s(t.name))])]):a("td",[a("evergreen-span",{attrs:{label:t.name,type:"body-2","data-test":"location-name-"+t.id}})],1),e._v(" "),a("td",[a("evergreen-span",{attrs:{label:e.getAddressLine(t),type:"body-2","data-test":"location-address-"+t.id}})],1),e._v(" "),a("td",[a("evergreen-span",{attrs:{label:t.isProductEnabled?e.$t("pages.products.enabled"):e.$t("pages.products.disabled"),type:"body-2","data-test":"location-status-"+t.id}})],1)],1)})),0):a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"},attrs:{colspan:e.headers.length}},[e._v("\n              "+e._s(e.$t("pages.products.noDataAvailable"))+"\n            ")])])])]}}],null,!1,867255788)}),e._v(" "),a("v-row",[a("v-col",{attrs:{cols:"6"}}),e._v(" "),a("v-col",{staticClass:"main-button-row",attrs:{cols:"6"}},[a("div",{staticStyle:{"text-align":"right"}},[a("evergreen-contained-button",{staticClass:"action-button",attrs:{disabled:e.saveDisabled,hidden:!e.productChangesAllowed,"data-test":"product-location-list-save-btn",label:e.$t("pages.products.save")},nativeOn:{click:function(t){return e.startSaveProcess.apply(null,arguments)}}}),e._v(" "),a("evergreen-outlined-button",{staticClass:"action-button",attrs:{hidden:!e.productChangesAllowed,"data-test":"product-location-list-cancel-btn",label:e.$t("pages.products.cancel")},nativeOn:{click:function(t){e.cancelDialog=!0}}})],1)])],1)],1),e._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"31.25rem"},model:{value:e.cancelDialog,callback:function(t){e.cancelDialog=t},expression:"cancelDialog"}},[a("v-card",{attrs:{"data-test":"product-location-list-cancel-dialog"}},[a("v-card-title",[a("evergreen-span",{attrs:{type:"h4-light",label:e.$t("pages.products.confirmCancelTitle")}})],1),e._v(" "),a("v-card-text",[a("evergreen-span",{attrs:{type:"body-1",label:e.$t("pages.products.confirmCancelMessage")}})],1),e._v(" "),a("v-card-actions",[a("v-container",[a("v-row",{staticClass:"dialog-padding",attrs:{dense:"",justify:"end"}},[a("evergreen-outlined-button",{attrs:{label:e.$t("common.form.cancel")},nativeOn:{click:function(t){e.cancelDialog=!1}}}),e._v(" "),a("evergreen-contained-button",{staticClass:"button-margin",attrs:{label:e.$t("common.form.ok"),"data-test":"product-location-list-cancel-confirm"},nativeOn:{click:function(t){return e.cancelLocationSelection.apply(null,arguments)}}})],1)],1)],1)],1)],1),e._v(" "),a("v-dialog",{attrs:{persistent:"",scrollable:"","content-class":"product-locations-save-dialog"},model:{value:e.saveDialog,callback:function(t){e.saveDialog=t},expression:"saveDialog"}},[a("v-card",{staticStyle:{height:"80vh"},attrs:{"data-test":"product-selected-locations-dialog"}},[a("v-card-title",[a("evergreen-span",{staticClass:"title-spacing",attrs:{type:"h5-medium",label:e.$t("pages.products.selectedLocations")}})],1),e._v(" "),a("v-card-text",{staticClass:"pa-0"},[e.enableLocationCount>0?[a("evergreen-span",{staticClass:"save-subtitle",attrs:{"data-test":"product-selected-locations-enable-text",type:"subtitle-2",label:e.$t("pages.products.saveEnabledLocations",{enableLocationCount:e.enableLocationCount})}}),e._v(" "),a("v-card",{staticClass:"save-dialog-cards vertical-spacing",attrs:{outlined:""}},[a("v-data-table",{staticClass:"elevation-0 dataTable",attrs:{headers:e.saveDialogHeaders,items:e.locationsToEnable,"hide-default-footer":"","item-key":"id"},scopedSlots:e._u([{key:"header.selected",fn:function(e){}},{key:"header.name",fn:function(e){var t=e.header;return[a("evergreen-span",{attrs:{label:t.text,type:"caption-medium"}})]}},{key:"header.address",fn:function(e){var t=e.header;return[a("evergreen-span",{attrs:{label:t.text,type:"caption-medium"}})]}},{key:"body",fn:function(t){var s=t.items;return[a("tbody",e._l(s,(function(t){return a("tr",{key:t.id},[a("td",[a("v-simple-checkbox",{staticClass:"check-box-padding",attrs:{"data-test":"summary-location-enable-row-checkbox-"+t.id,color:"secondary"},on:{input:function(a){return e.toggleLocationFromEnableList(t,t.selected)}},model:{value:t.selected,callback:function(a){e.$set(t,"selected",a)},expression:"item.selected"}})],1),e._v(" "),t.name.length>50?a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(s){var n=s.on,r=s.attrs;return[a("td",e._g(e._b({},"td",r,!1),n),[a("evergreen-span",{attrs:{label:e._f("truncate")(t.name,50,"..."),type:"body-2","data-test":"location-name-dialog-"+t.id}})],1)]}}],null,!0)},[e._v(" "),a("span",[e._v(e._s(t.name))])]):a("td",[a("evergreen-span",{attrs:{label:t.name,type:"body-2","data-test":"location-name-dialog-"+t.id}})],1),e._v(" "),a("td",[a("evergreen-span",{attrs:{label:e.getAddressLine(t),type:"body-2","data-test":"location-address-"+t.id}})],1)],1)})),0)]}}],null,!1,3962252244)})],1)]:e._e(),e._v(" "),e.disableLocationCount>0?[a("evergreen-span",{staticClass:"save-subtitle",attrs:{"data-test":"product-selected-locations-disable-text",type:"subtitle-2",label:e.$t("pages.products.saveDisabledLocations",{disableLocationCount:e.disableLocationCount})}}),e._v(" "),a("v-card",{staticClass:"save-dialog-cards",attrs:{outlined:""}},[a("v-data-table",{staticClass:"elevation-0 dataTable",attrs:{headers:e.saveDialogHeaders,items:e.locationsToDisable,"hide-default-footer":"","item-key":"id"},scopedSlots:e._u([{key:"header.selected",fn:function(e){}},{key:"header.name",fn:function(e){var t=e.header;return[a("evergreen-span",{attrs:{label:t.text,type:"caption-medium"}})]}},{key:"header.address",fn:function(e){var t=e.header;return[a("evergreen-span",{attrs:{label:t.text,type:"caption-medium"}})]}},{key:"body",fn:function(t){var s=t.items;return[a("tbody",e._l(s,(function(t){return a("tr",{key:t.id},[a("td",[a("v-simple-checkbox",{staticClass:"check-box-padding",attrs:{"data-test":"summary-location-disable-row-checkbox-"+t.id,color:"secondary"},on:{input:function(a){return e.toggleLocationFromDisableList(t,t.selected)}},model:{value:t.unSelected,callback:function(a){e.$set(t,"unSelected",a)},expression:"item.unSelected"}})],1),e._v(" "),a("td",[a("evergreen-span",{attrs:{label:t.name,type:"body-2","data-test":"location-name-"+t.id}})],1),e._v(" "),a("td",[a("evergreen-span",{attrs:{label:e.getAddressLine(t),type:"body-2","data-test":"location-address-"+t.id}})],1)])})),0)]}}],null,!1,2069990093)})],1)]:e._e()],2),e._v(" "),a("v-card-actions",{staticClass:"save-button-row"},[a("v-container",[a("v-row",{attrs:{dense:"",justify:"end"}},[a("evergreen-contained-button",{attrs:{label:e.$t("common.form.save"),"data-test":"product-selected-locations-save-btn"},nativeOn:{click:function(t){return e.saveLocationChanges.apply(null,arguments)}}}),e._v(" "),a("evergreen-outlined-button",{staticClass:"button-margin",attrs:{label:e.$t("common.form.cancel"),"data-test":"product-selected-locations-cancel-btn"},nativeOn:{click:function(t){return e.cancelSave.apply(null,arguments)}}})],1)],1)],1)],1)],1)],1):e._e()}),[],!1,to,"data-v-74fd0414",null),so=ao.exports,no={name:"ProductSettings",components:{EvergreenSpan:ot.a,EvergreenContainedButton:ft.a,EvergreenOutlinedButton:vt.a},mixins:[st.a],props:{products:{type:Array},productsLoadingState:{type:String}},data:function(){return{showDisableConfirmation:!1}},computed:{productName:function(){return this.$route.params.productName},product:function(){var e=this;return this.products.find((function(t){return t.productName===e.productName}))},breadcrumbs:function(){return[{dataTest:"org-products-breadcrumb",text:this.$t("pages.products.products"),href:"#/organization/products"},{text:this.$t("pages.products.settings"),dataTest:"org-products-breadcrumb-add-product"}]},globalOrg:function(){return this.$store.getters["globalContext/globalOrg"]},productChangesNotAllowed:function(){return!this.isActionAllowed($o.OrganizationsAdmin,this.$root.userStore)}},methods:{handleSaveClick:function(){var e=this;return o()(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.globalOrg||!e.product){t.next=11;break}return t.prev=1,t.next=4,E.a.enableProduct(e.globalOrg.id,e.product.productName,e.product.isOrganizationWide);case 4:e.$router.push({name:"Organization Products"}),e.product.isOrganizationWide?e.displayNotification("success",e.$t("pages.products.productEnabledNotificationAll",{productName:e.product.displayName})):e.displayNotification("success",e.$t("pages.products.productEnabledNotificationSelected",{productName:e.product.displayName})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e.displayNotification("error",t.t0.response.data.errors[0].title);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))()},handleNextClick:function(){this.$router.push({name:"Organization Product Select Location",params:{productName:this.product.productName}})},handleDisableClick:function(){this.showDisableConfirmation=!0},handleDisableConfirmClick:function(){var e=this;return o()(l.a.mark((function t(){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.globalOrg||!e.product){t.next=16;break}return t.prev=1,t.next=4,E.a.disableProduct(e.globalOrg.id,e.product.productName);case 4:return e.product.isOrganizationWide?e.displayNotification("success",e.$t("pages.products.productDisableNotificationAll",{productName:e.product.displayName})):e.displayNotification("success",e.$t("pages.products.productDisableNotificationSelected",{productName:e.product.displayName})),t.next=7,E.a.getUsersMe();case 7:(a=t.sent).data&&(e.updateAppsListInUserStore(a),Ke.a.displayApplications()),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),e.displayNotification("error",t.t0.response.data.errors[0].title);case 14:e.showDisableConfirmation=!1,e.$router.push({name:"Organization Products"});case 16:case"end":return t.stop()}}),t,null,[[1,11]])})))()},handleDisableCancelClick:function(){this.showDisableConfirmation=!1},handleCancelClick:function(){this.$router.push({name:"Organization Products"})}},watch:{productsLoadingState:function(){"FINISHED"===this.productsLoadingState&&(this.product||this.$router.replace({name:"Organization Products"}))}}};var ro=function(e){a("MLgf")},oo={name:"OrganizationProducts",components:{ProductList:Kr,ProductEnablement:Zr,ProductLocations:so,ProductSettings:Object(lt.a)(no,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("evergreen-span",{attrs:{type:"h3"}},[e._v(e._s(e.product.displayName))]),e._v(" "),a("v-breadcrumbs",{staticClass:"pl-1-rem",attrs:{items:e.breadcrumbs,divider:">"},scopedSlots:e._u([{key:"item",fn:function(e){return[a("a",{staticStyle:{"text-decoration":"none",color:"black"},attrs:{href:e.item.href,"data-test":e.item.dataTest}},[a("evergreen-span",{attrs:{type:"h6-light",label:e.item.text}})],1)]}}]),model:{value:e.breadcrumbs,callback:function(t){e.breadcrumbs=t},expression:"breadcrumbs"}}),e._v(" "),a("v-card",{staticClass:"mt-2-rem p-4-rem pt-3-rem pb-3-rem"},[a("evergreen-span",{attrs:{type:"h6"}},[e._v("\n      "+e._s(e.$t("pages.products.locationAccess"))+"\n    ")]),e._v(" "),a("v-radio-group",{attrs:{row:""},model:{value:e.product.isOrganizationWide,callback:function(t){e.$set(e.product,"isOrganizationWide",t)},expression:"product.isOrganizationWide"}},[a("v-radio",{staticClass:"chk-all-location",attrs:{value:!0,"data-test":"select-isOrgWide",disabled:e.productChangesNotAllowed},scopedSlots:e._u([{key:"label",fn:function(){return[e._v("\n          "+e._s(e.$t("pages.products.allLocations"))+"\n          "),a("v-tooltip",{attrs:{right:"","nudge-bottom":"30","nudge-left":"15","content-class":"tooltip"},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on,n=t.attrs;return[a("v-icon",e._g(e._b({staticClass:"mdi mdi-information",staticStyle:{"font-size":"1rem","margin-left":"0.5rem"}},"v-icon",n,!1),s))]}}])},[e._v(" "),a("span",[e._v("\n              "+e._s(e.$t("pages.products.newLocationsAutomaticallyHaveAccess"))+"\n            ")])])]},proxy:!0}])}),e._v(" "),a("v-radio",{attrs:{value:!1,"data-test":"select-isSpecificLocation",label:e.$t("pages.products.selectLocations"),disabled:e.productChangesNotAllowed}})],1),e._v(" "),a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("evergreen-outlined-button",{staticClass:"action-button",attrs:{"data-test":"disable-btn",label:e.$t("pages.products.disableProduct"),disabled:e.productChangesNotAllowed},nativeOn:{click:function(t){return e.handleDisableClick()}}})],1),e._v(" "),a("v-col",{attrs:{cols:"6"}},[a("div",{staticStyle:{"text-align":"right"}},[a("evergreen-contained-button",{staticClass:"action-button",attrs:{"data-test":"save-btn",label:e.$t("pages.products.save"),disabled:!e.product.isOrganizationWide||e.productChangesNotAllowed},nativeOn:{click:function(t){return e.handleSaveClick()}}}),e._v(" "),a("evergreen-outlined-button",{staticClass:"action-button",attrs:{"data-test":"location-list-next-btn",label:e.$t("pages.products.next"),disabled:e.product.isOrganizationWide},nativeOn:{click:function(t){return e.handleNextClick()}}}),e._v(" "),a("evergreen-outlined-button",{staticClass:"action-button",attrs:{"data-test":"cancel-btn",label:e.$t("pages.products.cancel"),disabled:e.productChangesNotAllowed},nativeOn:{click:function(t){return e.handleCancelClick()}}})],1)])],1)],1),e._v(" "),a("v-dialog",{attrs:{"max-width":"31.25rem","data-test":"disable-product-confirm-dialog"},model:{value:e.showDisableConfirmation,callback:function(t){e.showDisableConfirmation=t},expression:"showDisableConfirmation"}},[a("v-card",[a("v-card-title",[a("evergreen-span",{attrs:{type:"h4",label:e.$t("pages.products.disableDialogTitle")}})],1),e._v(" "),a("v-card-text",{staticClass:"pt-4-rem"},[a("evergreen-span",{attrs:{"data-test":"disable-product-confirm-text",type:"body-1",label:e.product.isOrganizationWide?e.$t("pages.products.disableDialogMessage",{productName:e.product.displayName}):e.$t("pages.products.disableDialogMessageSelected",{productName:e.product.displayName})}})],1),e._v(" "),a("v-card-actions",[a("v-container",[a("v-row",{attrs:{dense:""}},[a("v-spacer"),e._v(" "),a("v-col",{staticClass:"mr-3",attrs:{cols:"3"}},[a("evergreen-contained-button",{attrs:{"data-test":"disableProductConfirm",block:"",label:e.$t("pages.products.disable")},nativeOn:{click:function(t){return e.handleDisableConfirmClick()}}})],1),e._v(" "),a("v-col",{attrs:{cols:"3"}},[a("evergreen-outlined-button",{attrs:{"data-test":"diableProductCancel",label:e.$t("pages.products.cancel"),block:""},nativeOn:{click:function(t){return e.handleDisableCancelClick()}}})],1)],1)],1)],1)],1)],1)],1)}),[],!1,ro,"data-v-16a24844",null).exports},data:function(){return{organizationProducts:[],availableProducts:[],productsLoadingState:"",availableProductsLoadingState:"",productLoadingError:null}},computed:{globalOrg:function(){return this.$store.getters["globalContext/globalOrg"]}},methods:{getOrganizationProducts:function(){var e=this;return o()(l.a.mark((function t(){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.globalOrg||!e.globalOrg.id){t.next=14;break}return e.productsLoadingState="STARTED",t.prev=2,t.next=5,E.a.getOrganizationProducts(e.globalOrg.id);case 5:a=t.sent,e.organizationProducts=a.data.products,t.next=13;break;case 9:t.prev=9,t.t0=t.catch(2),e.productLoadingError=t.t0,e.displayNotification("error",t.t0.response.data.errors[0].title);case 13:e.productsLoadingState="FINISHED";case 14:case"end":return t.stop()}}),t,null,[[2,9]])})))()},getAvailableProducts:function(){var e=this;return o()(l.a.mark((function t(){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.globalOrg){t.next=13;break}return e.availableProductsLoadingState="STARTED",t.prev=2,t.next=5,E.a.getAllProducts();case 5:a=t.sent,e.availableProducts=a.data.apps,t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),e.displayNotification("error",t.t0.response.data.errors[0].title);case 12:e.availableProductsLoadingState="FINISHED";case 13:case"end":return t.stop()}}),t,null,[[2,9]])})))()}},watch:{globalOrg:function(e,t){var a=this;return o()(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===t||"Organization Products"===a.$router.currentRoute.name){e.next=4;break}a.$router.replace({name:"Organization Products"}),e.next=12;break;case 4:if("Organization AddProduct"!==a.$router.currentRoute.name){e.next=9;break}return e.next=7,a.getAvailableProducts();case 7:e.next=12;break;case 9:if("Organization Product Settings"!==a.$router.currentRoute.name){e.next=12;break}return e.next=12,a.getOrganizationProducts();case 12:case"end":return e.stop()}}),e)})))()}}};var io=function(e){a("YnB1")},lo=Object(lt.a)(oo,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mx-6-rem pb-0 header"},["Organization Products"===e.$router.currentRoute.name?a("product-list",{attrs:{products:e.organizationProducts},on:{"hook:mounted":e.getOrganizationProducts}}):e._e(),e._v(" "),"Organization AddProduct"===e.$router.currentRoute.name?a("product-enablement",{attrs:{products:e.availableProducts},on:{"hook:mounted":e.getAvailableProducts}}):e._e(),e._v(" "),"Organization Product Select Location"===e.$router.currentRoute.name?a("product-locations"):e._e(),e._v(" "),"Organization Product Settings"===e.$router.currentRoute.name?a("product-settings",{attrs:{products:e.organizationProducts,productsLoadingState:e.productsLoadingState},on:{"hook:mounted":e.getOrganizationProducts}}):e._e()],1)}),[],!1,io,"data-v-58b251e4",null).exports,co={name:"MfaSetupQrCode",components:{"evergreen-span":ot.a},computed:{qrCode:function(){return this.$store.getters["mfaContext/qrCode"]},qrSecret:function(){return this.$store.getters["mfaContext/totpSecret"]}},data:function(){}};var uo=function(e){a("BR41")},po=Object(lt.a)(co,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"fill-height qr-code-container"},[a("v-row",{staticClass:"title-row"},[a("evergreen-span",{staticClass:"title-span",attrs:{label:e.$t("pages.mfaSetup.step2.title"),type:"h6","data-test":"mfa-step-2-title"}}),e._v(" "),a("evergreen-span",{staticClass:"instructions-span",attrs:{label:e.$t("pages.mfaSetup.step2.instructions"),type:"body-1","data-test":"mfa-step-2-instructions"}})],1),e._v(" "),a("v-row",{attrs:{justify:"center"}},[a("div",{staticClass:"grey-box"},[a("img",{attrs:{src:e.qrCode,"data-test":"mfa-step-2-qrcode"}})])]),e._v(" "),a("v-card",{staticClass:"card-box-shadow   manual-entry-card elevation-0"},[a("v-row",{attrs:{justify:"center"}},[null!==e.qrCode?a("evergreen-span",{staticClass:"manual-entry-instructions-text",attrs:{"data-test":"mfa-step-2-noqrcode-instructions",label:e.$t("pages.mfaSetup.step2.manualCodeEntryInstructions"),type:"body-2"}}):e._e(),e._v(" "),a("evergreen-span",{staticClass:"manual-entry-code",attrs:{label:e.qrSecret,"data-test":"mfa-step-2-qrSecret",type:"h6"}})],1)],1)],1)}),[],!1,uo,"data-v-18aa9520",null).exports,mo={name:"MfaSetupInstall",components:{"evergreen-span":ot.a}};var go=function(e){a("iRMQ")},fo=Object(lt.a)(mo,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticClass:"card-box-shadow body-padding",attrs:{"max-width":"37.5rem"}},[a("div",{attrs:{"data-test":"mfa-step-1-lineItem-1"}},[a("evergreen-span",{attrs:{label:e.$t("pages.mfaSetup.step1.title"),type:"h6","data-test":"mfa-step-1-info-title"}})],1),a("br"),e._v(" "),a("div",{attrs:{"data-test":"mfa-step-1-lineItem-2"}},[a("evergreen-span",{attrs:{label:e.$t("pages.mfaSetup.step1.subtitle_1"),type:"subtitle-1","data-test":"mfa-step-1-info-subtitle-1"}}),e._v(" "),a("br")],1),e._v(" "),a("div",{attrs:{"data-test":"mfa-step-1-body-1"}},[a("evergreen-span",{attrs:{label:e.$t("pages.mfaSetup.step1.body_1"),type:"body-1","data-test":"mfa-step-1-info-body-1"}})],1),e._v(" "),a("br"),e._v(" "),a("div",{attrs:{"data-test":"mfa-step-1-lineItem-3"}},[a("evergreen-span",{attrs:{label:e.$t("pages.mfaSetup.step1.subtitle_2"),type:"subtitle-1","data-test":"mfa-step-1-info-subtitle-2"}}),e._v(" "),a("br")],1),e._v(" "),a("div",{staticClass:"ios-instructions",attrs:{"data-test":"mfa-step-1-body-2"}},[a("evergreen-span",{attrs:{label:e.$t("pages.mfaSetup.step1.body_2"),type:"body-1","data-test":"mfa-step-1-info-body-2"}})],1)])}),[],!1,go,"data-v-c006233a",null).exports,vo=a("9X7B"),ho={name:"MfaDeclaration",data:function(){return{showDialog:!1}},components:{"evergreen-span":ot.a,"evergreen-text-button":Nt.a,"mfa-declaration-content":vo.a},methods:{displayDialog:function(){this.showDialog=!this.showDialog}}};var bo=function(e){a("EGop")},yo=Object(lt.a)(ho,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("br"),e._v(" "),a("v-row",{staticStyle:{position:"absolute",bottom:"0",width:"100%"}},[a("v-col",{staticClass:"pl-8-rem",attrs:{align:"left"}},[a("div",{staticClass:"mr-8-rem",staticStyle:{"max-width":"37.5rem"}},[a("a",{attrs:{"data-test":"mfa-terms-and-conditions-link"},on:{click:e.displayDialog}},[a("evergreen-span",{staticClass:"terms-and-conditions",attrs:{label:"Terms and conditions",type:"body-2"}})],1),e._v(" "),a("v-dialog",{attrs:{"max-width":"550px",height:"500px",scrollable:"","data-test":"mfa-terms-and-conditions-dialog-text"},model:{value:e.showDialog,callback:function(t){e.showDialog=t},expression:"showDialog"}},[a("v-card",[a("v-card-title",[a("evergreen-span",{staticClass:"terms-and-conditions-dialog-title",attrs:{label:"PointClickCare Multi-Factor Authentication Terms and Conditions",type:"body-2"}})],1),e._v(" "),a("v-card-text",{staticStyle:{"white-space":"pre-wrap",height:"300px"}},[a("mfa-declaration-content")],1),e._v(" "),a("v-card-actions",{staticClass:"pa-0-rem"},[a("v-row",{staticClass:"pa-0-rem ma-0-rem"},[a("v-spacer"),e._v(" "),a("v-col",{staticClass:"pa-0-rem ma-0-rem",attrs:{cols:"2"}},[a("evergreen-text-button",{attrs:{"data-test":"mfa-terms-and-conditions-dialog-close-button",label:"close"},nativeOn:{click:function(t){return e.displayDialog()}}})],1)],1)],1)],1)],1)],1)])],1)],1)}),[],!1,bo,"data-v-56fc5946",null).exports,wo={name:"MfaSetupInfoComponent",props:{isInIframe:Boolean},data:function(){return{authnApps:[this.$t("pages.mfaSetup.mfaSetupInfo.authnApp_1"),this.$t("pages.mfaSetup.mfaSetupInfo.authnApp_2"),this.$t("pages.mfaSetup.mfaSetupInfo.authnApp_3"),this.$t("pages.mfaSetup.mfaSetupInfo.authnApp_4")]}},components:{"evergreen-span":ot.a,"evergreen-contained-button":ft.a,"evergreen-outlined-button":vt.a,"mfa-declaration":yo},computed:{isStepUp:function(){return!!Ma.a.extractParamFromGoto("acr_values",this.$route)},isOtpFactor:function(){var e=Ma.a.extractParamFromGoto("acr_values",this.$route);return Ma.a.isOtpFactor(e)},purpose:function(){return Ma.a.extractParamFromGoto("purpose",this.$route)}},methods:{goToNext:function(){this.$emit("goToNext",!0)},cancel:function(){this.$emit("backToLogin",!0)}}};var xo=function(e){a("1WVR")},Co=Object(lt.a)(wo,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:{iframe:e.isInIframe}},[a("v-row",{attrs:{align:e.isInIframe?"":"center"}},[a("v-col",[a("v-card-title",{class:{"justify-center":!e.isInIframe,"iframe-title":e.isInIframe}},[e.isStepUp?a("evergreen-span",{attrs:{label:e.$t(["pages.stepUpAuthorization.purpose."+e.purpose+".title","pages.stepUpAuthorization.title"]),type:e.isInIframe?"h3":"h4","data-test":"mfa-setup-info-title"}}):a("evergreen-span",{attrs:{label:e.$t("pages.mfaSetup.mfaSetupInfo.title"),type:e.isInIframe?"h3":"h4","data-test":"mfa-setup-info-title"}})],1),e._v(" "),a("v-card-text",[a("div",{staticClass:"body-padding"},[e.isOtpFactor?e._e():a("div",[a("evergreen-span",{attrs:{label:e.$t("pages.mfaSetup.mfaSetupInfo.info_1"),type:"body-1","data-test":"mfa-setup-info-body-1"}}),e._v(" "),a("br"),a("br")],1),e._v(" "),e.isOtpFactor?a("div",[a("div",{staticClass:"pb-3-rem"},[a("evergreen-span",{attrs:{label:e.$t(["pages.mfaSetup.mfaSetupInfo.title"]),type:"h6","data-test":"mfa-setup-info-sub-title"}})],1),e._v(" "),a("evergreen-span",{attrs:{label:e.$t(["pages.stepUpAuthorization.purpose."+e.purpose+".mfa_setup_info_1","pages.stepUpAuthorization.mfa_setup_info_1"]),type:"body-1","data-test":"mfa-setup-info-stepup-body-1"}}),e._v(" "),a("br"),a("br")],1):e._e(),e._v(" "),a("evergreen-span",{attrs:{label:e.$t("pages.mfaSetup.mfaSetupInfo.info_2"),type:"body-1","data-test":"mfa-setup-info-body-2"}}),e._v(" "),a("br"),a("br"),e._v(" "),a("ul",{staticClass:"bulletList-padding",attrs:{"data-test":"mfa-setup-info-auth-apps"}},e._l(e.authnApps,(function(e){return a("li",{key:e},[a("evergreen-span",{attrs:{label:e,type:"body-1"}})],1)})),0)],1)])],1)],1),e._v(" "),a("v-row",{staticClass:"button-row-container"},[a("v-col",{attrs:{align:"right"}},[a("evergreen-outlined-button",{staticClass:"info-back-button",attrs:{label:e.$t("pages.mfaSetup.cancel"),"data-test":"mfa-setup-info-cancel-button"},nativeOn:{click:function(t){return e.cancel.apply(null,arguments)}}}),e._v(" "),a("evergreen-contained-button",{staticClass:"info-next-button",attrs:{label:e.$t("pages.mfaSetup.next"),"data-test":"mfa-setup-info-next-button"},nativeOn:{click:function(t){return e.goToNext.apply(null,arguments)}}})],1)],1),e._v(" "),a("mfa-declaration")],1)}),[],!1,xo,"data-v-53ecac20",null),_o={name:"MfaSetupInfo",components:{"authentication-card":Fa,"mfa-setup-info-component":Co.exports},computed:{isInIframe:function(){return Ma.a.isInIFrame()},isStepUp:function(){return!!Ma.a.extractParamFromGoto("acr_values",this.$route)}},methods:{goToNext:function(){this.$emit("goToNext",!0)},cancel:function(){this.$emit("backToLogin",!0)}}},So=Object(lt.a)(_o,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.isInIframe?a("mfa-setup-info-component",{attrs:{isInIframe:!0},on:{backToLogin:function(t){return e.cancel(t)},goToNext:function(t){return e.goToNext(t)}}}):a("authentication-card",{attrs:{"has-branding":e.isStepUp}},[a("mfa-setup-info-component",{attrs:{isInIframe:!1},on:{backToLogin:function(t){return e.cancel(t)},goToNext:function(t){return e.goToNext(t)}}})],1)}),[],!1,null,null,null).exports,ko={props:["mfaStep"],$_veeValidate:{validator:"new"},name:"MfaCodeVerification",components:{"evergreen-span":ot.a},emits:["finish"],data:function(){return{code:"",codeMask:"######",length:6}},created:function(){this.$validator.fastExit=!0},mounted:function(){var e,t=this;null!==(e=this.$refs.otpInputContainer)&&void 0!==e&&e.querySelectorAll&&this.$refs.otpInputContainer.querySelectorAll('[name="code"]').forEach((function(e){e.addEventListener("click",function(){var e=o()(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.target.select();case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.addEventListener("input",function(){var e=o()(l.a.mark((function e(a){var s,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((null===(s=a.target)||void 0===s||null===(n=s.value)||void 0===n?void 0:n.length)>=t.length)){e.next=8;break}return a.preventDefault(),a.stopPropagation(),r=a.target.value.substring(0,t.length),e.next=6,t.$nextTick();case 6:t.code=r,t.$emit("finish");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))},computed:{validateCode:function(){return this.$store.get("mfaContext/validate")}},watch:{code:function(e){this.$validator.errors.items=this.$validator.errors.items.filter((function(e){return!e.serverError})),e.length<6?this.$emit("disableVerificationBtn",!0):this.$emit("disableVerificationBtn",!1)},validateCode:function(e){var t=this;return o()(l.a.mark((function a(){var s,n,r,o,i;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!0!==e){a.next=25;break}return t.$emit("verificationInProgress",!0),s=t.$store.get("mfaContext/factorName"),n=t.$store.get("mfaContext/token"),a.prev=4,a.next=7,E.a.activateUserForMfa({token:n,factor:s,passCode:t.code});case 7:return a.sent,Ma.a.postMessageToParent("iam-mfa-setup-ended"),t.extractGotoUrlAndrouteToDashboard(),t.$store.commit("mfaContext/reset"),r=j.a.getFacadeConfig("production"),o=t.getRequestService({baseURL:r}),a.next=15,t.storeUserAccessPrivileges(o);case 15:a.next=22;break;case 17:a.prev=17,a.t0=a.catch(4),i=t.getErrorMessage(["response","data","errors",0,"detail"],a.t0)||"Unauthorized.",t.$validator.errors.add({field:"code",msg:i,serverError:!0}),t.$store.commit("mfaContext/setValidation",!1);case 22:return a.prev=22,t.$emit("verificationInProgress",!1),a.finish(22);case 25:case"end":return a.stop()}}),a,null,[[4,17,22,25]])})))()},mfaStep:function(e){3===e&&this.$refs.otpInputField.focus()}},mixins:[$a,st.a]};var Ao=function(e){a("yvsD")},Oo={components:{MfaDeclaration:yo,MfaSetupQrCode:po,MfaSetupInstall:fo,MfaSetupInfo:So,MfaCodeActivation:Object(lt.a)(ko,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"fill-height qr-code-container"},[a("v-row",{staticClass:"title-row"},[a("evergreen-span",{staticClass:"title-span",attrs:{label:e.$t("pages.mfaSetup.step3.title"),"data-test":"mfa-step-3-title",type:"h6"}})],1),e._v(" "),a("v-row",{staticClass:"title-row"},[a("evergreen-span",{staticClass:"instructions-span",attrs:{label:e.$t("pages.mfaSetup.step3.instructions"),"data-test":"mfa-step-3-instructions",type:"body-1"}})],1),e._v(" "),a("br"),e._v(" "),a("v-row",{staticClass:"input"},[a("v-col",[a("div",{ref:"otpInputContainer",staticClass:"pb-6-rem",attrs:{"data-test":"otp-container-activation"}},[a("v-otp-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|length:"+e.length,expression:"`required|length:${length}`"}],ref:"otpInputField",attrs:{name:"code","data-vv-as":"code",length:e.length,outlined:"","data-test":"mfa-codeInput",type:"number"},on:{finish:function(t){return e.$emit("finish")}},model:{value:e.code,callback:function(t){e.code=t},expression:"code"}}),e._v(" "),e.errors.first("code")?a("div",{staticClass:"v-text-field__details"},[a("div",{staticClass:"v-messages theme--light error--text",attrs:{role:"alert"}},[a("div",{staticClass:"v-messages__wrapper"},[a("div",{staticClass:"v-messages__message"},[e._v("\n                "+e._s(e.errors.first("code"))+"\n              ")])])])]):e._e()],1)])],1),e._v(" "),a("v-row",{staticClass:"pt-6-rem"},[a("evergreen-span",{staticClass:"contact",attrs:{label:e.$t("pages.mfaSetup.step3.contact"),type:"body-1","data-test":"mfa-step-3-contact"}})],1)],1)}),[],!1,Ao,"data-v-711305ca",null).exports,"evergreen-contained-button":ft.a,"evergreen-outlined-button":vt.a,"evergreen-span":ot.a},data:function(){return{stepperPage:!1,stepIndex:1,buttonLabel:this.$t("pages.mfaSetup.cancel"),confirmCancel:!1,disableTokenVerificationBtn:!1,enrollInProgress:!1,verificationInProgress:!1}},methods:{nextStep:function(){this.stepIndex<=4&&(this.stepIndex+=1),this.settingButtonLabel(),2!==this.stepIndex||null!==this.$store.getters["mfaContext/totpSecret"]&&null!==this.$store.getters["mfaContext/qrCode"]||this.enrolUserMfa(),3===this.stepIndex&&(this.disableTokenVerificationBtn=!0),4===this.stepIndex&&(this.stepIndex=3,this.$store.commit("mfaContext/setValidation",!0))},enrolUserMfa:function(){var e=this;return o()(l.a.mark((function t(){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!0!==e.enrollInProgress){t.next=2;break}return t.abrupt("return");case 2:return e.enrollInProgress=!0,t.prev=3,t.next=6,E.a.enrolUserForMfa({token:e.$store.getters["mfaContext/token"],factor:e.$store.getters["mfaContext/factorName"]});case 6:a=t.sent,e.$store.commit("mfaContext/setToken",a.data.activationToken),e.$store.commit("mfaContext/setQrCode",a.data.qrCode),e.$store.commit("mfaContext/setTotpSecret",a.data.secret),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(3),e.displayNotification("error","Enrolment Failed");case 15:return t.prev=15,e.enrollInProgress=!1,t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[3,12,15,18]])})))()},previousStep:function(){1===this.stepIndex&&(this.confirmCancel=!0,this.disableTokenVerificationBtn=!1),this.stepIndex>1&&(this.stepIndex-=1),this.settingButtonLabel(),2===this.stepIndex&&(this.disableTokenVerificationBtn=!1,this.$store.commit("mfaContext/setValidation",!1))},settingButtonLabel:function(){1===this.stepIndex?this.buttonLabel=this.$t("pages.mfaSetup.cancel"):this.buttonLabel=this.$t("pages.mfaSetup.back")},navigateStepper:function(e){this.stepperPage=!0},navigateToLogin:function(e){this.confirmCancel=!0},cancel:function(){if(Ma.a.isInIFrame())Ma.a.postMessageToParent("step-up-cancel"),Ma.a.postMessageToParent("iam-step-up-cancel");else{var e=Ma.a.getGotoUrl(this.$route),t=e?{goto:e}:{};this.$store.commit("mfaContext/reset"),this.$router.push({name:"Login",query:t})}},enableVerifyButton:function(e){this.disableTokenVerificationBtn=e},verifyButton:function(e){this.verificationInProgress=e}},computed:{isOtpFactor:function(){var e=Ma.a.extractParamFromGoto("acr_values",this.$route);return Ma.a.isOtpFactor(e)},purpose:function(){return Ma.a.extractParamFromGoto("purpose",this.$route)},isInIframe:function(){return Ma.a.isInIFrame()},disableNextBtn:function(){return!0===this.enrollInProgress||this.disableTokenVerificationBtn}},created:function(){null==this.$store.getters["mfaContext/token"]&&this.cancel()}};var Uo=function(e){a("CN8C")},Lo=Object(lt.a)(Oo,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:{iframe:e.isInIframe}},[a("div",[a("v-dialog",{attrs:{"max-width":"31.25rem",persistent:""},model:{value:e.confirmCancel,callback:function(t){e.confirmCancel=t},expression:"confirmCancel"}},[a("v-card",[a("v-card-title",[a("evergreen-span",{attrs:{label:e.$t("pages.mfaSetup.confirmCancellationTitle"),type:"h6","data-test":"mfa-cancel-dialog-title"}})],1),e._v(" "),a("v-card-text",[a("evergreen-span",{attrs:{label:e.$t("pages.mfaSetup.confirmCancellationMessage"),type:"body-1","data-test":"mfa-cancel-dialog-body"}})],1),e._v(" "),a("v-card-actions",[a("v-row",[a("v-col",{attrs:{align:"right"}},[a("evergreen-outlined-button",{staticClass:"cancel-confirm ",attrs:{label:e.$t("pages.mfaSetup.continueSetup"),"data-test":"dialog-mfa-cancel-confirmation-continueSetup-button"},nativeOn:{click:function(t){e.confirmCancel=!1}}}),e._v(" "),a("evergreen-contained-button",{staticClass:"cancel-confirm ml-2-rem",attrs:{label:e.$t("pages.mfaSetup.discard"),"data-test":"dialog-mfa-cancel-confirmation-discard-button"},nativeOn:{click:function(t){return e.cancel.apply(null,arguments)}}})],1)],1)],1)],1)],1)],1),e._v(" "),a("div",{staticStyle:{height:"100%"}},[e.stepperPage?a("v-row",{staticClass:"card-row",attrs:{align:"center",justify:"center"}},[a("v-card",{staticClass:"mfa-stepper-card",attrs:{"max-width":"35rem"}},[a("v-stepper",{staticClass:"mfa-stepper elevation-0",model:{value:e.stepIndex,callback:function(t){e.stepIndex=t},expression:"stepIndex"}},[e.isOtpFactor&&e.isInIframe?a("v-row",{staticClass:"ml-2-rem",staticStyle:{"max-height":"2rem"}},[a("evergreen-span",{attrs:{label:e.$t(["pages.stepUpAuthorization.purpose."+e.purpose+".title","pages.stepUpAuthorization.title"]),type:"h3","data-test":"step-up-title"}})],1):e._e(),e._v(" "),a("v-stepper-header",{staticClass:"elevation-0"},[a("v-stepper-step",{staticClass:"subtitle-2",attrs:{complete:e.stepIndex>1,color:"secondary","data-test":"mfaSetupInstall",step:"1"}},[e._v("\n              "+e._s(e.$t("pages.mfaSetup.step1.stepTitle"))+"\n            ")]),e._v(" "),a("v-divider"),e._v(" "),a("v-stepper-step",{staticClass:"subtitle-2",attrs:{complete:e.stepIndex>2,color:"secondary","data-test":"mfaQrcodeSetup",step:"2"}},[e._v("\n              "+e._s(e.$t("pages.mfaSetup.step2.stepTitle"))+"\n            ")]),e._v(" "),a("v-divider"),e._v(" "),a("v-stepper-step",{staticClass:"subtitle-2",attrs:{complete:e.stepIndex>3,color:"secondary","data-test":"mfaValidateToken",step:"3"}},[e._v("\n              "+e._s(e.$t("pages.mfaSetup.step3.stepTitle"))+"\n            ")])],1),e._v(" "),a("v-stepper-items",[a("div",{staticClass:"mfa-stepper-body"},[a("v-stepper-content",{attrs:{step:"1"}},[a("mfa-setup-install")],1),e._v(" "),a("v-stepper-content",{attrs:{step:"2"}},[a("mfa-setup-qr-code")],1),e._v(" "),a("v-stepper-content",{attrs:{step:"3"}},[a("mfa-code-activation",{attrs:{mfaStep:e.stepIndex},on:{disableVerificationBtn:function(t){return e.enableVerifyButton(t)},finish:e.nextStep,verificationInProgress:function(t){return e.verifyButton(t)}}})],1)],1)]),e._v(" "),a("v-row",{staticClass:"button-row-container"},[a("v-col",{attrs:{align:"right"}},[a("evergreen-outlined-button",{staticClass:"back-button button-row",attrs:{label:e.buttonLabel,"data-test":"mfa-back-button"},nativeOn:{click:function(t){return e.previousStep.apply(null,arguments)}}}),e._v(" "),a("evergreen-contained-button",{staticClass:"next-button button-row",attrs:{disabled:e.disableNextBtn,label:e.$t("pages.mfaSetup.next"),"data-test":"mfa-next-button",loading:e.enrollInProgress||e.verificationInProgress,stepIndex:e.stepIndex},nativeOn:{click:function(t){return t.preventDefault(),e.nextStep.apply(null,arguments)}}})],1)],1),e._v(" "),a("mfa-declaration")],1)],1)],1):a("mfa-setup-info",{on:{backToLogin:function(t){return e.navigateToLogin(t)},goToNext:function(t){return e.navigateStepper(t)}}})],1)])}),[],!1,Uo,"data-v-9764acd6",null),No=Lo.exports,Po={name:"MfaVerificationComponent",components:{"evergreen-span":ot.a,"evergreen-outlined-button":vt.a,"evergreen-contained-button":ft.a,"mfa-declaration":yo},props:{isInIframe:Boolean},data:function(){return{code:"",codeMask:"######",verificationInProgress:!1,length:6}},$_veeValidate:{validator:"new"},watch:{code:function(e){this.$validator.errors.items=this.$validator.errors.items.filter((function(e){return!e.serverError}))}},computed:{disableVerifyBtn:function(){return!0===this.verificationInProgress||(!this.code||6!==this.code.length)},purpose:function(){return this.extractParamFromGoto("purpose")},isStepUp:function(){return!!this.extractParamFromGoto("acr_values")},isOtpFactor:function(){var e=Ma.a.extractParamFromGoto("acr_values",this.$route);return Ma.a.isOtpFactor(e)}},methods:{verifyCode:function(){var e=this;return o()(l.a.mark((function t(){var a,s,n,r,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!0!==e.verificationInProgress){t.next=2;break}return t.abrupt("return");case 2:return e.verificationInProgress=!0,t.prev=3,t.next=6,e.$validator.reset();case 6:return a=e.$store.get("mfaContext/factorName"),s=e.$store.get("mfaContext/token"),t.next=10,E.a.verifyUserMfa({token:s,factor:a,passCode:e.code});case 10:return t.sent,e.extractGotoUrlAndrouteToDashboard(),e.$store.commit("mfaContext/reset"),n=j.a.getFacadeConfig("production"),r=e.getRequestService({baseURL:n}),t.next=17,e.storeUserAccessPrivileges(r);case 17:t.next=24;break;case 19:t.prev=19,t.t0=t.catch(3),o=e.getErrorMessage(["response","data","errors",0,"detail"],t.t0)||"Unauthorized.",e.$validator.errors.add({field:"code",msg:o,serverError:!0}),e.verificationInProgress=!1;case 24:case"end":return t.stop()}}),t,null,[[3,19]])})))()},backToLogin:function(){var e=Ma.a.getGotoUrl(this.$route),t=e?{goto:e}:{};this.$store.commit("mfaContext/reset"),this.extractParamFromGoto("acr_values")&&"login"!==this.extractParamFromGoto("screen_hint")?this.$router.replace({name:"StepUpAuthorize",query:t}):this.$router.push({name:"Login",query:t})},extractParamFromGoto:function(e){return Ma.a.extractParamFromGoto(e,this.$route)},cancelStepUp:function(){Ma.a.postMessageToParent("step-up-cancel"),Ma.a.postMessageToParent("iam-step-up-cancel")}},mixins:[$a,st.a],created:function(){this.$validator.fastExit=!0,this.$store.get("mfaContext/token")||this.backToLogin()},mounted:function(){var e,t=this;null!==(e=this.$refs.otpInputContainer)&&void 0!==e&&e.querySelectorAll&&this.$refs.otpInputContainer.querySelectorAll('[name="code"]').forEach((function(e){e.addEventListener("click",function(){var e=o()(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.target.select();case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.addEventListener("input",function(){var e=o()(l.a.mark((function e(a){var s,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((null===(s=a.target)||void 0===s||null===(n=s.value)||void 0===n?void 0:n.length)>=t.length)){e.next=8;break}return a.preventDefault(),a.stopPropagation(),r=a.target.value.substring(0,t.length),e.next=6,t.$nextTick();case 6:t.code=r,t.verifyCode();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})),this.$refs.otpInputField.focus()}};var Mo=function(e){a("KE9I")},Io={name:"MfaVerification",components:{"authentication-card":Fa,"mfa-verification-component":Object(lt.a)(Po,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:{iframe:e.isInIframe}},[e.isStepUp?a("v-card-title",{class:e.isInIframe?"justify-left py-4-rem px-6-rem":"justify-center"},[a("evergreen-span",{attrs:{label:e.$t(["pages.stepUpAuthorization.purpose."+e.purpose+".title","pages.stepUpAuthorization.title"]),type:"h3","data-test":"step-up-mfa-title"}})],1):e._e(),e._v(" "),a("v-card-text",{staticClass:"card-text-spacing px-6-rem mb-6-rem",class:{"dialog-body":e.isInIframe}},[e.isOtpFactor?a("div",{staticClass:"mb-8-rem"},[e._v("\n          "+e._s(e.$t(["pages.stepUpAuthorization.purpose."+e.purpose+".description","pages.stepUpAuthorization.description"]))+"\n        ")]):e._e(),e._v(" "),a("evergreen-span",{staticClass:"instructions-span",attrs:{label:e.$t("pages.mfaSetup.step3.instructions"),"data-test":"mfa-verification-instructions",type:"h6-regular"}}),e._v(" "),a("div",{ref:"otpInputContainer",staticClass:"pb-6-rem",attrs:{"data-test":"otp-container"}},[a("v-otp-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|length:"+e.length,expression:"`required|length:${length}`"}],ref:"otpInputField",attrs:{name:"code","data-vv-as":"code",length:e.length,outlined:"",autofocus:"","data-test":"mfa-verification-code-input",type:"number"},on:{finish:function(t){return e.verifyCode()}},model:{value:e.code,callback:function(t){e.code=t},expression:"code"}}),e._v(" "),e.errors.first("code")?a("div",{staticClass:"v-text-field__details"},[a("div",{staticClass:"v-messages theme--light error--text",attrs:{role:"alert"}},[a("div",{staticClass:"v-messages__wrapper"},[a("div",{staticClass:"v-messages__message"},[e._v("\n                            "+e._s(e.errors.first("code"))+"\n                        ")])])])]):e._e()],1),e._v(" "),a("evergreen-span",{staticClass:"instructions-span",attrs:{label:e.$t("pages.mfaSetup.step3.contact"),type:"body-1","data-test":"mfa-step-3-contact"}})],1),e._v(" "),a("v-card-actions",{staticClass:"px-6-rem"},[a("v-row",[a("v-col",{staticClass:"text-right pb-6-rem"},[a("evergreen-contained-button",{attrs:{label:e.isOtpFactor?e.$t(["pages.stepUpAuthorization.purpose."+e.purpose+".btnLabel","pages.stepUpAuthorization.purpose.btnLabel"]):e.$t("pages.mfaSetup.verify"),disabled:e.disableVerifyBtn,loading:e.verificationInProgress,"data-test":"mfa-verification-verify-btn"},nativeOn:{click:function(t){return e.verifyCode()}}}),e._v(" "),e.isOtpFactor?e._e():a("evergreen-outlined-button",{staticClass:"ml-3-rem",attrs:{label:e.$t("pages.mfaSetup.back"),disabled:e.verificationInProgress,"data-test":"mfa-verification-back-btn"},nativeOn:{click:function(t){return e.backToLogin()}}}),e._v(" "),e.isInIframe&&e.isOtpFactor?a("evergreen-outlined-button",{staticClass:"ml-3-rem",attrs:{label:e.$t("common.form.cancel"),disabled:e.verificationInProgress,"data-test":"mfa-verification-cancel-btn"},nativeOn:{click:function(t){return e.cancelStepUp()}}}):e._e()],1)],1)],1),e._v(" "),a("mfa-declaration")],1)}),[],!1,Mo,"data-v-2caa9dc6",null).exports},computed:{isInIframe:function(){return Ma.a.isInIFrame()},isStepUp:function(){return!!Ma.a.extractParamFromGoto("acr_values",this.$route)}}},To=Object(lt.a)(Io,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.isInIframe?a("mfa-verification-component",{attrs:{isInIframe:!0}}):a("authentication-card",{attrs:{"has-branding":e.isStepUp}},[a("mfa-verification-component",{attrs:{isInIframe:!1}})],1)}),[],!1,null,null,null).exports,$o={MenuUsers:"Users.READ",MenuUsersList:"Users.READ",MenuUsersCreate:"Users.WRITE",MenuRoles:"Roles.READ",MenuIdentityZone:"IdentityZone.READ",MenuOrganizations:"Organizations.READ",MenuOrganizationsProfile:"Organizations.READ",MenuOrganizationsSecurity:"Organizations.WRITE",MenuOrganizationsProducts:"Organizations.READ",MenuOrganizationsLocations:"Organizations.READ",RouteUsersGet:"Users.READ",RouteRolesGet:"Roles.READ",RouteRolesCreate:"Roles.WRITE",RouteIdentityZoneGet:"IdentityZone.READ",RouteIdentityZoneCreate:"IdentityZone.WRITE",RouteOrganizationsProductsCreate:"Organizations.ADMIN",RouteLocationsGet:"Organizations.READ",RouteLocationsCreate:"Organizations.ADMIN",RouteProductsLocations:"Organizations.READ",RouteProductsLocationsGet:"Organizations.READ",RouteProductsGet:"Organizations.READ",OrganizationsAdmin:"Organizations.ADMIN",LocationSearchBarGetRead:"Organizations.READ",LocationSearchBarGetWrite:"Organizations.WRITE",OrganizationInternalFunctions:"Organizations.ADMIN"},Eo=new h.a({routes:[{path:"/",meta:{},redirect:"/login"},{path:"/login",name:"Login",component:Ga,meta:{title:"PointClickCare Login",hideToolbar:!0,bodyClass:"body-image",isOpen:"true"},beforeEnter:function(e,t,a){m.a.create({baseURL:"",timeout:5e3}).get("/api/sessions").then((function(){var t=Ma.a.getDecodedGotoUrl(e);return tt.a.checkRedirectDomain(t)?(window.location.href=t,!1):(a({name:"Dashboard",query:t?{attemptedRedirect:!0}:{}}),1)})).catch((function(){a()})),a()}},{path:"/authorize",name:"StepUpAuthorize",props:!0,component:is,meta:{title:"PointClickCare Authorize",hideToolbar:!0,bodyClass:"body-image",isOpen:"true"},beforeEnter:function(e,t,a){var s=Ma.a.extractParamFromGoto("username",e);if(s&&s.trim())a();else{var n=Ma.a.getGotoUrl(e);a("/login?goto=".concat(encodeURIComponent(n)))}}},{path:"/register-authenticator",name:"AuthenticatorRegister",props:!0,component:ms,meta:{authenticate:!1,hideToolbar:!0,title:"PointClickCare Authenticator app",isOpen:"true",bodyClass:"body-image"}},{path:"/mfa/setup",name:"MfaSetup",props:!0,component:No,meta:{authenticate:!1,hideToolbar:!0,title:"Multifactor Authentication Setup",isOpen:"true"}},{path:"/mfa/verify",name:"MfaVerification",props:!0,component:To,meta:{authenticate:!1,hideToolbar:!0,title:"Multi-Factor Authentication Verification",isOpen:"true"}},{path:"/logout",name:"Logout",component:vs,meta:{title:"PointClickCare Logout",hideToolbar:!0,isOpen:"true"}},{path:"/profile",name:"Profile",props:!0,component:en,meta:{authenticate:!0,title:"PointClickCare Profile",isOpen:"true"}},{path:"/list/users",name:"ListUsers",props:!0,component:Ct,meta:{authenticate:!0,title:"PointClickCare Users",privilegesActionRequired:$o.MenuUsersList}},{path:"/create/user",name:"CreateUser",props:!0,component:ra,meta:{authenticate:!0,title:"Onboarding user",privilegesActionRequired:$o.MenuUsersCreate}},{path:"/list/users/:resourceId",name:"EditUser",props:!0,component:Pa,meta:{authenticate:!0,title:"PointClickCare User",privilegesActionRequired:$o.RouteUsersGet}},{path:"/roles",component:Bt,name:"Groups",meta:{authenticate:!0,title:"Groups",privilegesActionRequired:$o.MenuRoles}},{path:"/roles/:name",component:Bt,name:"GroupsUserList",meta:{authenticate:!0,title:"Groups",privilegesActionRequired:$o.RouteRolesGet}},{path:"/roles/:name/new",component:Bt,name:"AddUserGroups",meta:{authenticate:!0,title:"Groups",privilegesActionRequired:$o.RouteRolesCreate}},{path:"/dashboard",name:"Dashboard",component:dt,meta:{title:"PointClickCare Dashboard",authenticate:!0,isOpen:!0}},{path:"/passwordreset",name:"PasswordReset",component:Is,meta:{hideToolbar:!0,title:"Reset Password",bodyClass:"body-image",isOpen:!0}},{path:"/passwordreset/:queryParams",name:"PasswordResetForm",component:Is,meta:{hideToolbar:!0,bodyClass:"body-image",isOpen:!0},beforeEnter:function(e,t,a){m.a.create({baseURL:"",timeout:5e3}).get("/api/sessions").then((function(){a({name:"Dashboard"})})).catch((function(){a()}))}},{path:"/account-verification/",name:"AccountVerification",component:zs,props:function(e){return{token:e.query.token}},meta:{hideToolbar:!0,bodyClass:"body-image",title:"Change password",isOpen:!0}},{path:"/identity-zone",component:lr,name:"IdentityZone",meta:{authenticate:!0,title:"Identity Zone",privilegesActionRequired:$o.MenuIdentityZone}},{path:"/identity-zone/new",component:lr,name:"IdentityZoneCreate",meta:{authenticate:!0,title:"Identity Zone",privilegesActionRequired:$o.RouteIdentityZoneCreate}},{path:"/identity-zone/:id",component:lr,name:"IdentityZoneModify",meta:{authenticate:!0,title:"Identity Zone",privilegesActionRequired:$o.RouteIdentityZoneGet}},{path:"/locations",component:Yr,name:"Locations",meta:{authenticate:!0,title:"Locations",privilegesActionRequired:$o.MenuOrganizationsLocations}},{path:"/locations/new",component:Yr,name:"LocationsNew",meta:{authenticate:!0,title:"New Location",privilegesActionRequired:$o.RouteLocationsCreate}},{path:"/locations/:id",component:Yr,name:"LocationsUser",meta:{authenticate:!0,title:"Edit Location",privilegesActionRequired:$o.RouteLocationsGet}},{path:"/expiredpassword",name:"ExpirePasswordReset",component:fr,meta:{hideToolbar:!0,bodyClass:"body-image",title:"Reset Password",authenticate:!1,isOpen:!0}},{path:"/organization/profile",component:hn,name:"Organization",meta:{authenticate:!0,title:"Organization profile",privilegesActionRequired:$o.MenuOrganizationsProfile}},{path:"/organization/security",component:jn,name:"Security",meta:{authenticate:!0,title:"Security",privilegesActionRequired:$o.MenuOrganizationsSecurity}},{path:"/organization/internal-functions",component:hn,name:"OrganizationInternalFunctions",meta:{authenticate:!0,title:"Internal Functions",privilegesActionRequired:$o.OrganizationInternalFunctions}},{path:"/error",name:"GenericError",component:Cs,meta:{authenticate:!1,hideToolbar:!0,bodyClass:"body-image",isOpen:!0}},{path:"/organization/products",name:"Organization Products",component:lo,meta:{authenticate:!0,title:"Organization Products",privilegesActionRequired:$o.MenuOrganizationsProducts}},{path:"/organization/products/add",name:"Organization AddProduct",component:lo,meta:{authenticate:!0,title:"Add Product",privilegesActionRequired:$o.RouteOrganizationsProductsCreate}},{path:"/organization/products/location/:productName",name:"Organization Product Select Location",component:lo,props:!0,meta:{authenticate:!0,title:"Select Location",privilegesActionRequired:$o.RouteProductsLocationsGet}},{path:"/organization/products/settings/:productName",name:"Organization Product Settings",component:lo,props:!0,meta:{authenticate:!0,title:"Settings",privilegesActionRequired:$o.RouteProductsGet}},{path:"/organization/security/editmfaconfig",component:En,name:"MFA Config",meta:{hideToolbar:!0,showSwitchOrgModal:!0,shouldPagePersistIfInactiveSession:!0,shouldPagePersistAfterIdleTime:!0,authenticate:!0,title:"EditMFAConfig",privilegesActionRequired:$o.MenuOrganizationsSecurity}},{path:"/*",name:"NotFound",component:ys,meta:{authenticate:!0,hideToolbar:!0,title:"Not Found",bodyClass:"body-image",isOpen:!0}}]});Eo.beforeEach((function(e,t,a){(Ke.a.state.navBarOpen=!1,u.a.has(e,"meta.authenticate")&&!0===e.meta.authenticate)?m.a.create({baseURL:"",timeout:5e3}).get("/api/sessions").then((function(){e.meta.isOpen||Object(st.b)(e.meta.privilegesActionRequired)?a():a({name:"NotFound"})})).catch((function(){if(e.meta.shouldPagePersistIfInactiveSession){var t=window.location.origin,s="".concat(t,"/#").concat(e.fullPath),n=rt.a.encode(s);a({name:"Login",query:{goto:n}})}else a({name:"Login"})})):a()})),Eo.afterEach((function(e,t){document.title=e.meta.title,document.body.className="",u.a.has(e,"meta.bodyClass")&&(document.body.className=e.meta.bodyClass)}));var Do=Eo,Fo={name:"AppBar",mixins:[st.a],components:{"evergreen-span":ot.a,"evergreen-contained-button":ft.a,"evergreen-outlined-button":vt.a},data:function(){return{logoMinHeight:0,logoMaxHeight:0,isIE:!1,isEdge:!1,listPadding:"",includedRoutes:["Dashboard"],isNextModalActionSwitch:!0,usersActions:$o,globalOrgOptions:[{title:this.$i18n.t("pages.app.switchOrg"),type:"switch",dataTest:"switchOrgListItem"},{title:this.$i18n.t("pages.app.createNewOrg"),type:"create",dataTest:"createNewOrgListItem"}]}},computed:{globalOrgName:function(){return(this.$store.get("globalContext/globalOrg")||{}).name||""},globalUnsavedChanges:function(){return this.$store.get("globalContext/globalUnsavedChanges")},showDiscardChangesModal:function(){return this.$store.get("globalContext/showDiscardChangesModal")},isRouteChange:function(){return this.$store.get("globalContext/isRouteChange")}},created:function(){var e=!!document.documentMode;e?(this.logoMinHeight=155,this.logoMaxHeight=155,this.listPadding="pt-4"):(this.logoMinHeight=50,this.logoMaxHeight=50,this.listPadding=""),this.isIE=e,this.isEdge=!e&&!!window.StyleMedia},methods:{updateDrawer:function(){this.$root.userStore.state.navBarOpen=!this.$root.userStore.state.navBarOpen},resetDrawer:function(){this.$root.userStore.state.navBarOpen=!1},navigate:function(){this.$router.push("/Profile")},returnToPage:function(){this.$store.commit("globalContext/setIsRouteChange",!1),this.$store.commit("globalContext/setShowDiscardChangesModal",!1)},discardChangesClicked:function(){this.$store.commit("globalContext/setShowDiscardChangesModal",!1),this.isRouteChange?(this.$store.commit("globalContext/setGlobalUnsavedChanges",!1),this.$router.push({name:this.$store.get("globalContext/routeTo")}),this.$store.commit("globalContext/setIsRouteChange",!1)):this.executeOrgModal()},openOrgModal:function(e){"switch"===e&&(this.isNextModalActionSwitch=!0),"create"===e&&(this.isNextModalActionSwitch=!1),this.globalUnsavedChanges?this.$store.commit("globalContext/setShowDiscardChangesModal",!0):this.executeOrgModal()},executeOrgModal:function(){this.isNextModalActionSwitch?this.$store.commit("globalContext/setShowSwitchOrgModal",!0):this.$store.commit("globalContext/setShowCreateOrgModal",!0)}}};var Ro=function(e){a("UnOx")},zo=Object(lt.a)(Fo,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("nav",[this.$route.meta.hideToolbar?e._e():s("v-app-bar",{staticStyle:{"background-color":"white",height:"3rem"},attrs:{"clipped-left":!0,"data-test":"appBar",app:""}},[e.$vuetify.breakpoint.sm||e.$vuetify.breakpoint.xs?[s("v-btn",{staticClass:"menu-icon",attrs:{icon:"",large:""},on:{click:function(t){return e.updateDrawer()}}},[s("v-icon",[e._v("mdi-menu")])],1)]:e._e(),e._v(" "),s("router-link",{staticClass:"router-underline",attrs:{to:"/dashboard",align:"middle"}},[s("v-toolbar-title",{staticClass:"black--text"},[s("img",{staticClass:"logo",attrs:{src:a("1Sg+"),width:"160"}})])],1),e._v(" "),s("v-spacer"),e._v(" "),s("div",{staticClass:"text-center"},[e.isActionAllowed(this.usersActions.OrganizationsAdmin)?s("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,n=t.attrs;return[s("v-btn",e._g(e._b({staticClass:"global-org-dropdown",attrs:{"data-test":"globalOrgSelectorDropdown",text:"",depressed:"",color:"secondary"}},"v-btn",n,!1),a),[e._v("\n            "+e._s(e.globalOrgName)+"\n            "),s("v-icon",{attrs:{right:""}},[e._v(" mdi-menu-down")])],1)]}}],null,!1,1067857860)},[e._v(" "),s("v-list",e._l(e.globalOrgOptions,(function(t,a){return s("v-list-item",{key:a,attrs:{"data-test":t.dataTest},on:{click:function(a){return e.openOrgModal(t.type)}}},[s("v-list-item-title",[e._v(e._s(t.title))])],1)})),1)],1):e._e()],1),e._v(" "),s("div",{staticClass:"text-center",staticStyle:{"margin-bottom":"0.75rem"}},[!e.isActionAllowed(this.usersActions.OrganizationsAdmin)&&e.isActionAllowed(this.usersActions.MenuOrganizationsProfile)?s("evergreen-span",{attrs:{"data-test":"globalOrgNameButton",text:"",depressed:"",type:"body-1"}},[e._v("\n        "+e._s(e.globalOrgName)+"\n      ")]):e._e()],1),e._v(" "),s("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[s("v-btn",e._g({staticClass:"inactive-color profile-icon",attrs:{icon:"",id:"pendo-resource-hub-icon",title:"Resource Hub","data-test":"pendo-resource-hub"}},a),[s("v-icon",[e._v("mdi-help-circle")])],1)]}}],null,!1,1054530172)}),e._v(" "),s("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[s("v-btn",e._g({staticClass:"inactive-color profile-icon",attrs:{icon:""}},a),[s("v-icon",{attrs:{"data-test":"profileIconAppBar",id:"accountIcon"}},[e._v("mdi-account-circle")])],1)]}}],null,!1,478093865)},[e._v(" "),s("v-list",{attrs:{"min-width":"100"}},[s("v-list-item",{on:{click:e.navigate}},[s("v-list-item-title",{class:e.listPadding},[s("evergreen-span",{attrs:{type:"subtitle-1",label:e.$t("pages.app.profile"),"data-test":"userProfile-in-accountIcon"}})],1)],1),e._v(" "),s("v-list-item",{attrs:{"data-test":"logoutButton"},on:{click:function(t){return e.logoutUser()}}},[s("v-list-item-title",{class:e.listPadding},[s("evergreen-span",{attrs:{type:"subtitle-1",label:e.$t("pages.app.signOut")}})],1)],1)],1)],1)],2),e._v(" "),s("v-dialog",{attrs:{persistent:"","max-width":"500px","data-test":"globalDiscardChangesDialog"},model:{value:e.showDiscardChangesModal,callback:function(t){e.showDiscardChangesModal=t},expression:"showDiscardChangesModal"}},[s("v-card",[s("v-card-title",{staticClass:"pb-6"},[s("evergreen-span",{attrs:{type:"body-1",label:e.$t("common.messages.discardChangesMessage")}})],1),e._v(" "),s("v-card-text",[s("v-row",{attrs:{justify:"end","no-gutters":"",dense:""}},[s("evergreen-outlined-button",{attrs:{label:e.$t("common.form.ignore"),"data-test":"discardChangesIgnore"},nativeOn:{click:function(t){return e.discardChangesClicked.apply(null,arguments)}}}),e._v(" "),s("evergreen-contained-button",{staticClass:"ml-6",attrs:{label:e.$t("common.form.ok"),"data-test":"discardChangesOk"},nativeOn:{click:function(t){return e.returnToPage.apply(null,arguments)}}})],1)],1)],1)],1),e._v(" "),s("transition",{attrs:{name:"fade",mode:"out-in"}},[s("router-view",{key:this.$route.fullPath})],1)],1)}),[],!1,Ro,"data-v-33013c58",null),jo=zo.exports,qo={name:"NavDrawer",mixins:[st.a],components:{"evergreen-span":ot.a},data:function(){return{mini:!1,isIE:!1,isProduction:!1,userName:this.$root.userStore.state.userId,isAdmin:this.$root.userStore.state.pccAdmin,isImplementer:this.$root.userStore.state.pccImplementer,links:[{icon:"mdi-view-dashboard",text:this.$i18n.t("pages.app.dashboard"),route:"/dashboard",show:!0,dataTest:"user-dashboard-icon"},{icon:"mdi-account-circle",text:this.$i18n.t("pages.app.profile"),route:"/profile",show:!0,dataTest:"user-profile-icon"}]}},created:function(){this.isProduction=!0,this.isIE=!!document.documentMode},methods:{},computed:{finalNavLinks:function(){var e=pt()(this.links),t={icon:"mdi-account-plus",text:this.$i18n.t("pages.app.users"),route:"/list/users",show:this.isActionAllowed($o.MenuUsersList,this.$root.userStore),dataTest:"user-list",group:"user"},a={icon:"mdi-account-multiple-plus",text:this.$i18n.t("pages.app.groups"),route:"/roles",show:this.isActionAllowed($o.MenuRoles,this.$root.userStore),dataTest:"groups-icon"},s={icon:"mdi-domain",group:"organization/profile|locations|products|security|internal-functions",text:this.$i18n.t("pages.app.accessingEntity"),show:this.isActionAllowed($o.MenuOrganizations,this.$root.userStore),links:[],dataTest:"accessing-entity-icon"};return this.isActionAllowed($o.MenuOrganizationsProfile,this.$root.userStore)&&s.links.push({text:this.$i18n.t("pages.app.orgProfile"),route:"/organization/profile",dataTest:"data-test-nav-drawer-org-profile"}),this.isActionAllowed($o.MenuOrganizationsSecurity,this.$root.userStore)&&s.links.push({text:this.$i18n.t("pages.app.orgSecurity"),route:"/organization/security",dataTest:"data-test-nav-drawer-org-security"}),this.isActionAllowed($o.MenuOrganizationsLocations,this.$root.userStore)&&s.links.push({text:this.$i18n.t("pages.app.locations"),route:"/locations",dataTest:"data-test-nav-drawer-location"}),this.isActionAllowed($o.MenuOrganizationsProducts,this.$root.userStore)&&s.links.push({text:this.$i18n.t("pages.app.products"),route:"/organization/products",dataTest:"org-products-nav-drawer"}),this.isActionAllowed($o.OrganizationInternalFunctions,this.$root.userStore)&&s.links.push({text:this.$i18n.t("pages.app.orgInternalFunctions"),route:"/organization/internal-functions",dataTest:"org-internal-functions-nav-drawer"}),e.push(t),e.push(a),e.push(s),this.isFeatureOn("iam_new_saml_implementation")||e.push({icon:"mdi-lock",text:this.$i18n.t("pages.app.identityZone"),route:"/identity-zone",show:this.isActionAllowed($o.MenuIdentityZone,this.$root.userStore),dataTest:"identity-zone-icon"}),e.filter((function(e){return void 0===e.show||e.show}))}}};var Bo=function(e){a("uto7"),a("4lbP")},Vo=Object(lt.a)(qo,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("nav",[e.$vuetify.breakpoint.lg||e.$vuetify.breakpoint.xl||e.$vuetify.breakpoint.md?[this.$route.meta.hideToolbar?e._e():a("v-navigation-drawer",{staticClass:"pcc-navigation-drawer",staticStyle:{top:"3rem","max-height":"calc(100% - 3rem)"},attrs:{"mini-variant":e.mini,"mini-variant-width":"56",permanent:"",clipped:"",fixed:"","data-test":"navDrawer",app:""},on:{"update:miniVariant":function(t){e.mini=t},"update:mini-variant":function(t){e.mini=t}},scopedSlots:e._u([{key:"append",fn:function(){return[a("v-container",{staticClass:"white no-padding"},[a("v-row",[a("v-col",{staticClass:"no-padding"},[a("v-card",{attrs:{outlined:""}},[a("v-btn",{attrs:{block:"",depressed:"",color:"white"},on:{click:function(t){t.stopPropagation(),e.mini=!e.mini}}},[e.mini?a("v-icon",[e._v("mdi-chevron-right")]):a("v-icon",{staticClass:"drawer-close",attrs:{right:""}},[e._v("mdi-chevron-left")])],1)],1)],1)],1)],1)]},proxy:!0}],null,!1,3644644439)},[a("v-list",{attrs:{dense:"",nav:""}},[e._l(e.finalNavLinks,(function(t){return[t.links?a("v-list-group",{key:t.text,staticClass:"no-underline mt-1",attrs:{"prepend-icon":t.icon,value:"true",group:t.group,"active-class":"drawer-list"},scopedSlots:e._u([{key:"activator",fn:function(){return[a("v-list-item-content",{attrs:{"active-class":"drawer-list","data-test":t.dataTest}},[a("evergreen-span",{attrs:{type:"subtitle-1",label:t.text}})],1)]},proxy:!0}],null,!0),model:{value:t.active,callback:function(a){e.$set(t,"active",a)},expression:"link.active"}},[e._v(" "),e.mini?e._e():e._l(t.links,(function(e){return a("v-list-item",{key:e.text,staticClass:"no-underline mt-1",staticStyle:{"padding-left":"4rem"},attrs:{link:"","active-class":"drawer-list",to:e.route,"data-test":e.dataTest}},[a("v-list-item-content",[a("evergreen-span",{attrs:{type:"body-1",label:e.text}})],1)],1)}))],2):a("v-list-item",{key:t.text,staticClass:"no-underline mt-1",attrs:{"active-class":"drawer-list",to:t.route}},[a("v-list-item-icon",{staticClass:"mr-4",class:[{"icon-shift":!e.isIE}]},[a("v-icon",{attrs:{"data-test":t.dataTest}},[e._v(e._s(t.icon))])],1),e._v(" "),a("v-list-item-content",[a("evergreen-span",{attrs:{type:"subtitle-1",label:t.text}})],1)],1)]}))],2)],1)]:[a("v-navigation-drawer",{attrs:{clipped:"",floating:"",absolute:"","hide-overlay":!e.$root.userStore.state.navBarOpen,temporary:!0,"mini-variant":e.mini},on:{"update:miniVariant":function(t){e.mini=t},"update:mini-variant":function(t){e.mini=t}},scopedSlots:e._u([{key:"append",fn:function(){return[a("v-card",{attrs:{outlined:""}},[a("v-list-item",{attrs:{color:"primary",link:""},on:{click:function(t){return e.logoutUser()}}},[a("v-list-item-icon",[a("v-icon",[e._v("mdi-exit-to-app")])],1),e._v(" "),a("v-list-item-content",[a("evergreen-span",{attrs:{type:"subtitle-1",label:"Logout"}})],1)],1)],1)]},proxy:!0}]),model:{value:e.$root.userStore.state.navBarOpen,callback:function(t){e.$set(e.$root.userStore.state,"navBarOpen",t)},expression:"$root.userStore.state.navBarOpen"}},[a("v-list",{attrs:{dense:"",nav:""}},[e._l(e.finalNavLinks,(function(t){return[t.links?a("v-list-group",{key:t.text,staticClass:"no-underline mt-1",attrs:{"prepend-icon":t.icon,value:"true",group:t.group,"active-class":"drawer-list"},scopedSlots:e._u([{key:"activator",fn:function(){return[a("v-list-item-content",{attrs:{"active-class":"drawer-list","data-test":t.dataTest}},[a("evergreen-span",{attrs:{type:"subtitle-1",label:t.text}})],1)]},proxy:!0}],null,!0),model:{value:t.active,callback:function(a){e.$set(t,"active",a)},expression:"link.active"}},[e._v(" "),e.mini?e._e():e._l(t.links,(function(e){return a("v-list-item",{key:e.text,staticClass:"no-underline mt-1",staticStyle:{"padding-left":"4rem"},attrs:{link:"","active-class":"drawer-list",to:e.route,"data-test":e.dataTest}},[a("v-list-item-content",[a("evergreen-span",{attrs:{type:"subtitle-1",label:e.text}})],1)],1)}))],2):a("v-list-item",{key:t.text,staticClass:"no-underline mt-1",attrs:{"active-class":"drawer-list",to:t.route}},[a("v-list-item-icon",{staticClass:"mr-4",class:[{"icon-shift":!e.isIE}]},[a("v-icon",{attrs:{"data-test":t.dataTest}},[e._v(e._s(t.icon))])],1),e._v(" "),a("v-list-item-content",[a("evergreen-span",{attrs:{type:"subtitle-1",label:t.text}})],1)],1)]}))],2)],1)]],2)}),[],!1,Bo,"data-v-6c6f55b4",null).exports,Go={name:"SystemMaintenance",components:{"evergreen-span":ot.a},data:function(){return{}},methods:{}},Ho=Object(lt.a)(Go,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-app",[s("v-content",[s("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[s("v-layout",{attrs:{"align-center":""}},[s("v-row",{attrs:{align:"center",justify:"center"}},[s("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[s("v-card",{staticClass:"elevation-12 mx-auto px-6",attrs:{"max-width":"500","min-height":"250"}},[s("v-card-title",{staticClass:"justify-center pa-0 mt-n12 mb-6"},[s("img",{staticClass:"pa-10",attrs:{src:a("1Sg+")}}),e._v(" "),s("evergreen-span",{attrs:{align:"center",type:"h5",label:e.$t("pages.maintenance.message")}})],1)],1)],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null).exports,Yo=Object(z.getFacadeConfig)("production"),Qo={components:{"debounced-text-field":Lt,"evergreen-span":ot.a},mixins:[_t],created:function(){this.isIE=!!document.documentMode},mounted:function(){var e=this;this.$nextTick((function(){var t=(e.$refs.searchBoxRow||{getBoundingClientRect:function(){return{bottom:0}}}).getBoundingClientRect().bottom;e.windowHeight=window.innerHeight-t-100,e.windowWidth=window.screen.width}))},props:{searchDataTestString:String},data:function(){return{organizations:[],selectedOrganizationId:null,loading:!1,currentPage:1,perPage:50,pageCount:0,search:"",searching:!1,isIE:!1,windowWidth:0,windowHeight:0,serverError:!1,headers:[{text:"",value:"selected",sortable:!1,width:"5%"},{text:this.$i18n.t("pages.onBoardingUser.searchOrgTable.organizationNameHeader"),value:"name",sortable:!1,align:"left"},{text:this.$i18n.t("pages.onBoardingUser.searchOrgTable.organizationCodeHeader"),value:"name",sortable:!1,align:"left"},{text:this.$i18n.t("pages.onBoardingUser.searchOrgTable.locationAddressHeader"),value:"locationAddress",sortable:!1}]}},computed:{noResult:function(){return(this.search||"").trim().length>0&&!1===this.loading&&!1===this.serverError&&0===(this.organizations||[]).length}},watch:{search:function(){var e=this;return o()(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==(e.search||"").trim()){t.next=4;break}e.clear(),t.next=10;break;case 4:return e.searching=!0,e.clearOrganizations(),t.next=8,e.searchOrganizations();case 8:document.querySelector(".v-data-table__wrapper").addEventListener("scroll",e.onScroll),e.searching=!1;case 10:case"end":return t.stop()}}),t)})))()},selectedOrganizationId:function(){var e=this.selectedOrganizationId;if(e){var t=this.organizations.find((function(t){return e===t.id}));Ke.a.displayApplications(),this.$emit("selectedOrgChange",t)}}},methods:{isLastLocationRow:function(e,t){return e===t.locations.length-1},hasLocations:function(e){return e.locations.length>0},clearOrganizations:function(){this.organizations=[],this.currentPage=1,this.hasMore=!1},clear:function(){this.search="",this.searching=!1,this.selectedOrganizationId=null,this.$emit("clear"),this.clearOrganizations()},searchOrganizationsOnEnter:function(e){var t=this;return o()(l.a.mark((function a(){return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t.search=e||"";case 1:case"end":return a.stop()}}),a)})))()},searchOrganizations:function(){var e=this;return o()(l.a.mark((function t(){var a,s,n,r,o,i,c,d;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.getRequestService({baseURL:Yo,timeout:4e4}),e.loading=!0,e.serverError=!1,t.prev=3,s=e.perPage,n=e.currentPage,r=null===e.search?"":e.search,t.next=9,a.get("/organizations?pageSize=".concat(s,"&page=").concat(n,"&query=").concat(r));case 9:o=t.sent,i=o.data.data,e.hasMore=!!o.data.paging&&o.data.paging.hasMore,i.forEach((function(t){t.selected=e.selectedOrganizationId===t.id,e.organizations.push(t)})),t.next=22;break;case 15:t.prev=15,t.t0=t.catch(3),c=["response","data","errors",0,"title"],d=e.getErrorMessage(c,t.t0)||t.t0.message,e.displayNotification("error",d),e.loading=!1,e.serverError=!0;case 22:return e.loading=!1,t.abrupt("return",e.organizations);case 24:case"end":return t.stop()}}),t,null,[[3,15]])})))()},onScroll:function(e){var t=this;this.scrollTimeout&&clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout((function(){var a=e.target,s=a.scrollTop,n=a.scrollHeight;s+a.clientHeight===n&&!t.loading&&t.hasMore&&(t.currentPage++,t.searchOrganizations())}),200)}}};var Wo=function(e){a("8UCZ")},Zo=Object(lt.a)(Qo,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-card",{staticClass:"create-search pb-6px",attrs:{flat:""}},[a("v-row",[a("v-col",{staticClass:"description",attrs:{cols:"6"}},[e._v("\n        "+e._s(e.$t("pages.onBoardingUser.searchFilterDescription"))+"\n      ")])],1),e._v(" "),a("v-row",{ref:"searchBoxRow"},[a("v-col",{staticClass:"search-box",attrs:{cols:"6"}},[a("debounced-text-field",{attrs:{"append-icon":""===e.search?"search":"",label:e.$t("common.form.search"),hint:e.$t("pages.onBoardingUser.searchByKeywords"),persistentHint:!0,dense:"",outlined:"",clearable:""!==e.search,autoFocus:"","data-test":e.searchDataTestString,"min-chars":2,debounce:700},on:{"keyup:enter:nocheck":e.searchOrganizationsOnEnter,"click:append:nocheck":e.searchOrganizationsOnEnter,"click:clear":e.clear},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1),e._v(" "),e.organizations.length>0||e.noResult?a("v-row",[e.noResult?[a("evergreen-span",{staticClass:"no-results",attrs:{"data-test":"no-result",type:"h4",label:e.$t("pages.onBoardingUser.noResult")}})]:a("v-col",{staticClass:"table-col",attrs:{cols:"12"}},[a("v-data-table",{ref:"simpleAETable",class:[{table:this.isIE&&1280===this.windowWidth},"ml-0"],staticStyle:{"margin-left":"-0.688rem !important"},attrs:{headers:e.headers,items:e.organizations,loading:e.loading,height:"31.25rem","fixed-header":"","disable-pagination":"","disable-sort":"","mobile-breakpoint":0,"item-key":"name","data-test":"selectOrganizationTable","hide-default-footer":!0},scopedSlots:e._u([{key:"body",fn:function(t){var s=t.items;return[e.noResult?[a("tr",[a("td",{staticClass:"pl-0 h-auto pt-14px pb-12px",staticStyle:{"text-align":"center"},attrs:{colspan:4}},[a("evergreen-span",{attrs:{"data-test":"no-result",type:"body-2",label:e.$t("pages.onBoardingUser.noResult")}})],1)])]:e._l(s,(function(t,s){return[a("tr",{key:t.id,class:{"border-bottom":!e.hasLocations(t)},attrs:{"data-test":"org-row-"+s,"data-orgId":t.id}},[a("td",{staticClass:"h-auto pl-10px pr-24px ptb-7px"},[a("v-radio-group",{model:{value:e.selectedOrganizationId,callback:function(t){e.selectedOrganizationId=t},expression:"selectedOrganizationId"}},[a("v-radio",{attrs:{value:t.id,"data-test":"select-"+t.id}})],1)],1),e._v(" "),a("td",{staticClass:"pl-0 h-auto pt-14px pb-12px",staticStyle:{width:"40%"}},[a("evergreen-span",{attrs:{"data-test":"org-name",type:"body-2",label:t.name}})],1),e._v(" "),a("td",{staticClass:"pl-0 h-auto pt-14px pb-12px",staticStyle:{width:"20%"}},[a("evergreen-span",{attrs:{"data-test":"org-code",type:"body-2",label:t.orgCode}})],1),e._v(" "),a("td",{staticClass:"pl-0 h-auto pt-14px pb-12px"},[e._v("\n                   \n                ")])]),e._v(" "),e._l(t.locations,(function(s,n){return a("tr",{key:s.locationId,class:{"border-bottom":e.isLastLocationRow(n,t)},attrs:{"data-test":"org-detail-row-"+n,"data-orgId":t.id,"data-locId":s.locationId}},[a("td",{staticClass:"pl-0 h-auto pt-4px pb-12px"},[e._v("\n                     \n                  ")]),e._v(" "),s.name.length>50?a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[a("td",e._g(e._b({staticClass:"pl-9px h-auto pt-4px pb-12px"},"td",r,!1),n),[a("evergreen-span",{attrs:{"data-test":"location-name",label:e._f("truncate")(s.name,50,"..."),type:"body-2"}})],1)]}}],null,!0)},[e._v(" "),a("span",[e._v(e._s(s.name))])]):a("td",{staticClass:"pl-9px h-auto pt-4px pb-12px"},[a("evergreen-span",{attrs:{"data-test":"location-name",label:s.name,type:"body-2"}})],1),e._v(" "),a("td",{staticClass:"pl-9px h-auto pt-4px pb-12px"},[e._v("\n                     \n                  ")]),e._v(" "),a("td",{staticClass:"pl-0 h-auto pt-4px pb-12px"},[a("evergreen-span",{attrs:{type:"body-2","data-test":"location-address"}},[e._v("\n                      "+e._s(s.addressLine1)+", "+e._s(s.city)+" "+e._s(s.province)+",\n                      "+e._s(s.postalCode)+e._s(s.country?", "+s.country:"")+"\n                    ")])],1)],1)}))]}))]}}],null,!1,541039695)})],1)],2):a("div",{style:"height:"+e.windowHeight+"px"},[a("div",{staticStyle:{height:"3.375rem",position:"relative"}},[a("v-progress-linear",{attrs:{indeterminate:"",active:e.loading,bottom:"",absolute:"",height:2}})],1)])],1)],1)}),[],!1,Wo,"data-v-e2081ebc",null).exports,Xo={$_veeValidate:{validator:"new"},data:function(){return{orgFields:{status:"ACTIVE",environment:"DEVELOPMENT",emailRequired:!1,expireUsers:"false",userMaxExpiryInDays:60},environmentOptions:[{value:"PRODUCTION",text:this.$t("pages.accessingEntity.production")},{value:"DEVELOPMENT",text:this.$t("pages.accessingEntity.development")},{value:"NON_PRODUCTION",text:this.$t("pages.accessingEntity.non_production")}],expiryOptions:[{value:30,text:"30 days"},{value:60,text:"60 days"},{value:90,text:"90 days"},{value:120,text:"120 days"},{value:180,text:"180 days"},{value:365,text:"365 days"}],endpoint:"".concat(Object(z.getFacadeConfig)("production"),"/organizations/"),tenantChangeEndpoint:"".concat(Object(z.getFacadeConfig)("production"),"/"),disableSaveButton:!1,colSize:5}},computed:{environmentTooltipText:function(){return location.hostname.includes("accounts.pointclickcare.com")?"PRODUCTION are used for production organization\nDEVELOPMENT are used by CDX and will be retired in the future\nNON_PRODUCTION are used for training and demo purposes":"In the IAM QA environment, only DEVELOPMENT and NON_PRODUCTION types are functional.\nYou may be able to create PRODUCTION type organizations temporarily,\nbut there are background jobs that will set the environment\nto NON_PRODUCTION for those organizations. "},isExpireEnable:function(){return"true"==this.orgFields.expireUsers}},methods:{clear:function(){this.orgFields={status:"ACTIVE",environment:"DEVELOPMENT",emailRequired:!1,expireUsers:"false",userMaxExpiryInDays:60}},cancel:function(){this.$store.commit("globalContext/setShowCreateOrgModal",!1),this.clear()},saveOrganization:function(){var e=this;return o()(l.a.mark((function t(){var a,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$validator.validateAll();case 2:if(t.sent){t.next=5;break}return t.abrupt("return");case 5:return e.disableSaveButton=!0,t.prev=6,t.next=9,E.a.postOrganization(e.orgFields);case 9:return a=t.sent,e.displayNotification("success","Created"),e.$store.commit("globalContext/setGlobalUnsavedChanges",!1),e.$store.commit("globalContext/setGlobalUnsavedChanges",!1),t.next=15,e.getCreatedOrgAndUpdateGlobalOrg(a.data.organizationId);case 15:e.$store.commit("globalContext/setShowCreateOrgModal",!1),e.clear(),e.disableSaveButton=!1,t.next=25;break;case 20:t.prev=20,t.t0=t.catch(6),s=e.getErrorMessage(["response","data","errors",0,"detail"],t.t0)||t.t0.message,e.displayNotification("error",s),e.disableSaveButton=!1;case 25:case"end":return t.stop()}}),t,null,[[6,20]])})))()},getCreatedOrgAndUpdateGlobalOrg:function(e){var t=this;return o()(l.a.mark((function a(){var s,n,r,o;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s=t.getRequestService({baseURL:t.tenantChangeEndpoint}),a.next=3,s.post("/sessions/tenant:change",{orgId:e});case 3:if(200!==a.sent.status){a.next=11;break}return n=t.getRequestService({baseURL:t.endpoint}),a.next=8,n.get("/".concat(e));case 8:r=a.sent,o={emailRequired:r.data.emailRequired,environment:r.data.environment,id:r.data.organizationId,locations:{},name:r.data.name,orgCode:r.data.orgCode,scope:r.data.scope,status:r.data.status,selected:!0,expireUsers:r.data.expireUsers,userMaxExpiryInDays:r.data.userMaxExpiryInDays},t.$store.commit("globalContext/changeGlobalOrg",o);case 11:case"end":return a.stop()}}),a)})))()}},components:{"evergreen-contained-btn":ft.a,"evergreen-span":ot.a,"evergreen-outlined-btn":vt.a}};var Jo=function(e){a("fqu7")},Ko=Object(lt.a)(Xo,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-card-title",[a("evergreen-span",{attrs:{type:"h3",label:e.$t("pages.organizations.create.title")}})],1),e._v(" "),a("v-card-title",[a("evergreen-span",{attrs:{type:"h5",label:e.$t("pages.organizations.create.subtitle")}})],1),e._v(" "),a("v-card-text",[a("v-row",[a("v-col",[a("v-form",{on:{submit:function(e){e.preventDefault()}}},[a("v-row",{staticClass:"create-org-input"},[a("v-col",{staticClass:"orgColPt-0",attrs:{cols:e.colSize}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:2|max:255",expression:"'required|min:2|max:255'"}],class:[{"is-invalid":e.errors.has("name")}],attrs:{id:"name-input-1",name:"name",outlined:"",label:e.$t("pages.organizations.profile.name"),"data-vv-validate-on":"submit","error-messages":e.errors.first("name"),"data-test":"org-name-input"},model:{value:e.orgFields.name,callback:function(t){e.$set(e.orgFields,"name",t)},expression:"orgFields.name"}})],1)],1),e._v(" "),a("v-row",{staticClass:"create-org-input"},[a("v-col",{staticClass:"orgColPt-0",attrs:{cols:e.colSize}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|alpha_num|min:4|max:15",expression:"'required|alpha_num|min:4|max:15'"}],attrs:{"data-test":"org-orgCode-input",outlined:"",name:"organization code",hint:"* Required","error-messages":e.errors.first("organization code"),label:e.$t("pages.organizations.profile.orgCode")},model:{value:e.orgFields.orgCode,callback:function(t){e.$set(e.orgFields,"orgCode",t)},expression:"orgFields.orgCode"}})],1)],1),e._v(" "),a("v-row",{staticClass:"create-org-input"},[a("v-col",{staticClass:"orgColPt-0",attrs:{cols:e.colSize}},[a("v-autocomplete",{attrs:{id:"environment-input-1",outlined:"",items:e.environmentOptions,"data-test":"org-environment-input",label:e.$t("pages.organizations.profile.environment")},model:{value:e.orgFields.environment,callback:function(t){e.$set(e.orgFields,"environment",t)},expression:"orgFields.environment"}})],1),e._v(" "),a("v-col",[a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-icon",e._g({},s),[e._v("info")])]}}])},[e._v(" "),a("pre",[a("evergreen-span",{staticClass:"env-tooltip-text",attrs:{type:"body-2",label:e.environmentTooltipText}})],1)])],1)],1),e._v(" "),a("v-row",{staticClass:"create-org-input"},[a("v-col",{staticClass:"orgColPt-0 create-org-input",attrs:{cols:e.colSize}},[a("v-switch",{staticClass:"orgMt-0",attrs:{color:"secondary","true-value":"ACTIVE","false-value":"INACTIVE","data-test":"org-status-switch-input"},scopedSlots:e._u([{key:"label",fn:function(){return[a("evergreen-span",{staticClass:"mt-2",attrs:{type:"body-1",label:e.$t("pages.organizations.profile.status")}})]},proxy:!0}]),model:{value:e.orgFields.status,callback:function(t){e.$set(e.orgFields,"status",t)},expression:"orgFields.status"}})],1)],1),e._v(" "),a("v-row",[a("v-col",{attrs:{cols:e.colSize}},[a("evergreen-span",{attrs:{type:"h6",label:e.$t("pages.organizations.profile.inactiveAccountPolicy")}})],1)],1),e._v(" "),a("v-row",[a("v-col",{staticClass:"orgColPt-0",staticStyle:{"margin-bottom":"-2rem"},attrs:{cols:e.colSize}},[a("v-switch",{staticClass:"orgMt-0",attrs:{color:"secondary","true-value":"true","false-value":"false","data-test":"org-expire-input"},scopedSlots:e._u([{key:"label",fn:function(){return[a("evergreen-span",{staticClass:"mt-2",attrs:{type:"body-1",label:e.$t("pages.organizations.profile.enable")}})]},proxy:!0}]),model:{value:e.orgFields.expireUsers,callback:function(t){e.$set(e.orgFields,"expireUsers",t)},expression:"orgFields.expireUsers"}})],1)],1),e._v(" "),e.isExpireEnable?a("v-row",{attrs:{dense:""}},[a("evergreen-span",{staticClass:"mt-2",staticStyle:{"font-size":"1rem","margin-left":"0.4rem"},attrs:{align:"baseline",type:"body-1",label:e.$t("pages.organizations.profile.lockInactiveAccounts")}}),e._v(" "),a("v-col",{staticClass:"orgPT-0",attrs:{cols:3}},[a("v-select",{staticStyle:{"font-size":"0.875rem",width:"45%"},attrs:{id:"expire-users-dropdown-1",items:e.expiryOptions,"data-test":"org-expiryOptions-input",solo:"",height:"1.6875rem"},model:{value:e.orgFields.userMaxExpiryInDays,callback:function(t){e.$set(e.orgFields,"userMaxExpiryInDays",t)},expression:"orgFields.userMaxExpiryInDays"}})],1)],1):e._e(),e._v(" "),a("v-row",[a("v-col",{staticClass:"orgColPt-0",attrs:{cols:e.colSize}},[a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-checkbox",e._g({staticClass:"orgMt-0",attrs:{"data-test":"org-email-required-checkbox-input","true-value":!0,"false-value":!1},scopedSlots:e._u([{key:"label",fn:function(){return[a("evergreen-span",{staticClass:"mt-2",attrs:{type:"body-1",label:e.$t("pages.organizations.profile.emailRequired")}})]},proxy:!0}],null,!0),model:{value:e.orgFields.emailRequired,callback:function(t){e.$set(e.orgFields,"emailRequired",t)},expression:"orgFields.emailRequired"}},s))]}}])},[e._v(" "),a("span",[e._v(e._s(e.$t("pages.organizations.create.emailToolTip")))])])],1)],1)],1)],1)],1),e._v(" "),a("v-row",{staticClass:"mt-5 mb-3 pr-6",attrs:{justify:"end"}},[a("evergreen-contained-btn",{staticClass:"ml-6 mr-2",attrs:{disabled:e.disableSaveButton,label:e.$t("common.form.save"),"data-test":"org-create-save-button"},nativeOn:{click:function(t){return e.saveOrganization.apply(null,arguments)}}}),e._v(" "),a("evergreen-outlined-btn",{staticClass:"ml-6",attrs:{"data-test":"org-create-cancel-button",label:e.$t("common.form.cancel")},nativeOn:{click:function(t){return e.cancel.apply(null,arguments)}}})],1)],1)],1)}),[],!1,Jo,"data-v-0dc35aef",null),ei=Ko.exports,ti={name:"SessionTimeoutModal",components:{"evergreen-span":ot.a,"evergreen-contained-button":ft.a},computed:{showSessionTimeout:{get:function(){return this.$store.getters["globalContext/showSessionTimeoutModal"]}}},methods:{onTimeoutClose:function(){if(this.$route.meta&&this.$route.meta.shouldPagePersistAfterIdleTime){var e=rt.a.encode(window.location.href);this.$router.push({name:"Login",query:{goto:e}})}else this.$router.push({name:"Login"});this.$store.commit("globalContext/setShowSessionTimeoutModal",!1)}}};var ai=function(e){a("/kg3")},si=Object(lt.a)(ti,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{persistent:"","max-width":"31.25rem","data-test":"sessionTimeoutDialog"},model:{value:e.showSessionTimeout,callback:function(t){e.showSessionTimeout=t},expression:"showSessionTimeout"}},[a("v-card",[a("v-card-title",{staticClass:"pt-6-rem"},[a("evergreen-span",{attrs:{type:"h5-medium",label:e.$t("common.messages.sessionTimeoutTitle"),"data-test":"sessionTimeoutTitle"}})],1),e._v(" "),a("v-card-text",{staticClass:"pt-6-rem"},[a("evergreen-span",{attrs:{type:"body-1",label:e.$t("common.messages.sessionTimeoutMessage"),"data-test":"sessionTimeoutMessage"}}),e._v(" "),a("v-row",{staticClass:"pt-6-rem",attrs:{justify:"end"}},[a("evergreen-contained-button",{attrs:{label:e.$t("common.form.close"),"data-test":"serverTimeoutClose"},nativeOn:{click:function(t){return e.onTimeoutClose()}}})],1)],1)],1)],1)}),[],!1,ai,null,null).exports,ni=(a("4+WZ"),a("qVCR"),j.a.getFacadeConfig("production")),ri={name:"App",mixins:[at.a],data:function(){return{state:!1,toggled:!1,accessingEntitiesReady:!0,orgs:[],orgName:"",cols:4,honeyLink:"",maintenanceMode:!1,changeTenantIdEndpoint:"/sessions/tenant:change",showOrgSwitchError:!1,fetchingGlobalOrg:!1,unconfirmedSelectedOrg:null,switchOrg:!1}},components:{AppBar:jo,NavDrawer:Vo,SystemMaintenance:Ho,SessionTimeoutModal:si,"evergreen-span":ot.a,"evergreen-contained-button":ft.a,"evergreen-outlined-button":vt.a,"evergreen-text-button":Nt.a,"select-organization":Zo,"create-organization":ei},onIdle:function(){var e=this;Ma.a.isPreLoginRoute(this.$route)&&!this.$route.meta.shouldPagePersistAfterIdleTime||this.getRequestService({baseURL:ni}).post("/logout").then((function(){e.pagePersistAndGotoLogin()})).catch((function(){e.pagePersistAndGotoLogin()}))},created:function(){var e=this;return o()(l.a.mark((function t(){var a,s,n,r,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.maintenanceMode=e.isMaintenanceMode(),e.$store.commit("userOnboarding/clearOrgSearch"),e.honeyLink=j.a.getLink(window.location.hostname),a=e.getRequestService({baseURL:ni}),!(s=e.$root.userStore.getTenantId())){t.next=22;break}return e.fetchingGlobalOrg=!0,t.prev=7,t.next=10,E.a.getOrganization(s);case 10:n=t.sent,r=n.data,e.$store.commit("globalContext/changeGlobalOrg",e.globalOrgMapper(r)),e.$store.commit("globalContext/setShowSwitchOrgModal",!1),e.fetchingGlobalOrg=!1,Ke.a.displayApplications(),t.next=22;break;case 18:t.prev=18,t.t0=t.catch(7),e.fetchingGlobalOrg=!1,e.$store.commit("globalContext/setShowSwitchOrgModal",!0);case 22:return o=e.$store.dispatch("featureFlags/loadFeatureFlags",{http:a}),t.next=25,Promise.all(o);case 25:case"end":return t.stop()}}),t,null,[[7,18]])})))()},computed:{isTestEnv:function(){return this.isTest()},globalOrg:function(){return this.$store.getters["globalContext/globalOrg"]},showSwitchOrg:{get:function(){return this.$store.getters["globalContext/showSwitchOrgModal"]},set:function(e){this.$store.commit("globalContext/setShowSwitchOrgModal",e)}},showCreateOrg:{get:function(){return this.$store.getters["globalContext/showCreateOrgModal"]},set:function(e){this.$store.commit("globalContext/setShowCreateOrgModal",e)}},unconfirmedSelectedOrgId:function(){return this.unconfirmedSelectedOrg&&this.unconfirmedSelectedOrg.id?this.unconfirmedSelectedOrg.id:null},isUnconfirmedOrganizationSelected:function(){return!!this.unconfirmedSelectedOrg}},methods:{pagePersistAndGotoLogin:function(){if(this.$route.meta.shouldPagePersistAfterIdleTime){var e=rt.a.encode(window.location.href);this.$router.push({name:"Login",query:{goto:e}})}else this.$router.push({name:"Login"})},onToggle:function(){this.toggled=!this.toggled},prependAlertIcon:function(e){return"success"===e?"mdi-check":"error"===e?"mdi-close":""},getAlertIconColour:function(e){return"success"===e?"secondary":"error"===e?"error":""},unconfirmedOrgSelected:function(e){this.unconfirmedSelectedOrg=e},cancelGlobalOrgSelect:function(){this.unconfirmedSelectedOrg=null,this.$store.commit("globalContext/setShowSwitchOrgModal",!1)},confirmSelection:function(){var e=this;return o()(l.a.mark((function t(){var a,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=e.getRequestService({baseURL:ni}),t.next=4,a.post(e.changeTenantIdEndpoint,{orgId:e.unconfirmedSelectedOrgId});case 4:200===t.sent.status&&(s=e.unconfirmedSelectedOrg,!0===e.$store.getters["globalContext/globalUnsavedChanges"]&&e.$store.commit("userOnboarding/resetOnBoarding"),e.$store.commit("globalContext/changeGlobalOrg",e.globalOrgMapper(s)),e.$store.commit("globalContext/setGlobalUnsavedChanges",!1),e.cancelGlobalOrgSelect(),e.switchOrg?e.displayNotification("success",e.$i18n.t("pages.app.orgSwitchSuccess"),e.isTest()?500:4e3,"GlobalContextMessages"):(e.displayNotification("success",e.$i18n.t("pages.app.orgSelectSuccess"),e.isTest()?500:4e3,"GlobalSelectOrgMessages"),e.switchOrg=!0)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),e.showOrgSwitchError=!0;case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()}},filters:{capitalize:function(e){return u.a.capitalize(e)}},watch:{$route:function(e){if(c.a.startView(e.name||e.hash),!this.globalOrg&&!this.fetchingGlobalOrg&&"NotFound"!==e.name&&this.$root.userStore.getProfileAction()&&(this.$root.userStore.getPccAdmin()||this.$root.userStore.getPccImplementer())){if(Ma.a.isPreLoginRoute(e)&&!this.$route.meta.showSwitchOrgModal)return;this.$store.commit("globalContext/setShowSwitchOrgModal",!0)}}},mounted:function(){c.a.startView("App"),Ma.a.isInIFrame()&&Ma.a.postMessageToParent("iam-loaded")}};var oi=function(e){a("TorS")},ii=Object(lt.a)(ri,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-app",{class:{test:e.isTestEnv}},[e.maintenanceMode?s("v-content",[s("SystemMaintenance")],1):s("v-content",[s("div",[s("AppBar"),e._v(" "),s("a",{attrs:{href:e.honeyLink}}),e._v(" "),s("a",{attrs:{href:e.honeyLink}},[s("img",{attrs:{src:a("1Sg+"),alt:"PointClickCare Logo",height:"1",width:"1",border:"0"}})]),e._v(" "),s("a",{staticStyle:{display:"none"},attrs:{href:e.honeyLink}}),e._v(" "),s("div",{staticStyle:{display:"none"}},[s("a",{attrs:{href:e.honeyLink}},[e._v("illfated-hurt")])]),e._v(" "),s("a",{attrs:{href:e.honeyLink}},[s("div",{staticStyle:{height:"0px",width:"0px"}})]),e._v(" "),s("a",{staticStyle:{display:"none"},attrs:{href:e.honeyLink,rel:"nofollow","aria-hidden":"true"}},[e._v("User credentials")]),e._v(" "),s("NavDrawer")],1),e._v(" "),s("v-dialog",{attrs:{"content-class":"switch-org-modal-content","data-test":"global-org-creation-modal",persistent:""},model:{value:e.showCreateOrg,callback:function(t){e.showCreateOrg=t},expression:"showCreateOrg"}},[s("create-organization",{attrs:{"data-test":"globalOrgCreatorModal"}})],1),e._v(" "),s("v-dialog",{attrs:{"content-class":"switch-org-modal-content",persistent:"",scrollable:""},model:{value:e.showSwitchOrg,callback:function(t){e.showSwitchOrg=t},expression:"showSwitchOrg"}},[s("v-card",{staticClass:"switch-org-modal-card",attrs:{"data-test":"globalOrgSelectorModal"}},[s("v-card-title",{staticClass:"pb-0"},[s("evergreen-span",{attrs:{type:"h5-medium",label:e.$t("pages.app.selectOrg")}})],1),e._v(" "),s("v-card-text",{staticClass:"pb-0"},[e.showSwitchOrg?s("select-organization",{directives:[{name:"show",rawName:"v-show",value:!e.showOrgSwitchError,expression:"!showOrgSwitchError"}],attrs:{searchDataTestString:"selectOrganizationSearch"},on:{selectedOrgChange:e.unconfirmedOrgSelected}}):e._e(),e._v(" "),e.showOrgSwitchError||e.showOrgSwitchError&&!e.showSwitchOrg?s("v-row",{staticClass:"switch-org-error-row"},[s("v-icon",{staticClass:"switch-org-error-icon",attrs:{color:"error"}},[e._v("mdi-alert-circle")]),e._v(" "),s("evergreen-span",{staticClass:"switch-org-error-text",attrs:{"data-test":"globalOrgErrorDescription",type:"subtitle-1",label:e.$t("pages.app.selectGlobalOrgServerError")}}),e._v(" "),s("evergreen-text-button",{attrs:{"data-test":"globalOrgErrorButton",label:e.$t("pages.onBoardingUser.retry")},nativeOn:{click:function(t){e.showOrgSwitchError=!1}}})],1):e._e()],1),e._v(" "),s("v-card-actions",[s("v-row",{staticClass:"switch-org-button-row"},[s("v-spacer"),e._v(" "),null!==e.globalOrg?s("evergreen-outlined-button",{staticClass:"mr-6",attrs:{label:e.$t("common.form.cancel"),"data-test":"globalOrgSelectorCancel"},nativeOn:{click:function(t){return e.cancelGlobalOrgSelect()}}}):e._e(),e._v(" "),e.showOrgSwitchError?e._e():s("evergreen-contained-button",{attrs:{label:e.$t("common.form.select"),disabled:!e.isUnconfirmedOrganizationSelected,"data-test":"globalOrgSelectorSelect"},nativeOn:{click:function(t){return e.confirmSelection()}}})],1)],1)],1)],1),e._v(" "),s("SessionTimeoutModal"),e._v(" "),s("notifications",{staticClass:"notification-popup",attrs:{group:"IAMMessages",position:"bottom center",width:"auto",duration:4e3,"data-test":"sideNotification"},scopedSlots:e._u([{key:"body",fn:function(t){return[s("div",[s("v-alert",{attrs:{border:"left","colored-border":"",color:e.getAlertIconColour(t.item.type),dark:"",icon:e.prependAlertIcon(t.item.type),dense:"",elevation:"2"}},[e._v(e._s(t.item.text))])],1)]}}],null,!1,791797425)}),e._v(" "),s("notifications",{staticClass:"org-select-success-msg",attrs:{group:"GlobalSelectOrgMessages",position:"top right",width:"auto",duration:4e3,"data-test":"orgSelectSuccessMessage"},scopedSlots:e._u([{key:"body",fn:function(t){return[s("div",[s("v-alert",{attrs:{border:"left","colored-border":"",color:e.getAlertIconColour(t.item.type),dark:"",dense:"",elevation:"2"}},[e._v(e._s(t.item.text))])],1)]}}],null,!1,3479699827)}),e._v(" "),s("notifications",{staticClass:"org-switch-success-msg",attrs:{group:"GlobalContextMessages",position:"top right",width:"auto",duration:4e3,"data-test":"orgSwitchSuccessMessage"},scopedSlots:e._u([{key:"body",fn:function(t){return[s("div",[s("v-alert",{attrs:{border:"left","colored-border":"",color:e.getAlertIconColour(t.item.type),dark:"",dense:"",elevation:"2"}},[e._v(e._s(t.item.text))])],1)]}}],null,!1,3479699827)}),e._v(" "),s("form",{attrs:{id:"logout-form",action:"/logout",method:"post"}})],1)],1)}),[],!1,oi,null,null).exports,li=a("0hNh"),ci=["https://accounts-qa.pcc-labs.com","https://accounts.pointclickcare.com"],di="accounts-qa.pcc-labs.com"===window.location.hostname?"qa":"production";b.default.config.productionTip=!1,b.default.config.errorHandler=function(e,t,a){0},window.onerror=function(e,t,a,s,n){return!0},S.a.polyfill(),b.default.use(y.MdEmptyState),b.default.use(y.MdIcon),b.default.use(A.a),b.default.use(U.a),b.default.use(h.a);var ui={eventEmitter:new b.default,idleTime:j.a.getIdleTimeout()};b.default.use(N.a,ui),b.default.use(M.a),P.a.init({lng:"en",locale:"en",fallbackLocale:"en",silentTranslationWarn:!0,resources:{en:{translation:{common:{form:{submit:"Submit",ok:"Ok",agree:"I Agree",logo:"logo",signUp:"Sign Up",cancel:"Cancel",next:"Next",finish:"Finish",saveChanges:"Save changes",edit:"Edit",search:"Search",save:"Save",remove:"Remove",confirm:"Confirm",close:"Close",less:"Less",okay:"Okay",new:"New",yes:"Yes",no:"No",delete:"Delete",deleteConfirmTitle:"Confirm Deletion",add:"Add",upload:"Upload",download:"Download",unassign:"Unassign",apply:"Apply",select:"Select",ignore:"Ignore",saved:"Saved"},placeholders:{password:"Password",confirmPassword:"Confirm password",retypePassword:"Retype Password",passwordHint:"Passwords must match",emailAddress:"Email address"},user:{profile:{updateSuccess:"Updated your profile."},sharing:{shareSuccess:"Shared your resource.",unshareSuccess:"Unshared your resource.",modifySuccess:"Modified resource permissions",requestAllowedSuccess:"Access granted",requestDeniedSuccess:"Access denied"}},policyValidationMessages:{VALID_PHONE_FORMAT:"Must be a valid phone number",VALID_NAME_FORMAT:"Must have valid name characters",CANNOT_CONTAIN_CHARACTERS:"Cannot contain characters: {{forbiddenChars}}",IS_NUMBER:"Must be a number greater than or equal to zero.",IS_NUMBER_GREATER_ZERO:"Must be a number greater than or equal to 1.",REQUIRED:"Cannot be blank",VALID_DATE:"Must be a valid date",VALID_TYPE:"Must be one of the following types: {{validTypes}}. Cannot be {{invalidType}}",MATCH_REGEXP:"Has to match pattern: {{regexp}}",PRIVILEGE_AT_LEAST_ONE_ATTRIBUTE_READONLY_FALSE:"Must set at least one attribute permission to Read/Write",PRIVILEGE_MUST_CONTAIN_CREATE_OR_UPDATE_PERMISSION:"Must have at least Create or Update Permission",MIN_LENGTH:"Must be {{minLength}} characters long",AT_LEAST_X_CAPITAL_LETTERS:"Must have at least {{numCaps}} capital letter(s)",AT_LEAST_X_NUMBERS:"Must have at least {{numNums}} number(s)",CANNOT_CONTAIN_OTHERS:"Must not share characters with {{disallowedFields}}",VALID_EMAIL_ADDRESS_FORMAT:"Invalid email format (example@example.com)",UNIQUE:"{{property}} must be unique",test:"succeed",minLowerCase:"Password must contain at least 1 lowercase character.",minUpperCase:"Password must contain at least 1 uppercase character.",minNumber:"Password must contain at least 1 number.",minSymbol:"Password must contain at least 1 symbol.",minLength:"Password must be at least {{param}} characters long.",excludeUserName:"Password cannot contain username.",excludeFirstName:"Password cannot contain first name.",excludeLastName:"Password cannot contain last name.",weakPassword:"Password is a weak/common password.",historyCount:"The previous {{param}} passwords cannot be reused.",policyServiceError:{registration:"Unable to register. Please try again later.",reset:"Unable to reset your password. Please try again later."},errorRetrievePswrdPolicy:"Cannot retrieve password policy."},messages:{discardChangesMessage:"Information entered will not be saved. Save before you leave the page.",sessionTimeoutTitle:"Session Timeout",sessionTimeoutMessage:"Your session timed out due to inactivity. Please sign in again."}},pages:{app:{profile:"Profile",dashboard:"Products",user:"User",currentUser:"Current user(s)",onboardingUser:"Create new user(s)",users:"Users",admin:"Admin",groups:"Roles",accessingEntity:"Organization",locations:"Locations",products:"Products",orgProfile:"Profile",orgSecurity:"Security",orgInternalFunctions:"Internal Functions",identityZone:"Authentication",appAssignment:"Application Assignments",switchOrg:"Switch organization",createNewOrg:"Create a new organization",selectOrg:"Select organization",selectOrgSearchDescription:"Search for organizations by name, address or organization code",selectGlobalOrgServerError:"Something went wrong.",orgSelectSuccess:"Organization has been selected.",orgSwitchSuccess:"Organization has been changed.",signOut:"Sign Out",notifications:{noNotifications:"No notifications available",title:"Notifications",clearAll:"Clear All",removedAll:"Removed all notifications",removed:"Removed notification",failedToRemove:"Failed to remove notification",failedToClear:"Failed to clear all notifications",appAssigned:"Application was assigned to accessing entity",selectAE:"Please select an accessing entity.",selectApp:"Please select an app."}},notFound:{couldNotFind:"We couldn't find the page you were looking for.",returnToDashboard:"Return to dashboard"},maintenance:{message:"The system is currently undergoing maintenance. We will be back shortly."},dashboard:{widgets:{welcome:{greeting:"Hello",editProfile:"Edit Your Profile"},apps:{title:"My Applications",noApps:"No Assigned Applications",emptyMessage:"No products have been assigned to you. Contact your administrator."}}},login:{username:"Username",password:"Password",signIn:"Sign in",logIn:"Login",nextStep:"Next",forgotPassword:"Forgot password?",privacyPolicy:"Privacy Policy",resetPassword:"Your current password has expired. Please set a new password.",oldPassword:"Current password",newPassword:"New password",confirmNewPassword:"Confirm new password",changePassword:"Change password",stepUpAuthorization:{purpose:{sign_order:{description:"Your PointClickCare session has ended. Please re-login to continue signing the order."},sign_orders:{description:"Your PointClickCare session has ended. Please re-login to continue signing the orders."},discontinue_order:{description:"Your PointClickCare session has ended. Please re-login to continue signing the discontinue order."}}}},logout:{errorLoggingOut:"Log out failed. You can try reloading the page. If the error persists, please try again in a few minutes."},pushAuthorization:{title:"Authenticate",description:"Open PointClickCare Authenticator app, and enter the number shown.",errorTitle:"Problem authenticating.",sendAnother:"Having trouble? Click Resend Notification.",register_authenticator:"If this is not your registered device, click Register Again to register this device.",register_authenticator_btnLabel:"Register Again",resend_notification:"Resend Notification",redirect_text:"Authentication successful",redirect_btn_text:"Return to app",purpose:{sign_order:{title:"Approve Sign Order",description:"Open PointClickCare Authenticator app, and enter the number shown.",loginErrorMessage:"There was an error signing. Contact your System Administrator to check your account. PointClickCare cannot reset passwords",errorTitle:"Problem with signing the order.",redirect_text:"Authentication successful",redirect_btn_text:"Return to sign"},sign_orders:{title:"Approve Sign Order",description:"Open PointClickCare Authenticator app, and enter the number shown.",loginErrorMessage:"There was an error signing. Contact your System Administrator to check your account. PointClickCare cannot reset passwords",errorTitle:"Problem with signing the orders.",redirect_text:"Authentication successful",redirect_btn_text:"Return to sign"},discontinue_order:{title:"Approve Sign Discontinue",description:"Open PointClickCare Authenticator app, and enter the number shown.",loginErrorMessage:"There was an error signing the discontinue order. Please make sure to enter your credentials correctly. If the issue persists, then please contact your System Administrator to check your account. PointClickCare cannot reset passwords",errorTitle:"Problem with signing the discontinue.",redirect_text:"Authentication successful",redirect_btn_text:"Return to discontinue"}}},faceIdAuthorization:{title:"Authenticate",description:"Open PointClickCare Authenticator app for facial scanning",errorTitle:"Problem authenticating.",sendAnother:"Having trouble? Click Resend Notification.",register_authenticator:"If this is not your registered device, click Register Again to register this device.",register_authenticator_btnLabel:"Register Again",resend_notification:"Resend Notification",redirect_text:"Authentication successful",redirect_btn_text:"Return to app",purpose:{sign_order:{title:"Approve Sign Order",description:"Open PointClickCare Authenticator app for facial scanning.",loginErrorMessage:"There was an error signing. Contact your System Administrator to check your account. PointClickCare cannot reset passwords",errorTitle:"Problem with signing the order.",redirect_text:"Authentication successful",redirect_btn_text:"Return to sign"},sign_orders:{title:"Approve Sign Order",description:"Open PointClickCare Authenticator app for facial scanning.",loginErrorMessage:"There was an error signing. Contact your System Administrator to check your account. PointClickCare cannot reset passwords",errorTitle:"Problem with signing the orders.",redirect_text:"Authentication successful",redirect_btn_text:"Return to sign"},discontinue_order:{title:"Approve Sign Discontinue",description:"Open PointClickCare Authenticator app for facial scanning.",loginErrorMessage:"There was an error signing the discontinue order. Please make sure to enter your credentials correctly. If the issue persists, then please contact your System Administrator to check your account. PointClickCare cannot reset passwords",errorTitle:"Problem with signing the discontinue.",redirect_text:"Authentication successful",redirect_btn_text:"Return to discontinue"}}},stepUpAuthorization:{password:"Password",title:"Authenticate",description:"",btnLabel:"Authenticate",loginErrorMessage:"There was an error authenticating. Contact your System Administrator to check your account. PointClickCare cannot reset passwords",notificationErrorMessage:"Authentication Failed",mfa_setup_info_1:"Setup multi-factor authentication (MFA) to perform this action.",purpose:{sign_order:{title:"Sign Order",description:"You are legally signing the order and authorizing the transmission to the pharmacy for dispensing.",loginErrorMessage:"There was an error signing. Contact your System Administrator to check your account. PointClickCare cannot reset passwords",btnLabel:"Sign",notificationErrorMessage:"Signing Failed",mfa_setup_info_1:"Setup multi-factor authentication (MFA) for signing order."},sign_orders:{title:"Sign Orders",description:"You are legally signing the orders and authorizing the transmission to the pharmacy for dispensing.",loginErrorMessage:"There was an error signing. Contact your System Administrator to check your account. PointClickCare cannot reset passwords",btnLabel:"Sign",notificationErrorMessage:"Signing Failed",mfa_setup_info_1:"Setup multi-factor authentication (MFA) for signing orders."},discontinue_order:{title:"Sign Discontinue",loginErrorMessage:"There was an error signing the discontinue order. Please make sure to enter your credentials correctly. If the issue persists, then please contact your System Administrator to check your account. PointClickCare cannot reset passwords",btnLabel:"Sign",notificationErrorMessage:"Signing discontinue Failed",mfa_setup_info_1:"Setup multi-factor authentication (MFA) for signing orders."}}},selfservice:{signIn:"Sign in",headers:{username:{title:"Recover Your Username",description:"You can recover your username with the email address associated with your account."},reset:{title:"Reset Password",description:"Verify You're Human",emailSent:"An email was sent to your inbox with instructions."}},registration:{signUp:"Sign Up",signIn:"Sign in",emailValidation:"An email has been sent to the address you entered. Click the link in that email to proceed.",completeRegistration:"Complete Registration"},passwordReset:{userQuery:"Enter email to reset password.",advanceStageButtonText:"Reset",tryAgain:"Try resetting your password again",errorMessage:"Error resetting your password",successMessage:"Your password has been reset.",newPassword:"New password",changePassword:"Change Password",kbaVerificationStageDescription:"Verify your identity by answering security questions"}},profile:{editPersonalInfo:"Edit personal info",settings:"Settings",about:"About",activity:"Activity",preferences:{title:"Preferences",subtitle:"Set your communications preferences."},editProfile:{userDetailsTitle:"Edit your personal info",failedProfileSave:"Failed to save profile changes",optional:"(optional)",noFields:"No profile fields available",adminPwdChangeMsg:"The password you set for the user is a temporary password. Users must change their password after the first login with the temporary password.",mfaAuthenticationReset:"MFA Authentication",mfaAuthenticationResetSub:"User will be required to setup MFA again",mfaAuthResetBtn:"RESET",mfaResetTitle:"Reset MFA Authentication",mfaResetInstructions:"Select the factor for user(s) to reset MFA.",mfaCancelBtn:"CANCEL",mfaResetSuccess:"MFA has been successfully reset.",accountVerification:"Account Verification",accountVerificationResendBtn:"EMAIL NEW LINK"},profileInformation:{id:"Id",title:"Profile Information",username:"Username",email:"Email",firstName:"First Name",lastName:"Last Name",telephoneNumber:"Telephone Number",mobileNumber:"Mobile Phone Number",phoneNumber:"Phone Number",pccAdmin:"PCC Admin",active:"Active",npi:"NPI",status:"Status"},accountSecurity:{title:"Account Security",invalidPassword:"Invalid password form",subtitle:"Update your telephone number, mobile phone number, or password to secure your account.",password:"Password",securityQuestions:"Security Questions",rememberPassword:"Can't remember your current password?",resetPassword:"Reset your password",savePassword:"Save password",custom:"Custom",currentPassword:"Current password",newPassword:"New password"}},onBoardingUser:{searchByKeywords:"For example General Hospital",onBoardingTitle:"Onboarding user",userCreateStep1:"Add user details",userCreateStep2:"Generate username",searchFilterDescription:"Search for organizations by name, address, or organization code",searchOrgTable:{organizationNameHeader:"Organization",organizationCodeHeader:"Org code",locationAddressHeader:"Location address"},userDetails:{firstNameLabel:"First name",lastNameLabel:"Last name",emailLabel:"Email",telephoneLabel:"Telephone Number",phoneLabel:"Phone Number",npiLabel:"NPI",minimumOneUserMessage:"User details must be added for at least one user to proceed with user setup.",addNewUserButton:"Add new user",removeUserButton:"Remove user",required:"* indicates a required field"},generateUsername:{usernameLabel:"Username",passwordLabel:"Password",pageDesc:"All new user are assigned a temporary password. Users will be required to change their temporary password when they login for the first time.",sendEmail:"Email username and password to all users"},noResult:"No results match your search",confirmCancelationTitle:"Are you sure?",confirmCancelationMessage:"Cancelling will result in loss of all the work done so far in this wizard.",errorMessage:"The server is temporarily unavailable.",orgDeletedMessage:"The organization you are trying to create users for has been deleted.",no:"No",yes:"Yes",retry:"Retry",cancel:"Cancel",close:"Close",userCreationErrorsMessage:"User creation errors",fixErrorsMessage:"Fix the error(s) below to finish creating users",csvDownloadDialogContent:'To save a CSV file containing the newly created user(s) with their usernames and passwords, click the "Download" button. Click the "Finish" button to complete the user setup',download:"Download and Finish",finish:"Finish",emailRequiredServerError:"Could not retrieve organization information. Try again later.",emailSuccess:"Setup complete for {{numUsers}} user(s). Username and link to activate account will be sent to the user(s) once a product has been assigned."},userManagement:{title:"Current users",searchByKeywords:"Search by keywords",newUser:"New User",addUserButtonText:"ADD USER",userCreateStep1:"Select an Accessing Entity",userCreateStep2:"Enter new user's email address",selectAll:"Select All",clearAll:"Clear All",deleteUser:"Delete User",successfulCreation:"Membership created",deleteUserMessage:"Are you sure you want to delete the selected users? This cannot be undone.",orgSwitchModalMessage:"Are you sure you want to switch organization? All the selected rows will be unselected.",selectedUsersTitle:"Selected user(s)",deleteIndividualUser:"Are you sure you want to delete this user? This cannot be undone",deleteAllMemberships:"Are you sure you want to delete all memberships? This cannot be undone",bulkDeleteUsersMessage:"Permanently deleting user {{firstName}} {{lastName}}? This cannot be reversed.",deletionError:"Error deleting user(s).",discardChangesMessage:"Are you sure you want to leave? Your unsaved changes will be discarded",userNotFoundError:"Error getting user",usersNotFoundError:"Error getting users.",form:{emailRequired:"Email address is required",usernameRequired:"Username is required",successfulSave:"User Saved Successfully",invalidRequest:"Local User Request not valid",errorSaving:"Fields are not valid."},editUser:"Edit User",editUserTabs:{userDetails:"User Details",security:"Security",products:"Products"}},access:{password:"Password",noFields:"No Fields Available",noRecords:"No Records Found",successCreate:"{resource} successfully created",typeSearch:"Type to Search",invalidCreate:"Invalid create form",deleteResource:"Successfully deleted user(s)",deleteConfirm:"Are you sure you want to delete this",deleteModalTitle:"Confirm Deletion",orgChangeModalTitle:"Confirm Action",unableToDeleteResource:"Unable to delete {resource}",noAvailableProperties:"No available properties for editing",unableToEditResource:"Unable to edit {resource}",invalidEdit:"Invalid edit form",successEdited:"{resource} successfully edited",details:"Details",resetPassword:"Reset password",failedSavePassword:"Failed to save password",successSavePassword:"Successfully saved password",appAssignment:{addApp:"  Assign Products",removeApps:"  Unassign Selected Products",noApps:"No Assigned Applications"},groupAssignment:{addGroup:"  Add Role",removeGroups:"  Remove Selected Roles",noGroups:"No Assigned Roles",groupAssignments:"Role Assignments",unassignGroupsTitle:"Unassign Roles",unassignGroupsMessage:"Are you sure you want to unassign the selected roles?"},membershipAssignment:{removeMemberships:"Remove Selected Memberships"},applicationAssignment:{addApplication:"Assign Product"}},groups:{groups:"Roles",groupsListDescription:"List of user roles. Select role to view and manage users",usersListInGroupDescription:"Current user list for {{roleDisplayName}}",loadingText:"Loading... Please wait",groupsNotFoundError:"Error getting roles.",usersInGroupNotFoundError:"Error getting users for this role.",addUsersToGroup:"ADD USERS TO ROLE",addUserGroupsDescription:"Add new users to {{ roleDisplayName }} role",searchByKeywords:"Search by keywords",addUserGroups:"Add user roles",assignUserToGroup:"ADD USER TO ROLE",noUsersAvailable:"No users available",groupName:" {{ groupName }} ",assignmentSuccess:"User(s) assigned successfully",assignmentError:"Error assigning user(s)",removeUserBtnText:"Remove User",removeUsersFromGroupTitleText:"Remove user(s) from role",removeUsersFromGroupBodyText:"Confirm to remove {{ numberOfSelectedUsers }} user from the {{ groupName }} role.",removeUserError:"Error removing user(s)",removeUserSuccess:"User(s) removed from the role successfully",breadcrumbGroupsText:"Roles",userList:"User List",newUserList:"New Users"},identityzone:{title:"Identity Zones",new:"New Identity Zone",modify:"Modify",passwordPolicy:"Password Policy",identityZonesList:"Identity Zones List",form:{name:"Name",description:"Description",type:"Type",active:"Active",save:"Save",new:"New Identity Zone",clear:"Clear",yes:"Yes",no:"No",deleteConfirmTitle:"Confirm Deletion",deleteConfirmMessage:"Are you sure you want to permanently remove this identity zone?",editDomains:"Edit domains",notApplicable:"Not applicable for this type of identity-zone",noRecords:"No domains available",jit:"Just in Time (JIT)",domain:"Domain",enterSomething:"This field is required",typeSamlNotConfigured:"The idp is not configured",typeLocalNotConfigured:"Password policy not configured",action:"Action",searchByNameDesc:"Search by name and description"},configureSaml:{configureSamlTitle:"Configure SAML",metadataFile:"Choose metadata file",uploadSuccess:"Successfully uploaded metadata",deleteSuccess:"Successfully deleted metadata",samlConfigured:"SAML metadata configured",downloadSuccess:"Successfully downloaded metadata",deleteConfirmMessage:"Are you sure you want to permanently remove SAML configuration for this Identity Zone?",spDetails:"PointClickCare Service Provider details",spMetadata:"Service Provider Metadata"},passwordPolicyTab:{warningResetTitle:"Are you sure you want to reset the policy?",warningResetText:"The current policy will be removed",passwordSettingsHeader:"Password Settings",policyNameField:"Name",policyLengthField:"Minimum Length",attemptsField:"Lock user after unsuccessful attempts",accountRecoveryHeader:"Account Recovery",resetTimeField:"Account recovery emails expire after",saveButtonLabel:"Save",resetButtonLabel:"Reset To Default",cancelButtonLabel:"Revert Changes",pswrdExpiryField:"Password expires after"}},organizations:{profile:{title:"Organization profile",subtitle:"Organization details",name:"Organization Name",orgCode:"Organization Code",environment:"Environment",id:"Id",status:"Active",emailRequired:"E-mail required for all users",deleteConfirmMessage:"Are you sure you want to permanently remove this organization?",profile:"Profile",enable:"Enable",inactiveAccountPolicy:"Inactive account policy",userMaxExpiryInDays:"Expiry Time In Days",lockInactiveAccounts:"Lock inactive accounts after "},security:{passwordPolicy:{title:"Password Policy",header:"Password/Account Policy",MinimumPasswordLength:"Minimum Password Length",PasswordHistory:"Password history",LockAfterUnsuccessfulPasswordAttempts:"Lock after unsuccessful password attempts",DaysUntilPasswordExpires:"Days until password expires",EmailRadio:"Account recovery with email",EmailAndPvqRadio:"Account recovery with email and PVQ",PasswordRules:"Password rules:",lowerCaseField:"Must contain at least one lowercase letter",upperCaseField:"Must contain at least one uppercase letter",numberField:"Must contain at least one number",symbolField:"Must contain at least one symbol",usernameField:"Must not contain part of username",firstNameField:"Must not contain part of first name",lastNameField:"Must not contain part of last name",historyField:"Password History",inactiveAccountPolicy:"Inactive account policy",accountRecovery:"Account Recovery",passwordExpiration:"Password Expiration",days:"days",minutes:"minutes"},ssoSetup:{title:"SSO Setup",header:"Single Sign-on Setup",samlSetup:"Security Assertion Markup Language (SAML) Setup",idpFileHeader:"Identity Provider (IDP) Details",activeSwitch:"Activate SAML",updateFileButton:"Upload Metadata",updateFileButtonTooltip:"Upload Metadata",idpUrl:"Identity Provider URL",idpIssuer:"Identity Provider Issuer",idpCertificate:"Identity Provider Certificate",idpNotValid:"Enter valid IDP metadata.",spMetadataHeader:"Service Provider (SP)",spMetadataButton:"Download Service Provider (SP) Metadata",spMetadataDownloadSuccess:"Successfully downloaded SP metadata",spMetadataButtonTooltip:"Download SP Metadata",jitHeader:"Just in Time Provisioning",domainsHeader:"Domains",addDomainTextField:"Domain",addDomainTextFieldPlaceHolder:"yourdomain.com",addDomainTextFieldHint:"Add up to 5 domains",addDomainButton:"ADD DOMAIN",deleteDomainButtonTooltip:"Delete Domain",domainTableHeader:"Domain Name"}},create:{title:"Create a new organization",subtitle:"Complete the details below to create a new organization.",emailToolTip:"E-mail is mandatory for all users in this organization. This setting cannot be changed later."},internalFunctions:{title:"Internal Functions",subtitle:"Internal Functions",dataComparisonTitle:"User Data Comparison",dataComparisonDescription:"Start a data comparison job for users between IAM and Core",dataComparisonTriggerButton:"Start",comparisonSuccessMsg:"Comparison job started"},orgProfileBreadcrumb:"Organization",editOrganization:"Edit Organization"},accessingEntity:{title:"Accessing Entities",listBreadcrumb:"Accessing Entities List",filterBy:"Filter By:",pagingMetadata:"Page {{currentPage}} of {{rows}} results",allTypes:"All Types",organization:"ORGANIZATION",location:"LOCATION",allEnvironments:"All Environments",development:"DEVELOPMENT",production:"PRODUCTION",non_production:"NON-PRODUCTION",allScopes:"All Scopes",internal:"INTERNAL",external:"EXTERNAL",modify:"Modify",all:"All Accessing Entities",new:"New Accessing Entity",applications:"Applications",form:{unassignAppsTitle:"Unassign Applications",unassignAppsMessage:"Are you sure you want to unassign the selected applications?",deleteConfirmMessage:"Are you sure you want to permanently remove this accessing entity?",unassignConfirmMessage:"Are you sure you want to permanently un-assign identity zone: {idzname} with  short code: {shortCode} from this accessing entity?",unassignConfirmTitle:"Confirm Unassignment",name:"Name",orgCode:"Organization Code",organizationId:"Organization Id",scope:"Scope",environment:"Environment",accessingEntityType:"AccessingEntityType",locationType:"Location Type",status:"Active",parentEntity:"Parent Entity",addressLine1:"Address Line 1",addressLine2:"Address Line 2",city:"City",province:"Province",postalCode:"Postal Code",cmsNumber:"CMS Certification Number",addApplicationTitle:"Add Application",addApplicationMsg:"Please select an application to add",emailRequired:"E-mail required for all users",emailToolTip:"E-mail is mandatory for all users in this organization. This setting cannot be changed later."},identityZoneTab:{idzDropdownLabel:"Identity Zone",selectIdzText:"Assign an Identity Zone",assignSuccess:"Identity Zone assigned successfully",deleteSuccess:"Identity Zone removed successfully",shortcodeLabel:"Accessing Entity Shortcode",notFound:"Accessing entity not found",orgCodeNotAssigned:"Organization is missing org code",shortCodeDoesNotMatchOrgCode:"Short code does not match org code",removeAssignmentFirst:"Remove identity-zone assignment first"},selectAE:"Please select Accessing Entity first."},userProductAssignment:{userProductAssignmentStep1:"Select product",userProductAssignmentStep2:"Assign locations",confirmCancelationTitle:"Are you sure?",confirmCancelationMessage:"Cancelling will result in loss of all the work done so far.",genericLocationError:"Something went wrong"},userProductSelection:{userProductSelectionTitle:"Select product",noProductsDescription:"No products have been activated for your organization. Contact your administrator.",userProductSelectionDescription:"Select product for all users"},userLocationSelection:{userLocationSelectionTitle:"Assign locations",userLocationSelectionDescription:"Product will be assigned to users at the locations selected below",userLocationSelectionLabel:"Select location {{index}}",addNewLocation:"Add new location",applyOthersDescription:"Apply locations to other users.",noMoreLocations:"(No more locations available to add)",noLocationsInOrg:"There are no locations assigned to this organization.",locationFieldRequired:"* Required",productAssignmentSuccess:"Product {{appName}} has been assigned to {{usersLength}} user(s) at specified location(s)"},accountVerification:{tokenVerification:"Verify account",email:"Type email",password:"Create password",confirmPassword:"Confirm password",verifyAccount:"Verify Account",tokenSent:"Link emailed",tokenExpireEnterInformation:"This link has expired.",tokenSentInformation:"New account verification link has been emailed.",sendTokenAgain:"Email new link",congratulations:"Congratulations!",accountVerifiedInformation:"Your account has been verified and you can sign in now."},locations:{title:"Locations",loadingText:"Loading... Please wait",addNewLocation:"Add new location",searchByKeywords:"Search by keywords",locationNameHeader:"Location Name",locationTypeHeader:"Location Type",addressHeader:"Address",editLocationDetails:"Edit location details",newLocationDetails:"New Location details",name:"Name",organizationId:"Organization Id",addressLine1:"Address line 1",addressLine2:"Address line 2",city:"City",postalCode:"Postal code",state:"State",type:"Location type",country:"Country",active:"Active",cancel:"Cancel",save:"Save",locationCreated:"Location created",locationUpdated:"Location updated",deleteConfirmTitle:"Confirm Deletion",deleteConfirmMessage:"Are you sure you want to permanently remove this location?",yes:"Yes",no:"No",delete:"Delete",editLocation:"Edit location",newLocation:"New Location",notAllowed:"Cannot create locations in an internally scoped organization",addUser:"ADD USER",locationDetails:"Location Details",locationDetailsTabName:"LOCATION DETAILS",usersTabName:"USERS",removeUsersFromLocation:"Remove users from location",removeUsersFromLocationConfirmText:"Confirm to remove {{ numberOfSelectedUsers }} user from the location.",removeUserError:"Error removing users from location",removeUserSuccess:"Users removed from the location successfully",addUserError:"Error adding users from location",addUserSuccess:"Users added to the location successfully",usersInLocationNotFoundError:"Error getting the users for the location.",addRemoveUserLocationDescription:"Add users or select 1 or more users to remove from {{ locationName }}.",addUserLocationDescription:"Select 1 or more users to add to {{ locationName }}.",addNpiTextField:"NPI",addNpiTextFieldPlaceHolder:"1234567890",addNpiTextFieldHint:"Add up to 5 npis",addNpiButton:"ADD NPI",deleteNpiButtonTooltip:"Delete NPI",onlyNumbersHint:"Please enter only numbers"},products:{mainTitle:"Products",products:"Products",selectProductToEnableLocation:"Select product to enable locations.",locationAccess:"Location access.",allLocations:"All Locations",newLocationsAutomaticallyHaveAccess:"New locations automatically have access.",selectLocations:"Select Locations",addProduct:"Add Product",addProductsOrManageExisting:"Add products or manage existing products.",manageLocations:"Manage Locations",settings:"Settings",save:"Save",enable:"Enable",disable:"Disable",next:"Next",cancel:"Cancel",disableProduct:"Disable Product",enableOrDisableLocation:"Enable or disable 1 or more locations.",search:"Search",locationName:"Location name",address:"Address",status:"Status",noDataAvailable:"No data available",enabled:"Enabled",disabled:"Disabled",disableDialogTitle:"Disable Product",disableDialogMessage:"{{productName}} will be disabled for all locations",disableDialogMessageSelected:"{{productName}} will be disabled for the selected locations",productEnabledNotificationAll:"{{productName}} enabled for all locations",productEnabledNotificationSelected:"{{productName}} enabled for selected locations",productDisableNotificationAll:"{{productName}} disabled for all locations",productDisableNotificationSelected:"{{productName}} disabled for the selected locations",confirmCancelTitle:"Exiting location settings",confirmCancelMessage:"Changes will not be saved.",selectedLocations:"Selected locations",saveEnabledLocations:"Enable {{enableLocationCount}} locations",saveDisabledLocations:"Disable {{disableLocationCount}} locations",saveSuccessMessage:"Changes to {{productName}} saved successfully."},mfaSetup:{back:"BACK",next:"NEXT",cancel:"CANCEL",discard:"DISCARD",verify:"VERIFY",continueSetup:"CONTINUE SETUP",confirmCancellationTitle:"Discard MFA setup",confirmCancellationMessage:"Multi-factor authentication (MFA) setup is not complete and will not be saved.",mfaSetupInfo:{title:"Multi-factor authentication (MFA) setup",info_1:"Your organization requires you to enter a multi-factor authentication (MFA) code when logging into PointClickCare.",info_2:"To retrieve authentication codes on your mobile devices, install the latest version of an authentication app. For example:",authnApp_1:"Microsoft Authenticator",authnApp_2:"Google Authenticator",authnApp_3:"Authy",authnApp_4:"Duo Mobile"},step1:{stepTitle:"Install",title:"Install an authentication app",subtitle_1:"Google Android",body_1:"On your mobile device, open Google Play and install an authentication app.",subtitle_2:"Apple iOS",body_2:"On your mobile device, open the App Store and install an authentication app."},step2:{stepTitle:"Add account",title:"Add your PointClickCare account",instructions:"Open the authentication app and scan the QR code.",manualCodeEntryInstructions:"If you are unable to scan, enter this code on your device:"},step3:{stepTitle:"Confirm",title:"Verify authentication",instructions:"Enter the code generated by the authenticator.",errorCode:"Incorrect verification code. Please try again.",contact:"Contact your System Administrator if you cannot access your authenticator app."}},mfa:{title:"MFA Policy",mfaAuthentication:"Multi-Factor Authentication",saveButtonLabel:"Save",mfaStatusOptions:{enabledForITAdminsOnly:"Activate for IT System Administrators only",enabledForITAdminsAndRemoteUsers:"Activate for IT System Administrators and Remote Users with selected standard roles",enabledForAllUsers:"Activate for IT System Administrators and Users with selected standard roles"},mfaRoles:"Standard Roles",accept:"Accept",decline:"Decline",termsAcceptedBy:"Terms accepted by: ",termsAcceptedAt:"Terms accepted: ",closeWindow:"Close",itAdminRole:"it-systems-administrator",selectAll:"Select All",lastModifiedBy:"Last modified by: ",lastModifiedAt:"Last modified: ",mfaFrequency:"Multi-Factor Authentication Frequency",mfaFrequencyLabel:"Hours",mfaFrequencyOptions:{everyLogin:"On Every Login",customFrequency:"Custom Frequency"},mfaCustomFrequencyToolTip:{title:"Select to specify the number of hours before users must authenticate again.\n\nWithin the number of hours specified, remote users\n",info_1:"are still required to authenticate if they clear cookies or change browsers.",info_2:"are not required to authenticate if they continue using the same browser and change locations."},noRoleAssigned:{value:"no-role-assigned",displayName:"Users Without Roles Assigned"},mfaFrequencyHint:"Maximum 24 Hours",mfaIpCheck:"Challenge MFA from an Authorized IP Mask"}}}}}});var pi,mi=new M.a(P.a);function gi(e){return!("resource"!==e.type||"fetch"!==e.resource.type&&"xhr"!==e.resource.type||!["/api/session","/api/users/me"].some((function(t){return e.resource.url.includes(t)}))||401!==e.resource.status_code)}b.default.use(g.a),b.default.use(R,{inject:!1,fastExit:!1}),b.default.use(v.a),b.default.use(x.a),b.default.mixin({methods:{getRequestService:function(e){var t=this,a="",s=1e4,n={"content-type":"application/json","cache-control":"no-cache","x-requested-with":"XMLHttpRequest"};e&&(e.baseURL&&(a=e.baseURL),e.timeout&&(s=e.timeout),e.headers&&!u.a.isEmpty(e.headers)&&(n=e.headers)),n=u.a.extend(n,this.$root.applicationStore.state.authHeaders||{});var r=m.a.create({baseURL:a,timeout:s,headers:n});return r.interceptors.response.use((function(e){return e}),function(){var e=o()(l.a.mark((function e(a){var s,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a||!a.response||401!==a.response.status&&403!==a.response.status||a.response.data){e.next=9;break}if((s=a.config)&&!(((null==s?void 0:s.retryOnXSRF)||0)>=2)){e.next=4;break}return e.abrupt("return",Promise.reject(a));case 4:return s.retryOnXSRF=(s.retryOnXSRF||0)+1,n=new Promise((function(e){setTimeout((function(){e({})}),s.retryDelay||500)})),e.next=8,n;case 8:return e.abrupt("return",r(s));case 9:if(!a.response||!a.response.data||401!==a.response.data.code){e.next=13;break}return"Login"!==t.$route.name&&et.setLoginRedirect({name:t.$route.name,params:t.$route.params}),t.$router.push({name:"Login"}),e.abrupt("return",Promise.reject(a));case 13:if(!u.a.isUndefined(a.response)){e.next=15;break}return e.abrupt("return",Promise.reject(new Error(a.message)));case 15:return e.abrupt("return",Promise.reject(a));case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),r},displayNotification:function(e,t,a,s){this.$notify({group:s||"IAMMessages",type:e,text:t,duration:a||4e3})},logoutUser:function(e,t){var a="/api/logout";e&&(a+="?goto=".concat(e),t&&(a+="&clientId=".concat(t)));var s=document.getElementById("logout-form");s.action=a,s.submit()},updateAppsListInUserStore:function(e){this.$root.userStore.updateAppsListInUserStore(e)},displayApplications:function(e){this.$root.userStore.displayApplications(e)},getErrorMessage:function(e,t){return e&&e.length>0&&t?e.reduce((function(e,t){return e&&e[t]?e[t]:null}),t):null},isTest:function(){return void 0!==window.Cypress&&null!==window.Cypress},isMaintenanceMode:function(){localStorage.getItem("maintenance");return!1},isFeatureOn:function(e){return!!this.$store.get("featureFlags/featureFlags")&&!0===this.$store.get("featureFlags/featureFlags")[e]}}}),(pi=o()(l.a.mark((function e(){var t,a,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=j.a.getFacadeConfig("production"),a={"content-type":"application/json","cache-control":"no-cache","x-requested-with":"XMLHttpRequest"},a=u.a.extend(a,et.state.authHeaders||{}),s=m.a.create({baseURL:t,timeout:15e3,headers:a}),di&&"development"!==di&&(c.a.init({applicationId:"72339bc4-23b8-448e-876f-be3ae686cc27",clientToken:"pubb8935fda89cd5073288f981cc35770dc",site:"datadoghq.com",service:"iam-authn-enduser-ui",env:di,sessionSampleRate:2,sessionReplaySampleRate:1,trackUserInteractions:!0,trackViewsManually:!0,trackResources:!0,trackLongTasks:!0,allowedTracingUrls:ci,beforeSend:function(e){return!gi(e)}}),c.a.startSessionReplayRecording(),c.a.startView("/")),e.next=8,s.get("ui/config").then((function(e){tt.a.setRedirectDomains(e.data.redirectDomainsUi),tt.a.setEnvironment(e.data.environment)})).catch((function(e){}));case 8:return e.next=10,s.get("users/me").then(function(){var e=o()(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ke.a.updateAppsListInUserStore(t),e.next=3,at.a.methods.setGlobalContextAndProducts(t,!0);case 3:return a=e.sent,e.next=6,st.a.methods.storeUserAccessPrivileges(s);case 6:a&&(li.a.commit("globalContext/changeGlobalOrg",a),Ke.a.displayApplications()),t.data.tenantId&&Ke.a.setTenantId(t.data.tenantId),Ke.a.setProfileAction({userName:t.data.username,givenName:t.data.firstName,sn:t.data.lastName,mail:t.data.email,mobilePhoneNumber:t.data.mobilePhoneNumber,telephoneNumber:t.data.telephoneNumber,federated:t.data.federated}),Ke.a.setUserIdAction(t.data.userId),Ke.a.setAdminAction(t.data.pccAdmin),Ke.a.setImplementerAction(t.data.pccImplementer),Ia.a.initPendo(t.data.username,t.data.userId);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){}));case 10:new b.default({vuetify:Je,router:Do,i18n:mi,data:{userStore:Ke.a,applicationStore:et,uiUtils:tt.a},store:li.a,render:function(e){return e(ii)}}).$mount("#app");case 11:case"end":return e.stop()}}),e)}))),function(){return pi.apply(this,arguments)})()},"WJZ/":function(e,t,a){},WkTL:function(e,t,a){"use strict";var s=a("J4zp"),n=a.n(s),r=a("vDqi"),o=a.n(r),i=a("4qL4"),l=a("0hNh"),c=Object(i.getFacadeConfig)("production"),d=o.a.create({baseURL:c,timeout:3e5});d.interceptors.response.use((function(e){return e}),(function(e){return function(e){if(e.status&&401===e.status||e.response.status&&401===e.response.status){var t=window.location.hash.substring(1);if(a=t,!["/login","/authorize","/mfa/setup","/mfa/verify","/logout","/passwordreset","/account-verification","/register-authenticator"].some((function(e){return a.includes(e)})))return l.a.commit("globalContext/setShowSessionTimeoutModal",!0),Promise.reject(e)}var a;return Promise.reject(e)}(e)})),t.a={logout:function(){return d.post("/logout")},getBrandedLoginByProductName:function(e){return d.get("/productBranding?appName=".concat(e))},getBrandedLoginByAppId:function(e){return d.get("/productBranding?applicationId=".concat(e))},postUserNameUnique:function(e){return d.post("/users/username-available",e)},postEmailUnique:function(e){return d.post("/users/email-available",e)},getOrganizationProducts:function(e){return d.get("/organizations/".concat(e,"/products"))},getAllProducts:function(){return d.get("/products")},patchProductLocations:function(e){return d.patch("/organizations/product-locations",e)},getOrganization:function(e){return d.get("/organizations/".concat(e))},postOrganization:function(e){return d.post("/organizations/",e)},getLocationsByOrgId:function(e,t){var a="";return t&&(a=this.generateQueryString(t)),d.get("/organizations/".concat(e,"/locations").concat(t?"?".concat(a):""))},getLocationById:function(e){return d.get("/locations/".concat(e))},postLocation:function(e){return d.post("/locations",e)},updateLocationById:function(e,t){return d.put("/locations/".concat(e),t)},deleteLocationById:function(e){return d.delete("/locations/".concat(e))},deleteUsers:function(e){return d.delete("/local-users",e)},getOrganizationUsers:function(e,t,a,s){var n="";return s&&(n="&query=".concat(s)),d.get("/local-users/search?aeid=".concat(e,"&page=").concat(t,"&pageSize=").concat(a).concat(n))},getOrganizationGroups:function(e){return d.get("/roles?organizationId=".concat(e))},getAllGroups:function(){return d.get("/roles")},updateOrganization:function(e,t){return d.patch("/organizations/".concat(e),t)},getMfaConfiguration:function(e){return d.get("/organizations/".concat(e,"/mfa-configuration"))},updateMfa:function(e){return d.patch("/organizations/mfa/configure",e)},getUsers:function(e){var t=e.organizationId,a=e.includeRoleName,s=e.excludeRoleName,n=e.query,r=e.page,o=e.perPage,i=e.includeLocation,l=e.excludeLocation,c=e.sort;return d.get("/users?organizationId=".concat(t,"&includeRoleName=").concat(a||"","&excludeRoleName=").concat(s||"","&includeLocation=").concat(i||"","&excludeLocation=").concat(l||"","&sort=").concat(c||"","&query=").concat(n,"&page=").concat(r,"&pageSize=").concat(o))},getUsersMe:function(){return d.get("/users/me")},assignRoleToUser:function(e){return d.post("/user-roles",e)},unassignRoleToUser:function(e){return d.delete("/user-roles",{data:e})},enableProduct:function(e,t,a){var s={productName:t,isOrganizationWide:a};return d.post("/organizations/".concat(e,"/product:enable"),s)},disableProduct:function(e,t){var a={productName:t};return d.post("/organizations/".concat(e,"/product:disable"),a)},removeUserFromLocation:function(e){return d.delete("/user-locations",{data:e})},addUserToLocation:function(e){return d.post("/user-locations",e)},updateUser:function(e,t){return d.put("/users/".concat(e),t)},createBulkUsers:function(e){return d.post("/local-users/bulk",e)},findUsers:function(e){return d.post("/users/find-all",e)},deleteOrganizations:function(e){return d.delete("/organizations/".concat(e))},triggerComparisonJob:function(e){return d.post("/comparison-job",e)},enrolUserForMfa:function(e){return d.post("/users/mfa/enrol",e)},activateUserForMfa:function(e){return d.post("/users/mfa/activate",e)},verifyUserMfa:function(e){return d.post("/users/mfa/verify",e)},getMfaStatus:function(e,t){var a="/users/mfa/status/";return e&&(a+=e),a+="?acr_values=".concat(t),d.get(a)},startFaceIdSession:function(e){return d.post("/users/mfa/face-id/start",e)},pollFaceIdSession:function(e){var t=e.sessionId,a=e.pushNotificationSessionId,s="/users/mfa/face-id/poll/".concat(t,"/").concat(a);return d.get(s)},startPushNotificationSession:function(e){return d.post("/users/mfa/push/start",e)},pollPushNotificationSession:function(e){var t=e.sessionId,a="/users/mfa/push/poll/".concat(t);return d.get(a)},generateQueryString:function(e){return e?Object.entries(e).map((function(e){var t=n()(e,2),a=t[0],s=t[1];return"".concat(a,"=").concat(s)})).join("&"):""},getUser:function(e){return d.get("/users/".concat(e))},resetMfa:function(e,t){return d.post("/users/".concat(t,"/mfa/reset"),e)},adminResendVerificationEmail:function(e){return d.post("/users/".concat(e,"/resend-account-verification-link"))},getPasswordPolicyFromToken:function(e){return d.get("/selfservice/token/".concat(e,"/password-policy"))},getPasswordPolicy:function(e){return d.get("/organizations/".concat(e,"/password-policy"))},getPolicy:function(e,t){return"orgPolicy"===e?this.getPasswordPolicy(t):"tokenPolicy"===e?this.getPasswordPolicyFromToken(t):null},updatePasswordPolicy:function(e,t){return d.put("/organizations/".concat(e,"/password-policy"),t)},deleteOrgPasswordPolicy:function(e){return d.delete("/organizations/".concat(e,"/password-policy"))},registerAuthenticatorApp:function(e){var t=e.email;return d.post("/users/mfa/vendor-enrol",{email:t})},getMfaConfigStatus:function(e){return d.get("/users/mfa/config-status/".concat(e))}}},XBL0:function(e,t,a){"use strict";(function(e){var s=a("yXPU"),n=a.n(s),r=a("lSNA"),o=a.n(r),i=a("o0o1"),l=a.n(i),c=a("DUL6"),d=(a("vDqi"),a("+00W")),u=a.n(d),p=(a("jE9Z"),a("/eCE")),m=a("2kHQ"),g=a("17BF"),f=a("xV/H");function v(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function h(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?v(Object(a),!0).forEach((function(t){o()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):v(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var b={PWD:"pwd",OTP:"otp",FACE_ACTIVE:"urn:pcc:amr:face:active",FACE_PASSIVE:"urn:pcc:amr:face:passive",PUSH:"urn:pcc:amr:push"},y=[b.PWD,b.OTP,b.FACE_ACTIVE,b.FACE_PASSIVE,b.PUSH],w={deprecated:{PRIMARY_FACTOR:"1FA",SECONDARY_FACTOR_TOTP:"2FA:totp",MULTI_FACTOR_PWD_TOTP:"MFA:pwd:totp"},URN_PRIMARY_FACTOR:"urn:pcc:loa:1fa",URN_SECONDARY_FACTOR:"urn:pcc:loa:2fa",URN_PWD_FACTOR:"urn:pcc:loa:pwd",URN_TOTP_FACTOR:"urn:pcc:loa:totp",URN_ACTIVE_FACE_FACTOR:"urn:pcc:loa:face:active",URN_PASSIVE_FACE_FACTOR:"urn:pcc:loa:face:passive",URN_PUSH_FACTOR:"urn:pcc:loa:push"};function x(e){window.parent&&window.parent.postMessage({action:e},{targetOrigin:"*"})}function C(e){var t,a=e.mfa,s=e.store,n=e.gotoUrl,r=e.router,o=n?{goto:n}:{},i=!(null!==(t=a.authMethodsRemaining)&&void 0!==t&&t.includes(b.PWD));if(a.activatedFactors.length>0){s.commit("mfaContext/setToken",a.token),s.commit("mfaContext/setFactorName",a.activatedFactors[0].name);var l=h({},{name:"MfaVerification",query:o});i&&r.push(l)}else if(a.availableFactors.length>0){s.commit("mfaContext/setToken",a.token),s.commit("mfaContext/setFactorName",a.availableFactors[0].name);var c=h({},{name:"MfaSetup",query:o});i&&(x("iam-mfa-setup-started"),r.push(c))}}function _(){return(_=n()(l.a.mark((function e(t){var a,s,n,r,o,i,c,d;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.facadeInstance,s=t.gotoUrl,n=t.currentUsername,r=t.done,o={authId:"",forgotPasswordLink:""},""!==n&&(i=s,c=!1,""!==(s||"").trim()&&((d=new URL(u.a.decode(s))).searchParams.has("authId")&&(o.authId=d.searchParams.get("authId")),d.searchParams.has("username")&&d.searchParams.get("username")!==n&&(d.searchParams.set("username",n),c=!0),c&&(i=u.a.encode(d.toString()),window.location.hash=window.location.hash.replace(/[?&]goto=([^&]*)/,"?goto=".concat(i)))),a.post("/users/check-federation",{username:n,relayState:i}).then((function(e){var t=e.data;if(!t)throw new Error("Incorrect response");!0===t.federated?window.location.replace(t.idpUrl):r(t)})).catch((function(){r(o)}))),e.abrupt("return",o);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(){return S=n()(l.a.mark((function e(t){var a,s,r,o,i,d,v,b,y,w,x,_,S,k;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.facadeInstance,s=t.username,r=t.password,o=t.authId,i=t.appName,d=t.acrValues,v=t.gotoUrl,b=t.routeToDashboard,y=t.storeUserAccessPrivileges,w=t.store,x=t.router,_=t.root,S=t.onError,k={},e.next=4,a.post("login",{username:s,password:r,context:{appName:i,authId:o,acrValues:d}}).then(function(){var e=n()(l.a.mark((function e(t){var s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p.a.initPendo(t.data.username,t.data.userId),c.a.setUser({id:t.data.userId,name:t.data.username}),e.next=4,y(a);case 4:if(!t.data.mfa){e.next=8;break}return C({mfa:t.data.mfa,store:w,gotoUrl:v,router:x}),e.abrupt("return",!1);case 8:if(_.userStore.setUserIdAction(t.data.userId),!t.data||"PASSWORD_EXPIRED"!==t.data.softLock){e.next=15;break}return _.userStore.setPwdTokenAction(t.data.pwdToken),_.userStore.setUserNameAction(t.data.username),s=h(h({},{name:"ExpirePasswordReset"}),v&&{query:{goto:v}}),x.push(s),e.abrupt("return",!1);case 15:if(v&&(v=u.a.decode(v)),!_.uiUtils.checkRedirectDomain(v)){e.next=21;break}return e.next=19,a.get("users/me").then(function(){var e=n()(l.a.mark((function e(t){var s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m.a.updateAppsListInUserStore(t),e.next=3,g.a.methods.setGlobalContextAndProducts(t,!0);case 3:return s=e.sent,e.next=6,f.a.methods.storeUserAccessPrivileges(a);case 6:s&&(w.commit("globalContext/changeGlobalOrg",s),m.a.displayApplications()),t.data.tenantId&&m.a.setTenantId(t.data.tenantId),m.a.setProfileAction({userName:t.data.username,givenName:t.data.firstName,sn:t.data.lastName,mail:t.data.email,mobilePhoneNumber:t.data.mobilePhoneNumber,telephoneNumber:t.data.telephoneNumber,federated:t.data.federated}),m.a.setUserIdAction(t.data.userId),m.a.setAdminAction(t.data.pccAdmin),m.a.setImplementerAction(t.data.pccImplementer),p.a.initPendo(t.data.username,t.data.userId);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){}));case 19:return window.location.href=v,e.abrupt("return",!1);case 21:return k=v?{attemptedRedirect:!0}:{},e.abrupt("return",t.data.userId);case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(e){e&&b(k)})).catch((function(e){S(e)}));case 4:case"end":return e.stop()}}),e)}))),S.apply(this,arguments)}function k(e){var t,a=(null===(t=e.query)||void 0===t?void 0:t.goto)&&decodeURIComponent(e.query.goto);if(!a){var s=new URL(window.location.href);s.searchParams.get("goto")&&(a=decodeURIComponent(s.searchParams.get("goto")))}return a}function A(e){var t=k(e);return t?u.a.decode(t):""}function O(){var e="Cypress"in window&&"__mockUserAgentData__"in window?window.__mockUserAgentData__||{}:navigator.userAgentData||{};return"platform"in e&&"Android"===e.platform&&Array.isArray(e.brands)&&e.brands.filter((function(e){return"Chromium"===e.brand})).length>0}t.a={checkFederation:function(e){return _.apply(this,arguments)},login:function(e){return S.apply(this,arguments)},extractParamFromGoto:function(e,t){var a=A(t);if(a){var s=new URL(a);if(s.searchParams.get(e))return s.searchParams.get(e);if(s.hash.indexOf("?")>-1)return(s=new URL(s.hash.replace("#","http://".concat(s.hostname)))).searchParams.get(e)}return null},getGotoUrl:k,getDecodedGotoUrl:A,isInIFrame:function(){try{return!!window.frameElement||window.self!==window.top}catch(e){return!0}},postMessageToParent:x,handleMFAResponse:C,isPreLoginRoute:function(e){return["Login","StepUpAuthorize","MfaSetup","MfaVerification","Logout","PasswordReset"].includes(e.name)||!0===e.meta.hideToolbar},encodeGotoUrl:function(e){return u.a.encode(e)},isOtpFactor:function(e){var t=decodeURIComponent(e).split(" ");return t.includes(w.deprecated.SECONDARY_FACTOR_TOTP)||t.includes(w.deprecated.MULTI_FACTOR_PWD_TOTP)||t.includes(w.URN_SECONDARY_FACTOR)||t.includes(w.URN_TOTP_FACTOR)},isFaceIdFactor:function(e){var t=decodeURIComponent(e).split(" ");return t.includes(w.URN_ACTIVE_FACE_FACTOR)||t.includes(w.URN_PASSIVE_FACE_FACTOR)},isPushFactor:function(e){return decodeURIComponent(e).split(" ").includes(w.URN_PUSH_FACTOR)},amr:b,acr:w,amrSortOrder:y,shouldRedirectImmedicately:function(e){if("string"==typeof e&&""!==e.trim()){var t=new URL(e);if(t.searchParams.has("redirect_uri"))try{t=new URL(t.searchParams.get("redirect_uri"))}catch(e){}var a=!("http:"===t.protocol||"https:"===t.protocol);if(O()&&a)return!1}return!0}}}).call(this,a("HDXh").Buffer)},YnB1:function(e,t,a){},ZvQn:function(e,t,a){},"af/G":function(e,t,a){},b4gx:function(e,t,a){},b7Pt:function(e,t,a){},b9E0:function(e,t,a){},bvKr:function(e,t,a){},cHx3:function(e,t,a){"use strict";a.r(t);var s=a("Wgwc"),n=a.n(s),r=a("GVN3"),o=a.n(r),i=(a("Ds8A"),a("QgiU")),l=a.n(i);n.a.extend(o.a),n.a.extend(l.a),t.default=n.a},eo26:function(e,t,a){},erAf:function(e,t,a){},fqu7:function(e,t,a){},"hfN/":function(e,t,a){},hzwk:function(e,t,a){},iRKe:function(e,t,a){},iRMQ:function(e,t,a){},mTsO:function(e,t,a){},mkY0:function(e,t,a){},mlRp:function(e,t,a){},msIN:function(e,t,a){},ntkt:function(e,t,a){},qVCR:function(e,t){window.PccUsageAnalytics&&(window.PccUsageAnalytics.init=function(){if(PccUsageAnalytics.config){var e=(PccUsageAnalytics.config["user-id"]||"").toLowerCase(),t=(PccUsageAnalytics.config["account-id"]||"").toLowerCase(),a=PccUsageAnalytics.config["blacklisted-params-list"]||null,s=PccUsageAnalytics.config["additional-user-attributes"]||null,n=PccUsageAnalytics.config["common-custom-event-attributes"],r=!1;void 0!==PccUsageAnalytics.config["disable-guides"]&&!0===PccUsageAnalytics.config["disable-guides"]&&(r=!0),n&&(PccUsageAnalytics.commonEventAttributes=n);var o=PccUsageAnalytics.config["pendo-primary-subscription-id"]||null,i=PccUsageAnalytics.config["pendo-additional-subscription-ids"]||null;if(o){var l={};s&&(l=s),l.id=e;var c,d,u,p={};if(p.visitor=l,p.account={id:t},i&&i.length>=1&&(p.additionalApiKeys=i),a&&a.length>=1){var m=a.join("|"),g=new RegExp("(&)(".concat(m,")(=)([^&#]*)"),"gi"),f=function(e,t,a){return""};p.sanitizeUrl=function(e){var t=e.indexOf("?");if(-1===t)return e;var a=e.substr(0,t),s="&".concat(e.substr(t+1)).replace(g,f);return s.length>1&&(a+="?".concat(s.substr(1))),a}}r&&(p.disableGuides=!0),c=o,function(e,t,a,s,n){var r,o,i,l,d;for((n=e[s]=e[s]||{})._q=[],o=0,i=(r=["initialize","identify","updateOptions","pageLoad"]).length;o<i;++o)!function(e){n[e]=n[e]||function(){n._q[e===r[0]?"unshift":"push"]([e].concat([].slice.call(arguments,0)))}}(r[o]);(l=t.createElement(a)).async=!0,l.src="https://cdn.pendo.io/agent/static/".concat(c,"/pendo.js"),(d=t.getElementsByTagName(a)[0]).parentNode.insertBefore(l,d)}(window,document,"script","pendo"),pendo.initialize(p),d=0,u=setInterval((function(){if(d++,"undefined"!=typeof pendo&&"function"==typeof pendo.track)for(clearInterval(u);PccUsageAnalytics.queuedEvents.length>0;){var e=PccUsageAnalytics.queuedEvents.shift(),t=e.eventName,a=e.eventAttributes;pendo.track(t,PccUsageAnalytics.mergeAttributes(PccUsageAnalytics.commonEventAttributes,a))}d>=10&&clearInterval(u)}),250)}}},function(){var e=PccUsageAnalytics.trackEvent;function t(){return!("complete"!==document.readyState||"undefined"==typeof pendo||"function"!=typeof pendo.stopGuides||"function"!=typeof pendo.isReady||!pendo.isReady()||"function"!=typeof pendo.setGuidesDisabled)}PccUsageAnalytics.trackEvent=function(t,a){"undefined"!=typeof pendo&&"function"==typeof pendo.track?pendo.track(t,PccUsageAnalytics.mergeAttributes(PccUsageAnalytics.commonEventAttributes,a)):PccUsageAnalytics.queuedEvents.push({eventName:t,eventAttributes:a}),e(t,a)},PccUsageAnalytics.updateMetadata=function(e){"undefined"!=typeof pendo&&"function"==typeof pendo.updateOptions&&pendo.updateOptions({visitor:e})};var a=0;function s(){a++,t()&&(clearInterval(invokePendoStopGuidesWhenReadyInterval),pendo.setGuidesDisabled(!0),pendo.stopGuides()),a>=120&&clearInterval(invokePendoStopGuidesWhenReadyInterval)}PccUsageAnalytics.stopGuides=function(){invokePendoStopGuidesWhenReadyInterval=setInterval(s,250)};var n=0;function r(){n++,t()&&(clearInterval(invokePendoLoadGuidesWhenReadyInterval),pendo.setGuidesDisabled(!1),pendo.loadGuides()),n>=15&&clearInterval(invokePendoLoadGuidesWhenReadyInterval)}PccUsageAnalytics.loadGuides=function(){invokePendoLoadGuidesWhenReadyInterval=setInterval(r,250)}}())},"rDG/":function(e,t,a){},sJct:function(e,t,a){},sQfG:function(e,t,a){},"sT+x":function(e,t,a){},sXia:function(e,t,a){},"si/4":function(e,t,a){},uto7:function(e,t,a){},"vVF/":function(e,t,a){"use strict";t.a={redirectDomains:[],environment:"",getRedirectDomains:function(){return this.redirectDomains},setRedirectDomains:function(e){this.redirectDomains=e},getEnvironment:function(){return this.environment},setEnvironment:function(e){this.environment=e},checkRedirectDomain:function(e){if(!e)return!1;var t=!1,a=null;try{a=new URL(e)}catch(e){a=null}return null!==a&&window.location.host===a.host?t=!0:this.redirectDomains.forEach((function(a){var s=a.includes("localhost")?"(http|https)":"https",n=a.replace(/\./g,"\\."),r=new RegExp("^".concat(s,"://(.*\\.)?").concat(n,"(/.*)?"));t=null!=e.match(r)||t})),t}}},vlLb:function(e,t,a){},wewv:function(e,t,a){},wmHx:function(e,t,a){},"xV/H":function(e,t,a){"use strict";var s=a("yXPU"),n=a.n(s),r=a("o0o1"),o=a.n(r),i=a("KjP6"),l=a("2kHQ"),c=a("Twh7");function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.a;return t.state.pccAdmin||t.state.pccImplementer||void 0!==c.a.getAuthorizationMap()&&c.a.getAuthorizationMap().authorizedAction(e)}var u={name:"AuthorizationPrivilegesMixin",methods:{isActionAllowed:d,storeUserAccessPrivileges:function(e){var t=this;return n()(o.a.mark((function a(){return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.get("/authorizations").then((function(e){var a=e.data;return t.storePrivileges(a.privileges,a.actions),!0})).catch((function(){return t.storePrivileges({},{}),!1}));case 2:case"end":return a.stop()}}),a)})))()},storePrivileges:function(e,t){var a={authorizationMap:{}};a.authorizationMap.privileges=e,a.authorizationMap.actions=t;var s=Object(i.a)(a);c.a.setAuthorizationMap(s)}}},p=a("JFUb");a.d(t,"b",(function(){return d}));var m=Object(p.a)(u,undefined,undefined,!1,null,null,null);t.a=m.exports},xf8Y:function(e,t,a){},yvsD:function(e,t,a){},ztzO:function(e,t,a){}},[["Vtdi","runtime","vendor"]]]);